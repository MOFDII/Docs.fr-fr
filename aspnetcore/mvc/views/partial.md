---
title: Vues partielles
author: ardalis
description: "À l’aide de vues partielles dans ASP.NET MVC de base"
ms.author: riande
manager: wpickett
ms.date: 03/14/2017
ms.topic: article
ms.technology: aspnet
ms.prod: asp.net-core
uid: mvc/views/partial
ms.openlocfilehash: e5c8aac855a1f4ec4c6f08087dbe77f6820cc506
ms.sourcegitcommit: 3e303620a125325bb9abd4b2d315c106fb8c47fd
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/19/2018
---
# <a name="partial-views"></a><span data-ttu-id="2f758-103">Vues partielles</span><span class="sxs-lookup"><span data-stu-id="2f758-103">Partial Views</span></span>

<span data-ttu-id="2f758-104">Par [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), et [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="2f758-104">By [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), and [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="2f758-105">Base d’ASP.NET MVC prend en charge les vues partielles sont utiles lorsque vous avez réutilisables pour des pages web que vous souhaitez partager entre différentes vues.</span><span class="sxs-lookup"><span data-stu-id="2f758-105">ASP.NET Core MVC supports partial views, which are useful when you have reusable parts of web pages you want to share between different views.</span></span>

<span data-ttu-id="2f758-106">[Affichez ou téléchargez l’exemple de code](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([procédure de téléchargement](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="2f758-106">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="what-are-partial-views"></a><span data-ttu-id="2f758-107">Quelles sont les vues partielles ?</span><span class="sxs-lookup"><span data-stu-id="2f758-107">What are Partial Views?</span></span>

<span data-ttu-id="2f758-108">Une vue partielle est une vue qui est rendue dans une autre vue.</span><span class="sxs-lookup"><span data-stu-id="2f758-108">A partial view is a view that is rendered within another view.</span></span> <span data-ttu-id="2f758-109">La sortie HTML générée par l’exécution de la vue partielle est restituée dans la vue appelante (ou parent).</span><span class="sxs-lookup"><span data-stu-id="2f758-109">The HTML output generated by executing the partial view is rendered into the calling (or parent) view.</span></span> <span data-ttu-id="2f758-110">Comme les vues, les vues partielles utilisent le *.cshtml* extension de fichier.</span><span class="sxs-lookup"><span data-stu-id="2f758-110">Like views, partial views use the *.cshtml* file extension.</span></span>

## <a name="when-should-i-use-partial-views"></a><span data-ttu-id="2f758-111">Quand dois-je utiliser les vues partielles ?</span><span class="sxs-lookup"><span data-stu-id="2f758-111">When Should I Use Partial Views?</span></span>

<span data-ttu-id="2f758-112">Les vues partielles sont un moyen efficace de la rupture des vues de grande taille en éléments plus petits.</span><span class="sxs-lookup"><span data-stu-id="2f758-112">Partial views are an effective way of breaking up large views into smaller components.</span></span> <span data-ttu-id="2f758-113">Ils peuvent réduire la duplication d’afficher le contenu et permettent d’afficher les éléments être réutilisées.</span><span class="sxs-lookup"><span data-stu-id="2f758-113">They can reduce duplication of view content and allow view elements to be reused.</span></span> <span data-ttu-id="2f758-114">Les éléments de disposition commune doivent être spécifiés dans [_Layout.cshtml](layout.md).</span><span class="sxs-lookup"><span data-stu-id="2f758-114">Common layout elements should be specified in [_Layout.cshtml](layout.md).</span></span> <span data-ttu-id="2f758-115">Contenu réutilisable non peut être encapsulé dans les vues partielles.</span><span class="sxs-lookup"><span data-stu-id="2f758-115">Non-layout reusable content can be encapsulated into partial views.</span></span>

<span data-ttu-id="2f758-116">Si vous avez une page complexe composée de plusieurs parties logiques, il peut être utile travailler avec chaque élément en tant que sa propre vue partielle.</span><span class="sxs-lookup"><span data-stu-id="2f758-116">If you have a complex page made up of several logical pieces, it can be helpful to work with each piece as its own partial view.</span></span> <span data-ttu-id="2f758-117">Chaque élément de la page peut être affiché en les isolant du reste de la page, et l’affichage de la page elle-même devient beaucoup plus simple, car il contient uniquement la structure de page et les appels pour afficher les vues partielles globale.</span><span class="sxs-lookup"><span data-stu-id="2f758-117">Each piece of the page can be viewed in isolation from the rest of the page, and the view for the page itself becomes much simpler since it only contains the overall page structure and calls to render the partial views.</span></span>

<span data-ttu-id="2f758-118">Conseil : Suivez le [ne répétez vous-même principe](http://deviq.com/don-t-repeat-yourself/) dans les vues.</span><span class="sxs-lookup"><span data-stu-id="2f758-118">Tip: Follow the [Don't Repeat Yourself Principle](http://deviq.com/don-t-repeat-yourself/) in your views.</span></span>

## <a name="declaring-partial-views"></a><span data-ttu-id="2f758-119">Déclarer des vues partielles</span><span class="sxs-lookup"><span data-stu-id="2f758-119">Declaring Partial Views</span></span>

<span data-ttu-id="2f758-120">Les vues partielles sont créés comme toute autre vue : vous créez un *.cshtml* fichier inclus dans le *vues* dossier.</span><span class="sxs-lookup"><span data-stu-id="2f758-120">Partial views are created like any other view: you create a *.cshtml* file within the *Views* folder.</span></span> <span data-ttu-id="2f758-121">Il n’existe aucune différence de sémantique entre une vue partielle et un affichage normal : ils sont rendus simplement différemment.</span><span class="sxs-lookup"><span data-stu-id="2f758-121">There is no semantic difference between a partial view and a regular view - they are just rendered differently.</span></span> <span data-ttu-id="2f758-122">Vous pouvez avoir une vue qui est retournée directement à partir d’un contrôleur de `ViewResult`, et la vue peut être utilisée comme une vue partielle.</span><span class="sxs-lookup"><span data-stu-id="2f758-122">You can have a view that is returned directly from a controller's `ViewResult`, and the same view can be used as a partial view.</span></span> <span data-ttu-id="2f758-123">La principale différence entre le mode de rendu une vue et une vue partielle est que les vues partielles n’exécutent pas *_ViewStart.cshtml* (alors que les vues faire - en savoir plus sur *_ViewStart.cshtml* dans [mise en page ](layout.md)).</span><span class="sxs-lookup"><span data-stu-id="2f758-123">The main difference between how a view and a partial view are rendered is that partial views do not run *_ViewStart.cshtml* (while views do - learn more about *_ViewStart.cshtml* in [Layout](layout.md)).</span></span>

## <a name="referencing-a-partial-view"></a><span data-ttu-id="2f758-124">Faisant référence à une vue partielle</span><span class="sxs-lookup"><span data-stu-id="2f758-124">Referencing a Partial View</span></span>

<span data-ttu-id="2f758-125">À partir d’une page de vue, il existe plusieurs façons dans laquelle vous pouvez restituer une vue partielle.</span><span class="sxs-lookup"><span data-stu-id="2f758-125">From within a view page, there are several ways in which you can render a partial view.</span></span> <span data-ttu-id="2f758-126">Est la plus simple d’utiliser `Html.Partial`, qui retourne un `IHtmlString` et peuvent être référencées en faisant précéder l’appel avec `@`:</span><span class="sxs-lookup"><span data-stu-id="2f758-126">The simplest is to use `Html.Partial`, which returns an `IHtmlString` and can be referenced by prefixing the call with `@`:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=9)]

<span data-ttu-id="2f758-127">Le `PartialAsync` méthode n’est disponible pour partielle vues contenant du code asynchrone (bien que le code dans les vues est généralement déconseillée) :</span><span class="sxs-lookup"><span data-stu-id="2f758-127">The `PartialAsync` method is available for partial views containing asynchronous code (although code in views is generally discouraged):</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=8)]

<span data-ttu-id="2f758-128">Vous pouvez restituer une vue partielle avec `RenderPartial`.</span><span class="sxs-lookup"><span data-stu-id="2f758-128">You can render a partial view with `RenderPartial`.</span></span> <span data-ttu-id="2f758-129">Cette méthode ne renvoie aucun résultat ; il diffuse en continu la sortie rendue directement à la réponse.</span><span class="sxs-lookup"><span data-stu-id="2f758-129">This method doesn't return a result; it streams the rendered output directly to the response.</span></span> <span data-ttu-id="2f758-130">Car il ne renvoie aucun résultat, il doit être appelé dans un bloc de code Razor (vous pouvez également appeler `RenderPartialAsync` si nécessaire) :</span><span class="sxs-lookup"><span data-stu-id="2f758-130">Because it doesn't return a result, it must be called within a Razor code block (you can also call `RenderPartialAsync` if necessary):</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=10-12)]

<span data-ttu-id="2f758-131">Car il diffuse le résultat directement, `RenderPartial` et `RenderPartialAsync` peut donner de meilleurs résultats dans certains scénarios.</span><span class="sxs-lookup"><span data-stu-id="2f758-131">Because it streams the result directly, `RenderPartial` and `RenderPartialAsync` may perform better in some scenarios.</span></span> <span data-ttu-id="2f758-132">Toutefois, dans la plupart des cas, il est recommandé de vous utiliser `Partial` et `PartialAsync`.</span><span class="sxs-lookup"><span data-stu-id="2f758-132">However, in most cases it's recommended you use `Partial` and `PartialAsync`.</span></span>

> [!NOTE]
> <span data-ttu-id="2f758-133">Si vos vues avez besoin d’exécuter du code, le modèle recommandé consiste à utiliser un [composant de vue](view-components.md) au lieu d’une vue partielle.</span><span class="sxs-lookup"><span data-stu-id="2f758-133">If your views need to execute code, the recommended pattern is to use a [view component](view-components.md) instead of a partial view.</span></span>

### <a name="partial-view-discovery"></a><span data-ttu-id="2f758-134">Détection de la vue partielle</span><span class="sxs-lookup"><span data-stu-id="2f758-134">Partial View Discovery</span></span>

<span data-ttu-id="2f758-135">Lorsque vous référencez une vue partielle, vous pouvez faire référence à son emplacement de plusieurs façons :</span><span class="sxs-lookup"><span data-stu-id="2f758-135">When referencing a partial view, you can refer to its location in several ways:</span></span>

```text
// Uses a view in current folder with this name
// If none is found, searches the Shared folder
@Html.Partial("ViewName")

// A view with this name must be in the same folder
@Html.Partial("ViewName.cshtml")

// Locate the view based on the application root
// Paths that start with "/" or "~/" refer to the application root
@Html.Partial("~/Views/Folder/ViewName.cshtml")
@Html.Partial("/Views/Folder/ViewName.cshtml")

// Locate the view using relative paths
@Html.Partial("../Account/LoginPartial.cshtml")
```

<span data-ttu-id="2f758-136">Vous pouvez avoir différentes vues partielles portant le même nom dans les dossiers d’affichage différent.</span><span class="sxs-lookup"><span data-stu-id="2f758-136">You can have different partial views with the same name in different view folders.</span></span> <span data-ttu-id="2f758-137">Lorsque vous référencez les vues par nom (sans extension de fichier), des vues dans chaque dossier utilisera la vue partielle dans le même dossier avec eux.</span><span class="sxs-lookup"><span data-stu-id="2f758-137">When referencing the views by name (without file extension), views in each folder will use the partial view in the same folder with them.</span></span> <span data-ttu-id="2f758-138">Vous pouvez également spécifier une vue partielle de la valeur par défaut à utiliser, placé dans le *Shared* dossier.</span><span class="sxs-lookup"><span data-stu-id="2f758-138">You can also specify a default partial view to use, placing it in the *Shared* folder.</span></span> <span data-ttu-id="2f758-139">La vue partielle partagée est utilisée par toutes les vues qui n’ont pas leur propre version de la vue partielle.</span><span class="sxs-lookup"><span data-stu-id="2f758-139">The shared partial view will be used by any views that don't have their own version of the partial view.</span></span> <span data-ttu-id="2f758-140">Vous pouvez avoir une vue partielle par défaut (dans *Shared*), qui est remplacé par une vue partielle portant le même nom dans le même dossier que la vue parent.</span><span class="sxs-lookup"><span data-stu-id="2f758-140">You can have a default partial view (in *Shared*), which is overridden by a partial view with the same name in the same folder as the parent view.</span></span>

<span data-ttu-id="2f758-141">Les vues partielles peuvent être *chaînés*.</span><span class="sxs-lookup"><span data-stu-id="2f758-141">Partial views can be *chained*.</span></span> <span data-ttu-id="2f758-142">Autrement dit, une vue partielle peut appeler une autre vue partielle (tant que vous ne créez pas une boucle).</span><span class="sxs-lookup"><span data-stu-id="2f758-142">That is, a partial view can call another partial view (as long as you don't create a loop).</span></span> <span data-ttu-id="2f758-143">Dans chaque vue ou une vue partielle, les chemins d’accès relatifs sont toujours par rapport à cette vue de la vue, et pas à la racine ou un parent.</span><span class="sxs-lookup"><span data-stu-id="2f758-143">Within each view or partial view, relative paths are always relative to that view, not the root or parent view.</span></span>

> [!NOTE]
> <span data-ttu-id="2f758-144">Si vous déclarez un [Razor](razor.md) `section` dans une vue partielle, il ne sera pas visible pour ses parents ; il se limite à la vue partielle.</span><span class="sxs-lookup"><span data-stu-id="2f758-144">If you declare a [Razor](razor.md) `section` in a partial view, it will not be visible to its parent(s); it will be limited to the partial view.</span></span>

## <a name="accessing-data-from-partial-views"></a><span data-ttu-id="2f758-145">L’accès aux données à partir de vues partielles</span><span class="sxs-lookup"><span data-stu-id="2f758-145">Accessing Data From Partial Views</span></span>

<span data-ttu-id="2f758-146">Lorsqu’une vue partielle est instanciée, elle obtient une copie de la vue parent `ViewData` dictionnaire.</span><span class="sxs-lookup"><span data-stu-id="2f758-146">When a partial view is instantiated, it gets a copy of the parent view's `ViewData` dictionary.</span></span> <span data-ttu-id="2f758-147">Mises à jour apportées aux données dans la vue partielle ne sont pas conservés à la vue parent.</span><span class="sxs-lookup"><span data-stu-id="2f758-147">Updates made to the data within the partial view are not persisted to the parent view.</span></span> <span data-ttu-id="2f758-148">`ViewData`modifié dans un partiel vue est perdue lorsque la vue partielle est retournée.</span><span class="sxs-lookup"><span data-stu-id="2f758-148">`ViewData` changed in a partial view is lost when the partial view returns.</span></span>

<span data-ttu-id="2f758-149">Vous pouvez passer une instance de `ViewDataDictionary` à la vue partielle :</span><span class="sxs-lookup"><span data-stu-id="2f758-149">You can pass an instance of `ViewDataDictionary` to the partial view:</span></span>

```csharp
@Html.Partial("PartialName", customViewData)
   ```

<span data-ttu-id="2f758-150">Vous pouvez également passer un modèle dans une vue partielle.</span><span class="sxs-lookup"><span data-stu-id="2f758-150">You can also pass a model into a partial view.</span></span> <span data-ttu-id="2f758-151">Cela peut être le modèle d’affichage de la page, ou une partie de celui-ci ou un objet personnalisé.</span><span class="sxs-lookup"><span data-stu-id="2f758-151">This can be the page's view model, or some portion of it, or a custom object.</span></span> <span data-ttu-id="2f758-152">Vous pouvez passer à un modèle à `Partial`,`PartialAsync`, `RenderPartial`, ou `RenderPartialAsync`:</span><span class="sxs-lookup"><span data-stu-id="2f758-152">You can pass a model to `Partial`,`PartialAsync`, `RenderPartial`, or `RenderPartialAsync`:</span></span>

```csharp
@Html.Partial("PartialName", viewModel)
   ```

<span data-ttu-id="2f758-153">Vous pouvez passer une instance de `ViewDataDictionary` et un modèle d’affichage pour une vue partielle :</span><span class="sxs-lookup"><span data-stu-id="2f758-153">You can pass an instance of `ViewDataDictionary` and a view model to a partial view:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml?range=15-16)]

<span data-ttu-id="2f758-154">Le balisage suivant illustre la *Views/Articles/Read.cshtml* vue qui contient deux vues partielles.</span><span class="sxs-lookup"><span data-stu-id="2f758-154">The markup below shows the *Views/Articles/Read.cshtml* view which contains two partial views.</span></span> <span data-ttu-id="2f758-155">La vue partielle deuxième passe dans un modèle et `ViewData` à la vue partielle.</span><span class="sxs-lookup"><span data-stu-id="2f758-155">The second partial view passes in a model and `ViewData` to the partial view.</span></span> <span data-ttu-id="2f758-156">Vous pouvez passer de nouveaux `ViewData` dictionnaire tout en conservant existants `ViewData` si vous utilisez la surcharge de constructeur de la `ViewDataDictionary` en surbrillance ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="2f758-156">You can pass new `ViewData` dictionary while retaining the existing `ViewData` if you use the constructor overload of the `ViewDataDictionary` highlighted below:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml)]

<span data-ttu-id="2f758-157">*Vues/Shared/AuthorPartial*:</span><span class="sxs-lookup"><span data-stu-id="2f758-157">*Views/Shared/AuthorPartial*:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Shared/AuthorPartial.cshtml)]

<span data-ttu-id="2f758-158">Le *ArticleSection* partielle :</span><span class="sxs-lookup"><span data-stu-id="2f758-158">The *ArticleSection* partial:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/ArticleSection.cshtml)]

<span data-ttu-id="2f758-159">Lors de l’exécution, en les gérez est rendus dans la vue parent, qui elle-même est affiché dans le partagé *_Layout.cshtml*</span><span class="sxs-lookup"><span data-stu-id="2f758-159">At runtime, the partials are rendered into the parent view, which itself is rendered within the shared *_Layout.cshtml*</span></span>

![sortie de la vue partielle](partial/_static/output.png)
