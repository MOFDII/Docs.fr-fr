---
title: Vues partielles dans ASP.NET Core
author: ardalis
description: Découvrez ce qu’est une vue partielle, une vue rendue dans une autre vue, et quand l’utiliser dans les applications ASP.NET Core.
manager: wpickett
ms.author: riande
ms.date: 03/14/2018
ms.prod: asp.net-core
ms.technology: aspnet
ms.topic: article
uid: mvc/views/partial
ms.openlocfilehash: 3deaaeb666e5443d0784f2ac6977e58e1b25d711
ms.sourcegitcommit: 71b93b42cbce8a9b1a12c4d88391e75a4dfb6162
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/20/2018
---
# <a name="partial-views-in-aspnet-core"></a><span data-ttu-id="4f5e2-103">Vues partielles dans ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="4f5e2-103">Partial Views in ASP.NET Core</span></span>

<span data-ttu-id="4f5e2-104">Par [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), [Rick Anderson](https://twitter.com/RickAndMSFT) et [Scott Sauber](https://twitter.com/scottsauber)</span><span class="sxs-lookup"><span data-stu-id="4f5e2-104">By [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), [Rick Anderson](https://twitter.com/RickAndMSFT), and [Scott Sauber](https://twitter.com/scottsauber)</span></span>

<span data-ttu-id="4f5e2-105">ASP.NET Core MVC prend en charge les vues partielles. Celles-ci sont utiles quand vous avez des parties réutilisables de pages web que vous souhaitez partager entre différentes vues.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-105">ASP.NET Core MVC supports partial views, which are useful when you have reusable parts of web pages you want to share between different views.</span></span>

<span data-ttu-id="4f5e2-106">[Affichez ou téléchargez l’exemple de code](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([procédure de téléchargement](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="4f5e2-106">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="what-are-partial-views"></a><span data-ttu-id="4f5e2-107">Que sont les vues partielles ?</span><span class="sxs-lookup"><span data-stu-id="4f5e2-107">What are Partial Views?</span></span>

<span data-ttu-id="4f5e2-108">Une vue partielle est une vue affichée dans une autre vue.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-108">A partial view is a view that's rendered within another view.</span></span> <span data-ttu-id="4f5e2-109">La sortie HTML générée par l’exécution de la vue partielle est affichée dans la vue appelante (ou parente).</span><span class="sxs-lookup"><span data-stu-id="4f5e2-109">The HTML output generated by executing the partial view is rendered into the calling (or parent) view.</span></span> <span data-ttu-id="4f5e2-110">Tout comme les vues, les vues partielles utilisent l’extension de fichier *.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-110">Like views, partial views use the *.cshtml* file extension.</span></span>

## <a name="when-should-i-use-partial-views"></a><span data-ttu-id="4f5e2-111">Quand dois-je utiliser des vues partielles ?</span><span class="sxs-lookup"><span data-stu-id="4f5e2-111">When Should I Use Partial Views?</span></span>

<span data-ttu-id="4f5e2-112">Les vues partielles sont un moyen efficace de découper des vues volumineuses en composants plus petits.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-112">Partial views are an effective way of breaking up large views into smaller components.</span></span> <span data-ttu-id="4f5e2-113">Elles permettent de réduire la duplication du contenu d’une vue et de réutiliser les éléments des vues.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-113">They can reduce duplication of view content and allow view elements to be reused.</span></span> <span data-ttu-id="4f5e2-114">Les éléments de disposition communs doivent être spécifiés dans [_Layout.cshtml](layout.md).</span><span class="sxs-lookup"><span data-stu-id="4f5e2-114">Common layout elements should be specified in [_Layout.cshtml](layout.md).</span></span> <span data-ttu-id="4f5e2-115">Le contenu réutilisable non lié à une disposition peut être encapsulé dans des vues partielles.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-115">Non-layout reusable content can be encapsulated into partial views.</span></span>

<span data-ttu-id="4f5e2-116">Si vous avez une page complexe composée de plusieurs parties logiques, il peut s’avérer utile d’utiliser chaque partie en tant que vue partielle.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-116">If you have a complex page made up of several logical pieces, it can be helpful to work with each piece as its own partial view.</span></span> <span data-ttu-id="4f5e2-117">Chaque partie de la page peut être vue séparément du reste de la page. La vue de la page elle-même devient beaucoup plus simple, car elle contient uniquement la structure globale de la page et les appels pour afficher les vues partielles.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-117">Each piece of the page can be viewed in isolation from the rest of the page, and the view for the page itself becomes much simpler since it only contains the overall page structure and calls to render the partial views.</span></span>

<span data-ttu-id="4f5e2-118">Conseil : Suivez le [principe DRY (Ne vous répétez pas)](http://deviq.com/don-t-repeat-yourself/) dans vos vues.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-118">Tip: Follow the [Don't Repeat Yourself Principle](http://deviq.com/don-t-repeat-yourself/) in your views.</span></span>

## <a name="declaring-partial-views"></a><span data-ttu-id="4f5e2-119">Déclaration de vues partielles</span><span class="sxs-lookup"><span data-stu-id="4f5e2-119">Declaring Partial Views</span></span>

<span data-ttu-id="4f5e2-120">Vous créez les vues partielles comme les autres vues : vous créez un fichier *.cshtml* dans le dossier *Vues*.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-120">Partial views are created like any other view: you create a *.cshtml* file within the *Views* folder.</span></span> <span data-ttu-id="4f5e2-121">Il n’existe aucune différence sémantique entre une vue partielle et une vue classique, elles sont simplement affichées différemment.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-121">There's no semantic difference between a partial view and a regular view - they're just rendered differently.</span></span> <span data-ttu-id="4f5e2-122">Une vue peut être retournée directement depuis le `ViewResult` d’un contrôleur. Cette même vue peut être utilisée comme vue partielle.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-122">You can have a view that's returned directly from a controller's `ViewResult`, and the same view can be used as a partial view.</span></span> <span data-ttu-id="4f5e2-123">La principale différence entre le rendu d’une vue et celui d’une vue partielle est que les vues partielles n’exécutent pas *_ViewStart.cshtml* (contrairement aux vues). Pour plus d’informations sur *_ViewStart.cshtml*, consultez [Disposition](layout.md).</span><span class="sxs-lookup"><span data-stu-id="4f5e2-123">The main difference between how a view and a partial view are rendered is that partial views don't run *_ViewStart.cshtml* (while views do - learn more about *_ViewStart.cshtml* in [Layout](layout.md)).</span></span>

## <a name="referencing-a-partial-view"></a><span data-ttu-id="4f5e2-124">Référencement d’une vue partielle</span><span class="sxs-lookup"><span data-stu-id="4f5e2-124">Referencing a Partial View</span></span>

<span data-ttu-id="4f5e2-125">À partir d’une page de vue, vous pouvez afficher une vue partielle de plusieurs manières.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-125">From within a view page, there are several ways in which you can render a partial view.</span></span> <span data-ttu-id="4f5e2-126">Une bonne pratique consiste à utiliser `Html.PartialAsync`, qui retourne `IHtmlString` et qui peut être référencé en faisant précéder l’appel de `@` :</span><span class="sxs-lookup"><span data-stu-id="4f5e2-126">The best practice is to use `Html.PartialAsync`, which returns an `IHtmlString` and can be referenced by prefixing the call with `@`:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=8)]

<span data-ttu-id="4f5e2-127">Vous pouvez afficher une vue partielle avec `RenderPartialAsync`.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-127">You can render a partial view with `RenderPartialAsync`.</span></span> <span data-ttu-id="4f5e2-128">Cette méthode ne retourne aucun résultat. Elle effectue un streaming de la sortie affichée directement vers la réponse.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-128">This method doesn't return a result; it streams the rendered output directly to the response.</span></span> <span data-ttu-id="4f5e2-129">Comme elle ne retourne aucun résultat, elle doit être appelée dans un bloc de code Razor :</span><span class="sxs-lookup"><span data-stu-id="4f5e2-129">Because it doesn't return a result, it must be called within a Razor code block:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=11-13)]

<span data-ttu-id="4f5e2-130">Dans la mesure où elle effectue directement un streaming du résultat, `RenderPartialAsync` peut être plus efficace dans certains scénarios.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-130">Because it streams the result directly, `RenderPartialAsync` may perform better in some scenarios.</span></span> <span data-ttu-id="4f5e2-131">Toutefois, il est recommandé d’utiliser `PartialAsync`.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-131">However, it's recommended you use `PartialAsync`.</span></span>

<span data-ttu-id="4f5e2-132">Bien qu’il existe des équivalents synchrones de `Html.PartialAsync` (`Html.Partial`) et de `Html.RenderPartialAsync` (`Html.RenderPartial`), leur utilisation n’est pas recommandée en raison du risque d’interblocage dans certains scénarios.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-132">While there are synchronous equivalents of `Html.PartialAsync` (`Html.Partial`) and `Html.RenderPartialAsync` (`Html.RenderPartial`), use of the synchronous equivalents isn't recommended because there are scenarios where they deadlock.</span></span> <span data-ttu-id="4f5e2-133">Les méthodes synchrones ne seront pas disponibles dans les futures versions.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-133">The synchronous methods will be unavailable in future versions.</span></span>

> [!NOTE]
> <span data-ttu-id="4f5e2-134">Si vos vues doivent exécuter du code, le modèle recommandé consiste à utiliser un [composant de vue](view-components.md) au lieu d’une vue partielle.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-134">If your views need to execute code, the recommended pattern is to use a [view component](view-components.md) instead of a partial view.</span></span>

### <a name="partial-view-discovery"></a><span data-ttu-id="4f5e2-135">Découverte des vues partielles</span><span class="sxs-lookup"><span data-stu-id="4f5e2-135">Partial View Discovery</span></span>

<span data-ttu-id="4f5e2-136">Quand vous référencez une vue partielle, vous pouvez faire référence à son emplacement de plusieurs façons :</span><span class="sxs-lookup"><span data-stu-id="4f5e2-136">When referencing a partial view, you can refer to its location in several ways:</span></span>

```cshtml
// Uses a view in current folder with this name
// If none is found, searches the Shared folder
@await Html.PartialAsync("ViewName")

// A view with this name must be in the same folder
@await Html.PartialAsync("ViewName.cshtml")

// Locate the view based on the application root
// Paths that start with "/" or "~/" refer to the application root
@await Html.PartialAsync("~/Views/Folder/ViewName.cshtml")
@await Html.PartialAsync("/Views/Folder/ViewName.cshtml")

// Locate the view using relative paths
@await Html.PartialAsync("../Account/LoginPartial.cshtml")
```

<span data-ttu-id="4f5e2-137">Vous pouvez avoir différentes vues partielles portant le même nom dans des dossiers de vues distincts.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-137">You can have different partial views with the same name in different view folders.</span></span> <span data-ttu-id="4f5e2-138">Quand vous référencez des vues par leur nom (sans extension de fichier), les vues de chaque dossier utilisent la vue partielle située dans le même dossier.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-138">When referencing the views by name (without file extension), views in each folder will use the partial view in the same folder with them.</span></span> <span data-ttu-id="4f5e2-139">Vous pouvez également spécifier une vue partielle par défaut à utiliser, en la plaçant dans le dossier *Partagé*.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-139">You can also specify a default partial view to use, placing it in the *Shared* folder.</span></span> <span data-ttu-id="4f5e2-140">La vue partielle partagée est utilisée par toutes les vues qui n’ont pas leur propre version de la vue partielle.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-140">The shared partial view will be used by any views that don't have their own version of the partial view.</span></span> <span data-ttu-id="4f5e2-141">Une vue partielle par défaut (dans *Partagé*) peut être remplacée par une vue partielle ayant le même nom dans le dossier de la vue parente.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-141">You can have a default partial view (in *Shared*), which is overridden by a partial view with the same name in the same folder as the parent view.</span></span>

<span data-ttu-id="4f5e2-142">Les vues partielles peuvent être *chaînées*.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-142">Partial views can be *chained*.</span></span> <span data-ttu-id="4f5e2-143">En d’autres termes, une vue partielle peut appeler une autre vue partielle (tant que vous ne créez pas de boucle).</span><span class="sxs-lookup"><span data-stu-id="4f5e2-143">That is, a partial view can call another partial view (as long as you don't create a loop).</span></span> <span data-ttu-id="4f5e2-144">Dans chaque vue ou vue partielle, les chemins relatifs sont toujours relatifs par rapport à cette vue, et non par rapport à la vue racine ou parente.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-144">Within each view or partial view, relative paths are always relative to that view, not the root or parent view.</span></span>

> [!NOTE]
> <span data-ttu-id="4f5e2-145">Si vous déclarez un `section` [Razor](razor.md) dans une vue partielle, il n’est pas visible pour ses parents. Il se limite à la vue partielle.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-145">If you declare a [Razor](razor.md) `section` in a partial view, it will not be visible to its parent(s); it will be limited to the partial view.</span></span>

## <a name="accessing-data-from-partial-views"></a><span data-ttu-id="4f5e2-146">Accès aux données à partir de vues partielles</span><span class="sxs-lookup"><span data-stu-id="4f5e2-146">Accessing Data From Partial Views</span></span>

<span data-ttu-id="4f5e2-147">Quand une vue partielle est instanciée, elle obtient une copie du dictionnaire de `ViewData` de la vue parente.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-147">When a partial view is instantiated, it gets a copy of the parent view's `ViewData` dictionary.</span></span> <span data-ttu-id="4f5e2-148">Les mises à jour apportées aux données de la vue partielle ne sont pas conservées dans la vue parente.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-148">Updates made to the data within the partial view are not persisted to the parent view.</span></span> <span data-ttu-id="4f5e2-149">Tout changement apporté à `ViewData` dans une vue partielle est perdu quand la vue partielle est retournée.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-149">`ViewData` changed in a partial view is lost when the partial view returns.</span></span>

<span data-ttu-id="4f5e2-150">Vous pouvez passer une instance de `ViewDataDictionary` à la vue partielle :</span><span class="sxs-lookup"><span data-stu-id="4f5e2-150">You can pass an instance of `ViewDataDictionary` to the partial view:</span></span>

```cshtml
@await Html.PartialAsync("PartialName", customViewData)
```

<span data-ttu-id="4f5e2-151">Vous pouvez également passer un modèle dans une vue partielle.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-151">You can also pass a model into a partial view.</span></span> <span data-ttu-id="4f5e2-152">Il peut s’agir du modèle de vue de la page ou d’un objet personnalisé.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-152">This can be the page's view model or a custom object.</span></span> <span data-ttu-id="4f5e2-153">Vous pouvez passer un modèle à `PartialAsync` ou `RenderPartialAsync` :</span><span class="sxs-lookup"><span data-stu-id="4f5e2-153">You can pass a model to `PartialAsync` or `RenderPartialAsync`:</span></span>

```cshtml
@await Html.PartialAsync("PartialName", viewModel)
```

<span data-ttu-id="4f5e2-154">Vous pouvez passer une instance de `ViewDataDictionary` et un modèle de vue à une vue partielle :</span><span class="sxs-lookup"><span data-stu-id="4f5e2-154">You can pass an instance of `ViewDataDictionary` and a view model to a partial view:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml?range=15-16)]

<span data-ttu-id="4f5e2-155">Le code ci-dessous montre la vue *Views/Articles/Read.cshtml*, qui contient deux vues partielles.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-155">The markup below shows the *Views/Articles/Read.cshtml* view which contains two partial views.</span></span> <span data-ttu-id="4f5e2-156">La seconde vue partielle passe un modèle et `ViewData` à la vue partielle.</span><span class="sxs-lookup"><span data-stu-id="4f5e2-156">The second partial view passes in a model and `ViewData` to the partial view.</span></span> <span data-ttu-id="4f5e2-157">Vous pouvez passer le nouveau dictionnaire de `ViewData` tout en conservant le `ViewData` existant, si vous utilisez la surcharge de constructeur du `ViewDataDictionary` mis en évidence ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="4f5e2-157">You can pass new `ViewData` dictionary while retaining the existing `ViewData` if you use the constructor overload of the `ViewDataDictionary` highlighted below:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml)]

<span data-ttu-id="4f5e2-158">*Views/Shared/AuthorPartial* :</span><span class="sxs-lookup"><span data-stu-id="4f5e2-158">*Views/Shared/AuthorPartial*:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Shared/AuthorPartial.cshtml)]

<span data-ttu-id="4f5e2-159">Le *ArticleSection* partiel :</span><span class="sxs-lookup"><span data-stu-id="4f5e2-159">The *ArticleSection* partial:</span></span>

[!code-cshtml[](partial/sample/src/PartialViewsSample/Views/Articles/ArticleSection.cshtml)]

<span data-ttu-id="4f5e2-160">Au moment de l’exécution, les vues partielles sont affichées dans la vue parente, elle-même affichée dans le fichier *_Layout.cshtml* partagé</span><span class="sxs-lookup"><span data-stu-id="4f5e2-160">At runtime, the partials are rendered into the parent view, which itself is rendered within the shared *_Layout.cshtml*</span></span>

![sortie de vue partielle](partial/_static/output.png)
