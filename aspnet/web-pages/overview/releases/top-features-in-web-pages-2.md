---
uid: web-pages/overview/releases/top-features-in-web-pages-2
title: La partie supérieure des fonctionnalités dans ASP.NET Web Pages 2 | Documents Microsoft
author: microsoft
description: Cette rubrique fournit une vue d’ensemble des nouvelles fonctionnalités dans ASP.NET Web Pages 2, une infrastructure de programmation web léger qui est incluse avec le WebMatr supérieure...
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/13/2012
ms.topic: article
ms.assetid: cc712e72-c3d0-4e43-bc2d-28cc09cd8f71
ms.technology: dotnet-webpages
ms.prod: .net-framework
msc.legacyurl: /web-pages/overview/releases/top-features-in-web-pages-2
msc.type: authoredcontent
ms.openlocfilehash: e8fc758936953970ff3e9ba289516925dee9ef45
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/10/2017
---
<a name="the-top-features-in-aspnet-web-pages-2"></a><span data-ttu-id="66759-103">Les fonctionnalités principales dans les Pages Web ASP.NET 2</span><span class="sxs-lookup"><span data-stu-id="66759-103">The Top Features in ASP.NET Web Pages 2</span></span>
====================
<span data-ttu-id="66759-104">par [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="66759-104">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="66759-105">Cet article fournit une vue d’ensemble des nouvelles fonctionnalités dans ASP.NET Web Pages 2 RC, une infrastructure de programmation web léger qui est incluse avec top [Microsoft WebMatrix 2 RC](https://www.microsoft.com/web/).</span><span class="sxs-lookup"><span data-stu-id="66759-105">This article provides an overview of the top new features in the ASP.NET Web Pages 2 RC, a lightweight web programming framework that is included with [Microsoft WebMatrix 2 RC](https://www.microsoft.com/web/).</span></span>
> 
> <span data-ttu-id="66759-106">**Ce qui est inclus :**</span><span class="sxs-lookup"><span data-stu-id="66759-106">**What's included:**</span></span> 
> 
> - [<span data-ttu-id="66759-107">Installation de WebMatrix</span><span class="sxs-lookup"><span data-stu-id="66759-107">Installing WebMatrix</span></span>](#install)
> - [<span data-ttu-id="66759-108">Fonctionnalités nouvelles et améliorées</span><span class="sxs-lookup"><span data-stu-id="66759-108">New and enhanced features</span></span>](#New_and_Enhanced_Features)
> 
>     - [<span data-ttu-id="66759-109">Modifications pour la version RC</span><span class="sxs-lookup"><span data-stu-id="66759-109">Changes for the RC release</span></span>](#Changes_for_the_RC_Version)
>     - [<span data-ttu-id="66759-110">Modifications apportées à la version bêta</span><span class="sxs-lookup"><span data-stu-id="66759-110">Changes for the Beta release</span></span>](#Changes_for_the_Beta_Version)
>     - [<span data-ttu-id="66759-111">L’aide des modèles de Site nouvelles et mises à jour</span><span class="sxs-lookup"><span data-stu-id="66759-111">Using the New and Updated Site Templates</span></span>](#templates)
>     - [<span data-ttu-id="66759-112">Validation des entrées utilisateur</span><span class="sxs-lookup"><span data-stu-id="66759-112">Validating User Input</span></span>](#validation)
>     - [<span data-ttu-id="66759-113">L’activation des connexions à partir de Facebook et d’autres sites à l’aide d’OAuth et OpenID</span><span class="sxs-lookup"><span data-stu-id="66759-113">Enabling logins from Facebook and other sites using OAuth and OpenID</span></span>](#oauthsetup)
>     - [<span data-ttu-id="66759-114">Ajout de mappages à l’aide de l’application d’assistance de mappages</span><span class="sxs-lookup"><span data-stu-id="66759-114">Adding Maps using the Maps Helper</span></span>](#maphelper)
>     - [<span data-ttu-id="66759-115">Exécution des Pages Web Applications côte à côte</span><span class="sxs-lookup"><span data-stu-id="66759-115">Running Web Pages Applications Side by Side</span></span>](#sidebyside)
>     - [<span data-ttu-id="66759-116">Rendu des Pages pour les appareils mobiles</span><span class="sxs-lookup"><span data-stu-id="66759-116">Rendering Pages for Mobile Devices</span></span>](#mobile)
> - [<span data-ttu-id="66759-117">Ressources supplémentaires pour MSBuild</span><span class="sxs-lookup"><span data-stu-id="66759-117">Additional Resources</span></span>](#resources)
> 
> > [!NOTE]
> > <span data-ttu-id="66759-118">Cette rubrique suppose que vous utilisez WebMatrix pour travailler avec votre code ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="66759-118">This topic assumes that you are using WebMatrix to work with your ASP.NET Web Pages 2 code.</span></span> <span data-ttu-id="66759-119">Toutefois, comme avec 1 des Pages Web, vous pouvez également créer des sites Web de Web Pages 2 à l’aide de Visual Studio, qui vous permet d’amélioré les fonctionnalités IntelliSense et le débogage.</span><span class="sxs-lookup"><span data-stu-id="66759-119">However, as with Web Pages 1, you can also create Web Pages 2 websites using Visual Studio, which gives you enhanced IntelliSense capabilities and debugging.</span></span> <span data-ttu-id="66759-120">Pour travailler avec des Pages Web dans Visual Studio, vous devez d’abord installer Visual Studio 2010 SP1, Visual Web Developer Express 2010 SP1 ou Visual Studio 11 Beta.</span><span class="sxs-lookup"><span data-stu-id="66759-120">To work with Web Pages in Visual Studio, you must first install Visual Studio 2010 SP1, Visual Web Developer Express 2010 SP1, or Visual Studio 11 Beta.</span></span> <span data-ttu-id="66759-121">Ensuite, installez la bêta ASP.NET MVC 4, qui inclut des modèles et des outils pour créer des applications ASP.NET MVC 4 et 2 de Pages Web dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="66759-121">Then install the ASP.NET MVC 4 Beta, which includes templates and tools for creating ASP.NET MVC 4 and Web Pages 2 applications in Visual Studio.</span></span>
> 
> 
> <span data-ttu-id="66759-122">*Dernière mise à jour : 18 juin 2012*</span><span class="sxs-lookup"><span data-stu-id="66759-122">*Last update: 18 June 2012*</span></span>


<a id="install"></a>
## <a name="installing-webmatrix"></a><span data-ttu-id="66759-123">Installation de WebMatrix</span><span class="sxs-lookup"><span data-stu-id="66759-123">Installing WebMatrix</span></span>

<span data-ttu-id="66759-124">Pour installer les Pages Web, vous pouvez utiliser Microsoft Web Platform Installer, ce qui est une application gratuite qui facilite la tâche installer et configurer les technologies web.</span><span class="sxs-lookup"><span data-stu-id="66759-124">To install Web Pages, you can use the Microsoft Web Platform Installer, which is a free application that makes it easy to install and configure web-related technologies.</span></span> <span data-ttu-id="66759-125">Vous allez installer la version bêta 2 WebMatrix, qui inclut la version bêta 2 de Pages Web.</span><span class="sxs-lookup"><span data-stu-id="66759-125">You will install the WebMatrix 2 Beta, which includes Web Pages 2 Beta.</span></span>

1. <span data-ttu-id="66759-126">Accédez à la page d’installation de la dernière version de Web Platform Installer :</span><span class="sxs-lookup"><span data-stu-id="66759-126">Browse to the installation page for the latest version of the Web Platform Installer:</span></span>

    [<span data-ttu-id="66759-127">https://go.Microsoft.com/fwlink/?LinkId=226883</span><span class="sxs-lookup"><span data-stu-id="66759-127">https://go.microsoft.com/fwlink/?LinkId=226883</span></span>](https://go.microsoft.com/fwlink/?LinkId=226883)

    > [!NOTE]
    > <span data-ttu-id="66759-128">Si vous avez déjà WebMatrix 1 est installé, cette installation met à jour à la bêta 2 de WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="66759-128">If you already have WebMatrix 1 installed, this installation updates it to WebMatrix 2 Beta.</span></span> <span data-ttu-id="66759-129">Vous pouvez exécuter des sites Web qui ont été créés à l’aide de la version 1 ou 2 sur le même ordinateur.</span><span class="sxs-lookup"><span data-stu-id="66759-129">You can run websites that were created using version 1 or 2 on the same computer.</span></span> <span data-ttu-id="66759-130">Pour plus d’informations, consultez la section sur [les Applications Web Pages en cours d’exécution côte à côte](#sidebyside).</span><span class="sxs-lookup"><span data-stu-id="66759-130">For more information, see the section on [Running Web Pages Applications Side by Side](#sidebyside).</span></span>
2. <span data-ttu-id="66759-131">Choisissez **installer maintenant**.</span><span class="sxs-lookup"><span data-stu-id="66759-131">Choose **Install Now**.</span></span> 

    <span data-ttu-id="66759-132">Si vous utilisez Internet Explorer, accédez à l’étape suivante.</span><span class="sxs-lookup"><span data-stu-id="66759-132">If you use Internet Explorer, go to the next step.</span></span> <span data-ttu-id="66759-133">Si vous utilisez un autre navigateur comme Mozilla Firefox ou Google Chrome, vous êtes invité à enregistrer le *Webmatrix.exe* le fichier sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="66759-133">If you use a different browser like Mozilla Firefox or Google Chrome, you are prompted to save the *Webmatrix.exe* file to your computer.</span></span> <span data-ttu-id="66759-134">Enregistrez le fichier, puis cliquez dessus pour lancer le programme d’installation.</span><span class="sxs-lookup"><span data-stu-id="66759-134">Save the file and then click it to launch the installer.</span></span>
3. <span data-ttu-id="66759-135">Exécutez le programme d’installation et choisissez le **installer** bouton.</span><span class="sxs-lookup"><span data-stu-id="66759-135">Run the installer and choose the **Install** button.</span></span> <span data-ttu-id="66759-136">Cette commande installe WebMatrix et Web Pages.</span><span class="sxs-lookup"><span data-stu-id="66759-136">This installs WebMatrix and Web Pages.</span></span>

## <a id="New_and_Enhanced_Features"></a><span data-ttu-id="66759-137">Fonctionnalités nouvelles et améliorées</span><span class="sxs-lookup"><span data-stu-id="66759-137">New and Enhanced Features</span></span>

### <a id="Changes_for_the_RC_Version"></a><span data-ttu-id="66759-138">Modifications de la Version RC (juin 2012)</span><span class="sxs-lookup"><span data-stu-id="66759-138">Changes for the RC Version (June 2012)</span></span>

<span data-ttu-id="66759-139">La version RC en juin 2012 a peu de modifications à partir de la mise à jour version bêta qui a été publiée en mars 2012.</span><span class="sxs-lookup"><span data-stu-id="66759-139">The RC version release in June 2012 has a few changes from the Beta version refresh that was released in March 2012.</span></span> <span data-ttu-id="66759-140">Ces modifications sont :</span><span class="sxs-lookup"><span data-stu-id="66759-140">These changes are:</span></span>

- <span data-ttu-id="66759-141">A `Validation.AddFormError` méthode a été ajoutée à la `Validation` helper.</span><span class="sxs-lookup"><span data-stu-id="66759-141">A `Validation.AddFormError` method was added to the `Validation` helper.</span></span> <span data-ttu-id="66759-142">Cela est utile si vous effectuez une validation manuellement (par exemple, pour valider une valeur qui est passée dans la chaîne de requête) et que vous souhaitez ajouter un message d’erreur qui peut être affiché par le `Html.ValidationSummary` (méthode).</span><span class="sxs-lookup"><span data-stu-id="66759-142">This is useful if you perform validation manually (for example, you validate a value that is passed in the query string) and you want to add an error message that can be displayed by the `Html.ValidationSummary` method.</span></span> <span data-ttu-id="66759-143">Pour plus d’informations, consultez la section [validation des données que ne proviennent directement à partir d’utilisateurs](https://go.microsoft.com/fwlink/?LinkId=253002#Validating_Data_That_Doesnt_Come_Directly_from_Users) dans [validation des entrées d’utilisateur dans les Sites ASP.NET Web Pages (Razor)](https://go.microsoft.com/fwlink/?LinkId=253002).</span><span class="sxs-lookup"><span data-stu-id="66759-143">For more information, see the section [Validating Data That Doesn't Come Directly From Users](https://go.microsoft.com/fwlink/?LinkId=253002#Validating_Data_That_Doesnt_Come_Directly_from_Users) in [Validating User Input in ASP.NET Web Pages (Razor) Sites](https://go.microsoft.com/fwlink/?LinkId=253002).</span></span>
- <span data-ttu-id="66759-144">La fonctionnalité de groupement et la minimisation a été supprimée à partir des assemblys principaux ASP.NET Web Pages 2.</span><span class="sxs-lookup"><span data-stu-id="66759-144">The functionality for bundling and minification has been removed from the core ASP.NET Web Pages 2 assemblies.</span></span> <span data-ttu-id="66759-145">Par conséquent, le `Assets` répertoriées plus loin dans ce document n’est pas disponible.</span><span class="sxs-lookup"><span data-stu-id="66759-145">As a consequence, the `Assets` helper listed later in this document is not available.</span></span> <span data-ttu-id="66759-146">Au lieu de cela, vous devez installer le [optimisation ASP.NET](http://nuget.org/packages/Microsoft.Web.Optimization/0.1) package NuGet.</span><span class="sxs-lookup"><span data-stu-id="66759-146">Instead, you must install the [ASP.NET Optimization](http://nuget.org/packages/Microsoft.Web.Optimization/0.1) NuGet package.</span></span> <span data-ttu-id="66759-147">Pour plus d’informations, consultez [regroupement et réduire les ressources dans un Site ASP.NET Web Pages (Razor)](https://go.microsoft.com/fwlink/?LinkId=255373).</span><span class="sxs-lookup"><span data-stu-id="66759-147">For more information, see [Bundling and Minifying Assets in an ASP.NET Web Pages (Razor) Site](https://go.microsoft.com/fwlink/?LinkId=255373).</span></span>
- <span data-ttu-id="66759-148">Les assemblys supplémentaires pour prendre en charge ASP.NET Web Pages 2 ont été ajoutés.</span><span class="sxs-lookup"><span data-stu-id="66759-148">Additional assemblies to support ASP.NET Web Pages 2 have been added.</span></span> <span data-ttu-id="66759-149">L’effet uniquement visible de cette modification est que vous pouvez voir plusieurs assemblys dans d’un site *bin* dossier une fois que vous créez un site ou déployez un site vers un fournisseur d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="66759-149">The only noticeable effect of this change is that you might see more assemblies in a site's *bin* folder after you create a site or deploy a site to a hosting provider.</span></span>

<a id="Changes_for_the_Beta_Version"></a>
### <a name="changes-for-the-beta-version-february-2012"></a><span data-ttu-id="66759-150">Modifications pour la Version bêta (février 2012)</span><span class="sxs-lookup"><span data-stu-id="66759-150">Changes for the Beta Version (February 2012)</span></span>

<span data-ttu-id="66759-151">La version bêta publiée en février 2012 a peu de modifications de la version bêta qui a été publiée en décembre 2011.</span><span class="sxs-lookup"><span data-stu-id="66759-151">The Beta version released in February 2012 has only a few changes from the Beta version that was released in December 2011.</span></span> <span data-ttu-id="66759-152">Ces modifications sont :</span><span class="sxs-lookup"><span data-stu-id="66759-152">These changes are:</span></span>

- <span data-ttu-id="66759-153">Razor prend désormais en charge les attributs conditionnels.</span><span class="sxs-lookup"><span data-stu-id="66759-153">Razor now supports conditional attributes.</span></span> <span data-ttu-id="66759-154">Dans le code HTML élément, si vous définissez un attribut à une valeur qui est résolu dans le code serveur pour `false` ou `null`, ASP.NET ne rend pas l’attribut du tout.</span><span class="sxs-lookup"><span data-stu-id="66759-154">In an HTML element, if you set an attribute to a value that resolves in server code to `false` or `null`, ASP.NET does not render the attribute at all.</span></span> <span data-ttu-id="66759-155">Par exemple, imaginez que vous avez le balisage suivant pour une case à cocher :</span><span class="sxs-lookup"><span data-stu-id="66759-155">For example, imagine you have the following markup for a check box:</span></span>

    [!code-html[Main](top-features-in-web-pages-2/samples/sample1.html)]

    <span data-ttu-id="66759-156">Si la valeur de `checked1` se résout en `false` ou `null`, le `checked` attribut n’est pas rendu.</span><span class="sxs-lookup"><span data-stu-id="66759-156">If the value of `checked1` resolves to `false` or to `null`, the `checked` attribute is not rendered.</span></span> <span data-ttu-id="66759-157">Il s’agit d’une modification avec rupture.</span><span class="sxs-lookup"><span data-stu-id="66759-157">This is a breaking change.</span></span>
- <span data-ttu-id="66759-158">Le `Validation.GetHtml` méthode a été renommée en `Validation.For`.</span><span class="sxs-lookup"><span data-stu-id="66759-158">The `Validation.GetHtml` method has been renamed to `Validation.For`.</span></span> <span data-ttu-id="66759-159">Il s’agit d’une modification avec rupture ; `Validation.GetHtml` ne fonctionnent pas dans la version bêta.</span><span class="sxs-lookup"><span data-stu-id="66759-159">This is a breaking change; `Validation.GetHtml` will not work in the Beta release.</span></span>
- <span data-ttu-id="66759-160">Vous pouvez maintenant inclure le `~` opérateur dans le balisage pour faire référence à la racine du site sans utiliser le `Href` (fonction).</span><span class="sxs-lookup"><span data-stu-id="66759-160">You can now include the `~` operator in markup to reference the site root without using the `Href` function.</span></span> <span data-ttu-id="66759-161">(Autrement dit, l’analyseur Razor peut maintenant rechercher et résoudre les `~` opérateur sans nécessiter un appel de méthode explicite à `Href`.) Le `Href` méthode fonctionne toujours, donc il ne s’agit pas d’une modification avec rupture.</span><span class="sxs-lookup"><span data-stu-id="66759-161">(That is, the Razor parser can now find and resolve the `~` operator without requiring an explicit method call to `Href`.) The `Href` method still works, so this is not a breaking change.</span></span>

    <span data-ttu-id="66759-162">Par exemple, si vous aviez précédemment balisage comme suit :</span><span class="sxs-lookup"><span data-stu-id="66759-162">For example, if you previously had markup like this:</span></span>

    `<a href="@Href("~/Default.cshtml")">Home</a>`

    <span data-ttu-id="66759-163">Vous pouvez maintenant utiliser le balisage comme suit :</span><span class="sxs-lookup"><span data-stu-id="66759-163">You can now use markup like this:</span></span>

    `<a href="~/Default.cshtml">Home</a>`
- <span data-ttu-id="66759-164">Le `Scripts` auxiliaire pour la gestion des ressources (ressource) a été remplacée par la `Assets` assistance, ce qui a des méthodes légèrement différentes, telles que les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="66759-164">The `Scripts` helper for assets (resource) management has been replaced with the `Assets` helper, which has slightly different methods, such as the following:</span></span>

    - <span data-ttu-id="66759-165">Pour `Scripts.Add`, utiliser`Assets.AddScript`</span><span class="sxs-lookup"><span data-stu-id="66759-165">For `Scripts.Add`, use `Assets.AddScript`</span></span>
    - <span data-ttu-id="66759-166">Pour `Scripts.GetScriptTags`, utiliser`Assets.GetScripts`</span><span class="sxs-lookup"><span data-stu-id="66759-166">For `Scripts.GetScriptTags`, use `Assets.GetScripts`</span></span>

    <span data-ttu-id="66759-167">Il s’agit d’une modification avec rupture ; la `Scripts` classe n’est pas disponible dans la version bêta.</span><span class="sxs-lookup"><span data-stu-id="66759-167">This is a breaking change; the `Scripts` class is not available in the Beta release.</span></span> <span data-ttu-id="66759-168">Les exemples de code dans ce document qui utilisent la gestion de ressources ont été mis à jour avec cette modification.</span><span class="sxs-lookup"><span data-stu-id="66759-168">The code examples in this document that use asset management have been updated with this change.</span></span>

<a id="templates"></a>
### <a name="using-the-new-and-updated-site-templates"></a><span data-ttu-id="66759-169">L’aide des modèles de Site nouvelles et mises à jour</span><span class="sxs-lookup"><span data-stu-id="66759-169">Using the New and Updated Site Templates</span></span>

<span data-ttu-id="66759-170">Le **Starter Site** modèle a été mis à jour afin qu’elle s’exécute sur le Web Pages 2 par défaut.</span><span class="sxs-lookup"><span data-stu-id="66759-170">The **Starter Site** template has been updated so that it runs on Web Pages 2 by default.</span></span> <span data-ttu-id="66759-171">Il inclut également les nouvelles fonctionnalités suivantes :</span><span class="sxs-lookup"><span data-stu-id="66759-171">It also includes the following new capabilities:</span></span>

- <span data-ttu-id="66759-172">Rendu de page d’adaptés aux appareils mobiles.</span><span class="sxs-lookup"><span data-stu-id="66759-172">Mobile-friendly page rendering.</span></span> <span data-ttu-id="66759-173">Grâce à l’utilisation des styles CSS et le `@media` sélecteur, le **Starter Site** fournit amélioré le rendu des pages sur les petits écrans, y compris les écrans des appareils mobiles.</span><span class="sxs-lookup"><span data-stu-id="66759-173">Through the use of CSS styles and the `@media` selector, the **Starter Site** provides improved rendering of pages on smaller screens, including mobile device screens.</span></span>
- <span data-ttu-id="66759-174">Options d’authentification et d’appartenance améliorées.</span><span class="sxs-lookup"><span data-stu-id="66759-174">Improved membership and authentication options.</span></span> <span data-ttu-id="66759-175">Vous pouvez permettre aux utilisateurs de se votre site à l’aide de leurs comptes à partir d’autres sites de réseaux sociaux tels que Twitter, Facebook et Windows Live.</span><span class="sxs-lookup"><span data-stu-id="66759-175">You can let users log into your site using their accounts from other social networking sites, such as Twitter, Facebook, and Windows Live.</span></span> <span data-ttu-id="66759-176">Pour plus d’informations, consultez la [l’activation des connexions à partir de Facebook et d’autres Sites à l’aide d’OAuth et OpenID](#oauthsetup) section.</span><span class="sxs-lookup"><span data-stu-id="66759-176">For more information, see the [Enabling Logins from Facebook and Other Sites using OAuth and OpenID](#oauthsetup) section.</span></span>
- <span data-ttu-id="66759-177">Éléments HTML5.</span><span class="sxs-lookup"><span data-stu-id="66759-177">HTML5 elements.</span></span>

<span data-ttu-id="66759-178">La nouvelle **Site personnel** modèle vous permet de créer un site Web qui contient un blog personnel, une page de photos et une page Twitter.</span><span class="sxs-lookup"><span data-stu-id="66759-178">The new **Personal Site** template lets you create a website that contains a personal blog, a photos page, and a Twitter page.</span></span> <span data-ttu-id="66759-179">Vous pouvez personnaliser un site basé sur le **Site personnel** modèle en procédant comme suit :</span><span class="sxs-lookup"><span data-stu-id="66759-179">You can customize a site based on the **Personal Site** template by doing the following:</span></span>

- <span data-ttu-id="66759-180">Modifier l’apparence du site en modifiant le fichier de disposition (*\_SiteLayout.cshtml*) et le fichier de styles (*Site.css*).</span><span class="sxs-lookup"><span data-stu-id="66759-180">Change the look of the site by editing the layout file (*\_SiteLayout.cshtml*) and the styles file (*Site.css*).</span></span>
- <span data-ttu-id="66759-181">Installer les packages NuGet qui ajoutent des fonctionnalités à votre site.</span><span class="sxs-lookup"><span data-stu-id="66759-181">Install NuGet packages that add functionality to your site.</span></span> <span data-ttu-id="66759-182">Pour plus d’informations sur l’installation des packages, y compris la bibliothèque de programmes d’assistance de Web ASP.NET, consultez le didacticiel [l’installation de programmes d’assistance](https://go.microsoft.com/fwlink/?LinkId=202889#webhelpers).</span><span class="sxs-lookup"><span data-stu-id="66759-182">For information about how to install packages, including the ASP.NET Web Helpers Library, see the tutorial about [installing helpers](https://go.microsoft.com/fwlink/?LinkId=202889#webhelpers).</span></span>

<span data-ttu-id="66759-183">Pour accéder à la **Site personnel** modèle, choisissez **modèles** sur le WebMatrix **Quick Start** écran.</span><span class="sxs-lookup"><span data-stu-id="66759-183">To access the **Personal Site** template, choose **Templates** on the WebMatrix **Quick Start** screen.</span></span>

<span data-ttu-id="66759-184">[![topseven-personalsite-1](top-features-in-web-pages-2/_static/image2.png)](top-features-in-web-pages-2/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="66759-184">[![topseven-personalsite-1](top-features-in-web-pages-2/_static/image2.png)](top-features-in-web-pages-2/_static/image1.png)</span></span>

<span data-ttu-id="66759-185">Dans le **modèles** boîte de dialogue, choisissez le **Site personnel** modèle.</span><span class="sxs-lookup"><span data-stu-id="66759-185">In the **Templates** dialog box, choose the **Personal Site** template.</span></span>

<span data-ttu-id="66759-186">[![topseven-personalsite-2](top-features-in-web-pages-2/_static/image4.png)](top-features-in-web-pages-2/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="66759-186">[![topseven-personalsite-2](top-features-in-web-pages-2/_static/image4.png)](top-features-in-web-pages-2/_static/image3.png)</span></span>

<span data-ttu-id="66759-187">La page d’accueil de la **Site personnel** modèle vous permet de suivre les liens à configurer votre blog, Twitter et photos.</span><span class="sxs-lookup"><span data-stu-id="66759-187">The landing page of the **Personal Site** template lets you follow links to set up your blog, Twitter page, and photos page.</span></span>

<span data-ttu-id="66759-188">[![topseven-personalsite-3](top-features-in-web-pages-2/_static/image6.png)](top-features-in-web-pages-2/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="66759-188">[![topseven-personalsite-3](top-features-in-web-pages-2/_static/image6.png)](top-features-in-web-pages-2/_static/image5.png)</span></span>

<a id="validation"></a>
### <a name="validating-user-input"></a><span data-ttu-id="66759-189">Validation des entrées utilisateur</span><span class="sxs-lookup"><span data-stu-id="66759-189">Validating User Input</span></span>

<span data-ttu-id="66759-190">Dans les Pages Web 1, pour valider l’entrée d’utilisateur sur les formulaires envoyés, utilisez la `System.Web.WebPages.Html.ModelState` classe.</span><span class="sxs-lookup"><span data-stu-id="66759-190">In Web Pages 1, to validate user input on submitted forms, you use the `System.Web.WebPages.Html.ModelState` class.</span></span> <span data-ttu-id="66759-191">(Ceci est illustré dans plusieurs exemples de code dans le didacticiel 1 des Pages Web intitulé [utilisation des données](../data/5-working-with-data.md).) Vous pouvez toujours utiliser cette approche dans les 2 Pages Web.</span><span class="sxs-lookup"><span data-stu-id="66759-191">(This is illustrated in several of the code samples in the Web Pages 1 tutorial titled [Working with Data](../data/5-working-with-data.md).) You can still use this approach in Web Pages 2.</span></span> <span data-ttu-id="66759-192">Toutefois, Web Pages 2 offre également des outils optimisés pour la validation de l’entrée d’utilisateur :</span><span class="sxs-lookup"><span data-stu-id="66759-192">However, Web Pages 2 also offers improved tools for validating user input:</span></span>

- <span data-ttu-id="66759-193">Nouvelles classes de validation, notamment `System.Web.WebPages.ValidationHelper` et `System.Web.WebPages.Validator`, qui vous permettent d’effectuer des tâches de validation puissante avec quelques lignes de code.</span><span class="sxs-lookup"><span data-stu-id="66759-193">New validation classes, including `System.Web.WebPages.ValidationHelper` and `System.Web.WebPages.Validator`, that let you do powerful validation tasks with a few lines of code.</span></span>
- <span data-ttu-id="66759-194">Si vous le souhaitez, une validation côté client, qui fournit des commentaires immédiats à l’utilisateur au lieu de demander un aller-retour au serveur pour vérifier les erreurs de validation.</span><span class="sxs-lookup"><span data-stu-id="66759-194">Optionally, client-side validation, which provides immediate feedback to the user instead of requiring a round trip to the server to check for validation errors.</span></span> <span data-ttu-id="66759-195">(Pour des raisons de sécurité, la validation est effectuée sur le serveur même si les vérifications ont été effectuées dans le client au préalable.)</span><span class="sxs-lookup"><span data-stu-id="66759-195">(For security reasons, validation is performed on the server even if the checks have been performed in the client beforehand.)</span></span>

<span data-ttu-id="66759-196">Pour utiliser les nouvelles fonctionnalités de validation, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="66759-196">To use the new validation features, do the following:</span></span>

<span data-ttu-id="66759-197">Dans le code de la page, enregistrer un élément à valider à l’aide des méthodes de la `Validation` helper : `Validation.RequireField`, `Validation.RequireFields` (pour inscrire plusieurs éléments comme étant obligatoire), ou `Validation.Add`.</span><span class="sxs-lookup"><span data-stu-id="66759-197">In the page's code, register an element to be validated by using methods of the `Validation` helper: `Validation.RequireField`, `Validation.RequireFields` (to register multiple elements to be required), or `Validation.Add`.</span></span> <span data-ttu-id="66759-198">Le `Add` méthode vous permet de spécifier d’autres types de contrôles de validation, comme le type de données la vérification, la comparaison des entrées dans des champs différents, des vérifications de la longueur de chaîne et les modèles (à l’aide d’expressions régulières).</span><span class="sxs-lookup"><span data-stu-id="66759-198">The `Add` method lets you specify other types of validation checks, like data-type checking, comparing entries in different fields, string-length checks, and patterns (using regular expressions).</span></span> <span data-ttu-id="66759-199">Voici quelques exemples :</span><span class="sxs-lookup"><span data-stu-id="66759-199">Here are some examples:</span></span>

[!code-html[Main](top-features-in-web-pages-2/samples/sample2.html)]

<span data-ttu-id="66759-200">Pour afficher une erreur spécifique au champ, appelez `Html.ValidationMessage` dans le balisage de chaque élément en cours de validation :</span><span class="sxs-lookup"><span data-stu-id="66759-200">To display a field-specific error, call `Html.ValidationMessage` in the markup for each element being validated:</span></span>

[!code-cshtml[Main](top-features-in-web-pages-2/samples/sample3.cshtml)]

<span data-ttu-id="66759-201">Pour afficher un résumé (`<ul>` liste) de toutes les erreurs dans la page, `Html.ValidationSummary` dans le balisage :</span><span class="sxs-lookup"><span data-stu-id="66759-201">To display a summary (`<ul>` list) of all the errors in the page, `Html.ValidationSummary` in the markup:</span></span>

[!code-cshtml[Main](top-features-in-web-pages-2/samples/sample4.cshtml)]

<span data-ttu-id="66759-202">Ces étapes suffisent pour implémenter la validation côté serveur.</span><span class="sxs-lookup"><span data-stu-id="66759-202">These steps are enough to implement server-side validation.</span></span> <span data-ttu-id="66759-203">Si vous souhaitez ajouter la validation côté client, procédez comme suit en outre.</span><span class="sxs-lookup"><span data-stu-id="66759-203">If you want to add client-side validation, do the following in addition.</span></span>

<span data-ttu-id="66759-204">Ajoutez les références de fichier de script suivantes à l’intérieur de la `<head>` section d’une page web.</span><span class="sxs-lookup"><span data-stu-id="66759-204">Add the following script file references inside the `<head>` section of a web page.</span></span> <span data-ttu-id="66759-205">Les deux premières références de script pointent vers les fichiers à distance sur un serveur de diffusion de contenu (CDN).</span><span class="sxs-lookup"><span data-stu-id="66759-205">The first two script references point to remote files on a content delivery network (CDN) server.</span></span> <span data-ttu-id="66759-206">La troisième référence pointe vers un fichier de script local.</span><span class="sxs-lookup"><span data-stu-id="66759-206">The third reference points to a local script file.</span></span>

[!code-html[Main](top-features-in-web-pages-2/samples/sample5.html)]

<span data-ttu-id="66759-207">Le moyen le plus simple pour obtenir une copie locale de la *jquery.validate.unobtrusive.min.js* bibliothèque consiste à créer un nouveau site Web Pages basé sur l’un des modèles de site (par exemple, Site de démarrage).</span><span class="sxs-lookup"><span data-stu-id="66759-207">The easiest way to get a local copy of the *jquery.validate.unobtrusive.min.js* library is to create a new Web Pages site based on one of the site templates (such as Starter Site).</span></span> <span data-ttu-id="66759-208">Le site créé par le modèle inclut *jquery.validate.unobtrusive.js* fichier dans son dossier de Scripts, à partir de laquelle vous pouvez le copier sur votre site.</span><span class="sxs-lookup"><span data-stu-id="66759-208">The site created by the template includes *jquery.validate.unobtrusive.js* file in its Scripts folder, from which you can copy it to your site.</span></span>

<span data-ttu-id="66759-209">Si votre site Web utilise un*\_SiteLayout* page pour contrôler la mise en page, vous pouvez inclure ces références de script dans cette page afin que la validation est disponible pour toutes les pages de contenu.</span><span class="sxs-lookup"><span data-stu-id="66759-209">If your website uses a*\_SiteLayout* page to control the page layout, you can include these script references in that page so that validation is available to all content pages.</span></span> <span data-ttu-id="66759-210">Si vous souhaitez effectuer une validation uniquement sur certaines pages, vous pouvez utiliser le Gestionnaire de ressources pour enregistrer les scripts sur les pages.</span><span class="sxs-lookup"><span data-stu-id="66759-210">If you want to perform validation only on particular pages, you can use the assets manager to register the scripts on only those pages.</span></span> <span data-ttu-id="66759-211">Pour ce faire, appelez `Assets.AddScript(path)` dans la page que vous souhaitez valider et de faire référence à chacun des fichiers de script.</span><span class="sxs-lookup"><span data-stu-id="66759-211">To do this, call `Assets.AddScript(path)` in the page that you want to validate and reference each of the script files.</span></span> <span data-ttu-id="66759-212">Puis ajoutez un appel à `Assets.GetScripts` dans les  *\_SiteLayout* page afin de restituer inscrit `<script>` balises.</span><span class="sxs-lookup"><span data-stu-id="66759-212">Then add a call to `Assets.GetScripts` in the *\_SiteLayout* page in order to render the registered `<script>` tags.</span></span> <span data-ttu-id="66759-213">Pour plus d’informations, consultez la section [l’inscription des Scripts avec le Gestionnaire de ressources](#resmanagement).</span><span class="sxs-lookup"><span data-stu-id="66759-213">For more information, see the section [Registering Scripts with the Assets Manager](#resmanagement).</span></span>

<span data-ttu-id="66759-214">Dans le balisage pour un élément individuel, appelez le `Validation.For` (méthode).</span><span class="sxs-lookup"><span data-stu-id="66759-214">In the markup for an individual element, call the `Validation.For` method.</span></span> <span data-ttu-id="66759-215">Cette méthode émet des attributs que jQuery pouvez raccorder afin de fournir la validation côté client.</span><span class="sxs-lookup"><span data-stu-id="66759-215">This method emits attributes that jQuery can hook in order to provide client-side validation.</span></span> <span data-ttu-id="66759-216">Exemple :</span><span class="sxs-lookup"><span data-stu-id="66759-216">For example:</span></span>

[!code-cshtml[Main](top-features-in-web-pages-2/samples/sample6.cshtml)]

<span data-ttu-id="66759-217">L’exemple suivant montre une page qui valide l’entrée d’utilisateur sur un formulaire.</span><span class="sxs-lookup"><span data-stu-id="66759-217">The following example shows a page that validates user input on a form.</span></span> <span data-ttu-id="66759-218">Pour exécuter et tester ce code de validation, procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="66759-218">To run and test this validation code, do this:</span></span>

1. <span data-ttu-id="66759-219">Créer un nouveau site web à l’aide d’un des modèles de site WebMatrix 2 qui inclut un *Scripts* dossier, tel que le **Starter Site** modèle.</span><span class="sxs-lookup"><span data-stu-id="66759-219">Create a new web site using one of the WebMatrix 2 site templates that includes a *Scripts* folder, such as the **Starter Site** template.</span></span>
2. <span data-ttu-id="66759-220">Dans le nouveau site, créez un *.cshtml* page et remplacez le contenu de la page par le code suivant.</span><span class="sxs-lookup"><span data-stu-id="66759-220">In the new site, create a new *.cshtml* page, and replace the contents of the page with the following code.</span></span>
3. <span data-ttu-id="66759-221">Exécutez la page dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="66759-221">Run the page in a browser.</span></span> <span data-ttu-id="66759-222">Entrez les valeurs valides et non valides pour voir les effets sur la validation.</span><span class="sxs-lookup"><span data-stu-id="66759-222">Enter valid and invalid values to see the effects on validation.</span></span> <span data-ttu-id="66759-223">Par exemple, un champ obligatoire ne renseignez ou entrez une lettre dans le **crédits** champ.</span><span class="sxs-lookup"><span data-stu-id="66759-223">For example, leave a required field blank or enter a letter in the **Credits** field.</span></span>


[!code-cshtml[Main](top-features-in-web-pages-2/samples/sample7.cshtml)]

<span data-ttu-id="66759-224">Voici la page lorsqu’un utilisateur soumet une entrée valide :</span><span class="sxs-lookup"><span data-stu-id="66759-224">Here is the page when a user submits valid input:</span></span>

<span data-ttu-id="66759-225">[![topSeven valide 1](top-features-in-web-pages-2/_static/image8.png)](top-features-in-web-pages-2/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="66759-225">[![topSeven-valid-1](top-features-in-web-pages-2/_static/image8.png)](top-features-in-web-pages-2/_static/image7.png)</span></span>

<span data-ttu-id="66759-226">Voici la page lorsqu’un utilisateur envoie les données avec un champ obligatoire est laissé vide :</span><span class="sxs-lookup"><span data-stu-id="66759-226">Here is the page when a user submits it with a required field left empty:</span></span>

<span data-ttu-id="66759-227">[![topSeven valide 2](top-features-in-web-pages-2/_static/image10.png)](top-features-in-web-pages-2/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="66759-227">[![topSeven-valid-2](top-features-in-web-pages-2/_static/image10.png)](top-features-in-web-pages-2/_static/image9.png)</span></span>

<span data-ttu-id="66759-228">Voici la page lorsqu’un utilisateur le soumet à autre chose qu’un entier dans la **crédits** champ :</span><span class="sxs-lookup"><span data-stu-id="66759-228">Here is the page when a user submits it with something other than an integer in the **Credits** field:</span></span>

<span data-ttu-id="66759-229">[![topSeven valide 3](top-features-in-web-pages-2/_static/image12.png)](top-features-in-web-pages-2/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="66759-229">[![topSeven-valid-3](top-features-in-web-pages-2/_static/image12.png)](top-features-in-web-pages-2/_static/image11.png)</span></span>

<span data-ttu-id="66759-230">Pour plus d’informations, consultez les billets de blog suivants :</span><span class="sxs-lookup"><span data-stu-id="66759-230">For more information, see the following blog posts:</span></span>

- <span data-ttu-id="66759-231">[Mise à jour de la validation dans les Pages Web v2](http://mikepope.com/blog/DisplayBlog.aspx?permalink=2344) bases de l’ajout de validation à l’aide du `Validation` helper (côté serveur uniquement)</span><span class="sxs-lookup"><span data-stu-id="66759-231">[Updated validation in Web Pages v2](http://mikepope.com/blog/DisplayBlog.aspx?permalink=2344) Basics of adding validation using the `Validation` helper (server-side only)</span></span>
- <span data-ttu-id="66759-232">[Mise à jour de la validation dans les Pages Web v2, partie 2](http://www.mikepope.com/blog/DisplayBlog.aspx?permalink=2347) Ajout d’une validation côté client.</span><span class="sxs-lookup"><span data-stu-id="66759-232">[Updated validation in Web Pages v2, Part 2](http://www.mikepope.com/blog/DisplayBlog.aspx?permalink=2347) Adding client-side validation.</span></span>
- <span data-ttu-id="66759-233">[Mise à jour de la validation dans les Pages Web v2, partie 3](http://mikepope.com/blog/DisplayBlog.aspx?permalink=2351) mise en forme des erreurs de validation.</span><span class="sxs-lookup"><span data-stu-id="66759-233">[Updated validation in Web Pages v2, Part 3](http://mikepope.com/blog/DisplayBlog.aspx?permalink=2351) Formatting validation errors.</span></span>

<a id="resmanagement"></a>
### <a name="registering-scripts-using-the-assets-manager"></a><span data-ttu-id="66759-234">L’inscription des Scripts à l’aide du Gestionnaire de ressources</span><span class="sxs-lookup"><span data-stu-id="66759-234">Registering Scripts Using the Assets Manager</span></span>

<span data-ttu-id="66759-235">Le Gestionnaire de ressources est une nouvelle fonctionnalité que vous pouvez utiliser dans le code serveur pour inscrire et de restituer les scripts clients.</span><span class="sxs-lookup"><span data-stu-id="66759-235">The assets manager is a new feature that you can use in server code to register and render client scripts.</span></span> <span data-ttu-id="66759-236">Cette fonctionnalité est utile lorsque vous travaillez avec le code à partir de plusieurs fichiers (par exemple, les pages de disposition, les pages de contenu, les programmes d’assistance, etc.) qui sont combinées en une seule page en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="66759-236">This feature is helpful when you are working with code from multiple files (such as layout pages, content pages, helpers, etc.) that are combined into a single page at run time.</span></span> <span data-ttu-id="66759-237">Le Gestionnaire de ressources coordonne les fichiers sources pour vous assurer que les fichiers de script sont correctement référencés et efficacement sur la page rendue, quel que soit les fichiers de code, elles sont appelées à partir ou combien de fois qu’elles sont appelées.</span><span class="sxs-lookup"><span data-stu-id="66759-237">The assets manager coordinates the source files to make sure that script files are referenced correctly and efficiently on the rendered page, regardless of which code files they are called from or how many times they are called.</span></span> <span data-ttu-id="66759-238">Le Gestionnaire de ressources rend également `<script>` balises au bon endroit pour que la page peut charger rapidement (sans téléchargement des scripts lors du rendu) et pour éviter les erreurs qui peuvent se produire si les scripts sont appelés avant le rendu est terminé.</span><span class="sxs-lookup"><span data-stu-id="66759-238">The assets manager also renders `<script>` tags in the right place so that the page can load quickly (without downloading scripts while rendering) and to avoid errors that can occur if scripts are called before rendering is complete.</span></span>

<span data-ttu-id="66759-239">Par exemple, supposons que vous créez un programme d’assistance personnalisé qui appelle un fichier JavaScript, et que vous appelez ce programme d’assistance à trois emplacements différents dans votre code de la page de contenu.</span><span class="sxs-lookup"><span data-stu-id="66759-239">For example, suppose that you create a custom helper that calls a JavaScript file, and you call this helper at three different places in your content page code.</span></span> <span data-ttu-id="66759-240">Si vous n’utilisez pas le Gestionnaire de ressources pour enregistrer le script appelle dans l’application auxiliaire, trois différentes `<script>` balises tous les points dans le même fichier de script s’affiche dans votre page rendue.</span><span class="sxs-lookup"><span data-stu-id="66759-240">If you don't use the assets manager to register the script calls in the helper, three different `<script>` tags that all point to the same script file will appear in your rendered page.</span></span> <span data-ttu-id="66759-241">De plus, selon l’emplacement où le `<script>` balises sont insérées dans la page rendue, erreurs peuvent se produire si le script essaie d’accéder à certains éléments de page avant le charge complet de la page.</span><span class="sxs-lookup"><span data-stu-id="66759-241">Plus, depending on where the `<script>` tags are inserted in the rendered page, errors may occur if the script tries to access certain page elements before the page fully loads.</span></span> <span data-ttu-id="66759-242">Si vous utilisez le Gestionnaire de ressources pour enregistrer le script, vous évitez ces problèmes.</span><span class="sxs-lookup"><span data-stu-id="66759-242">If you use the assets manager to register the script, you avoid these problems.</span></span>

<span data-ttu-id="66759-243">Vous pouvez enregistrer un script avec le Gestionnaire de ressources en procédant ainsi :</span><span class="sxs-lookup"><span data-stu-id="66759-243">You can register a script with the assets manager by doing this:</span></span>

- <span data-ttu-id="66759-244">Dans le code qui a besoin pour référencer le script, appelez le `Assets.AddScript` (méthode).</span><span class="sxs-lookup"><span data-stu-id="66759-244">In the code that needs to reference the script, call the `Assets.AddScript` method.</span></span>
- <span data-ttu-id="66759-245">Dans un  *\_SiteLayout* page, appelez le `Assets.GetScripts` méthode pour restituer la `<script>` balises.</span><span class="sxs-lookup"><span data-stu-id="66759-245">In a *\_SiteLayout* page, call the `Assets.GetScripts` method to render the `<script>` tags.</span></span> 

    > [!NOTE]
    > <span data-ttu-id="66759-246">Mettre des appels à `Assets.GetScripts` en tant que le tout dernier élément dans le `<body>` élément de la  *\_SiteLayout* page.</span><span class="sxs-lookup"><span data-stu-id="66759-246">Put calls to `Assets.GetScripts` as the very last item in the `<body>` element of the *\_SiteLayout* page.</span></span> <span data-ttu-id="66759-247">Cela permet à la page de chargement plus rapide et peut aider à éviter les erreurs de script.</span><span class="sxs-lookup"><span data-stu-id="66759-247">This helps the page load faster and can help avoid script errors.</span></span>

<span data-ttu-id="66759-248">L’exemple suivant montre le fonctionnement du Gestionnaire de ressources.</span><span class="sxs-lookup"><span data-stu-id="66759-248">The following example shows how the assets manager works.</span></span> <span data-ttu-id="66759-249">Le code contient les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="66759-249">The code contains the following items:</span></span>

- <span data-ttu-id="66759-250">Un programme d’assistance personnalisé nommé `MakeNote`.</span><span class="sxs-lookup"><span data-stu-id="66759-250">A custom helper named `MakeNote`.</span></span> <span data-ttu-id="66759-251">Ce programme d’assistance restitue une chaîne à l’intérieur d’une zone en encapsulant un `div` élément qui a un style avec une bordure et en ajoutant &quot;Remarque :&quot; à celui-ci.</span><span class="sxs-lookup"><span data-stu-id="66759-251">This helper renders a string inside a box by wrapping a `div` element around it that's styled with a border and by adding &quot;Note:&quot; to it.</span></span> <span data-ttu-id="66759-252">L’application d’assistance appelle également un fichier JavaScript qui ajoute le comportement au moment de l’exécution à la note.</span><span class="sxs-lookup"><span data-stu-id="66759-252">The helper also calls a JavaScript file that adds run-time behavior to the note.</span></span> <span data-ttu-id="66759-253">Plutôt que référencer le script avec un `<script>` balise, l’Assistant enregistre le script en appelant `Assets.AddScript` .</span><span class="sxs-lookup"><span data-stu-id="66759-253">Rather than reference the script with a `<script>` tag, the helper registers the script by calling `Assets.AddScript` .</span></span>
- <span data-ttu-id="66759-254">Un fichier JavaScript.</span><span class="sxs-lookup"><span data-stu-id="66759-254">A JavaScript file.</span></span> <span data-ttu-id="66759-255">Il s’agit du fichier qui est appelé par l’application d’assistance et il augmente temporairement la taille de police des éléments de note pendant un `mouseover` événement.</span><span class="sxs-lookup"><span data-stu-id="66759-255">This is the file that's called by the helper, and it temporarily increases the font size of note items during a `mouseover` event.</span></span>
- <span data-ttu-id="66759-256">Une page de contenu qui fait référence à la*\_SiteLayout* effectue le rendu du contenu dans le corps de la page et appelle ensuite la `MakeNote` helper.</span><span class="sxs-lookup"><span data-stu-id="66759-256">A content page, which references the*\_SiteLayout* page, renders some content in the body, and then calls the `MakeNote` helper.</span></span>
- <span data-ttu-id="66759-257">A  *\_SiteLayout* page.</span><span class="sxs-lookup"><span data-stu-id="66759-257">A *\_SiteLayout* page.</span></span> <span data-ttu-id="66759-258">Cette page fournit un en-tête commun et une structure de mise en page.</span><span class="sxs-lookup"><span data-stu-id="66759-258">This page provides a common header and a page layout structure.</span></span> <span data-ttu-id="66759-259">Il inclut également un appel à `Assets.GetScripts`, qui est la façon dont le Gestionnaire de ressources restitue le script appelle dans une page.</span><span class="sxs-lookup"><span data-stu-id="66759-259">It also includes a call to `Assets.GetScripts`, which is how the assets manager renders script calls in a page.</span></span>

<span data-ttu-id="66759-260">Pour exécuter l’exemple :</span><span class="sxs-lookup"><span data-stu-id="66759-260">To run the sample:</span></span>

1. <span data-ttu-id="66759-261">Créer un site Web de Web Pages 2 vide.</span><span class="sxs-lookup"><span data-stu-id="66759-261">Create an empty Web Pages 2 website.</span></span> <span data-ttu-id="66759-262">Vous pouvez utiliser le WebMatrix **Site vide** modèle pour cela.</span><span class="sxs-lookup"><span data-stu-id="66759-262">You can use the WebMatrix **Empty Site** template for this.</span></span>
2. <span data-ttu-id="66759-263">Créez un dossier nommé *Scripts* dans le site.</span><span class="sxs-lookup"><span data-stu-id="66759-263">Create a folder named *Scripts* in the site.</span></span>
3. <span data-ttu-id="66759-264">Dans le *Scripts* dossier, créez un fichier nommé *Test.js*, copie le *Test.js* contenu dans celui-ci à partir de l’exemple, enregistrez le fichier...</span><span class="sxs-lookup"><span data-stu-id="66759-264">In the *Scripts* folder, create a file named *Test.js*, copy the *Test.js* content into it from the example, and save the file..</span></span>
4. <span data-ttu-id="66759-265">Créez un dossier nommé *application\_Code* dans le site.</span><span class="sxs-lookup"><span data-stu-id="66759-265">Create a folder named *App\_Code* in the site.</span></span>
5. <span data-ttu-id="66759-266">Dans le *application\_Code* dossier, créez un fichier nommé *Helpers.cshtml*, copiez l’exemple de code et l’enregistrer dans un dossier nommé *application\_Code*dans le dossier racine.</span><span class="sxs-lookup"><span data-stu-id="66759-266">In the *App\_Code* folder, create a file named *Helpers.cshtml*, copy the example code into it, and save it in a folder named *App\_Code* in the root folder.</span></span>
6. <span data-ttu-id="66759-267">Dans le dossier du site racine, créez un fichier nommé  *\_SiteLayout.cshtml,* copiez l’exemple, enregistrez le fichier.</span><span class="sxs-lookup"><span data-stu-id="66759-267">In the site's root folder, create a file named *\_SiteLayout.cshtml,* copy the example into it, and save the file.</span></span>
7. <span data-ttu-id="66759-268">Dans la racine du site, créez un fichier nommé *ContentPage.cshtml*, ajoutez l’exemple de code et l’enregistrer.</span><span class="sxs-lookup"><span data-stu-id="66759-268">In the site root, create a file named *ContentPage.cshtml*, add the example code, and save it.</span></span>
8. <span data-ttu-id="66759-269">Exécutez *ContentPage* dans un navigateur.</span><span class="sxs-lookup"><span data-stu-id="66759-269">Run *ContentPage* in a browser.</span></span> <span data-ttu-id="66759-270">La chaîne que vous avez passé à la `MakeNote` helper est restitué sous la forme d’une note convertie (boxed).</span><span class="sxs-lookup"><span data-stu-id="66759-270">The string you passed to the `MakeNote` helper is rendered as a boxed note.</span></span>
9. <span data-ttu-id="66759-271">Passez le pointeur de la souris sur la note.</span><span class="sxs-lookup"><span data-stu-id="66759-271">Pass the mouse pointer over the note.</span></span> <span data-ttu-id="66759-272">Le script augmente temporairement la taille de police de la note.</span><span class="sxs-lookup"><span data-stu-id="66759-272">The script temporarily increases the font size of the note.</span></span>
10. <span data-ttu-id="66759-273">Afficher la source de la page rendue.</span><span class="sxs-lookup"><span data-stu-id="66759-273">View the source of the rendered page.</span></span> <span data-ttu-id="66759-274">En raison de l’emplacement de l’appel à `Assets.GetScripts`, le rendu `<script>` qui appelle *Test.js* est le tout dernier élément dans le corps de la page.</span><span class="sxs-lookup"><span data-stu-id="66759-274">Because of where you placed the call to `Assets.GetScripts`, the rendered `<script>` tag that calls *Test.js* is the very last item in the body of the page.</span></span>

<span data-ttu-id="66759-275">*Test.js*</span><span class="sxs-lookup"><span data-stu-id="66759-275">*Test.js*</span></span>

[!code-javascript[Main](top-features-in-web-pages-2/samples/sample8.js)]

<span data-ttu-id="66759-276">*Helpers.cshtml*</span><span class="sxs-lookup"><span data-stu-id="66759-276">*Helpers.cshtml*</span></span>

[!code-cshtml[Main](top-features-in-web-pages-2/samples/sample9.cshtml)]

<span data-ttu-id="66759-277">*\_SiteLayout.cshtml*</span><span class="sxs-lookup"><span data-stu-id="66759-277">*\_SiteLayout.cshtml*</span></span>

[!code-html[Main](top-features-in-web-pages-2/samples/sample10.html)]

<span data-ttu-id="66759-278">*ContentPage.cshtml*</span><span class="sxs-lookup"><span data-stu-id="66759-278">*ContentPage.cshtml*</span></span>

[!code-cshtml[Main](top-features-in-web-pages-2/samples/sample11.cshtml)]

<span data-ttu-id="66759-279">La capture d’écran suivante affiche *ContentPage.cshtml* dans un navigateur lorsque vous placez le pointeur de la souris sur la note :</span><span class="sxs-lookup"><span data-stu-id="66759-279">The following screenshot shows *ContentPage.cshtml* in a browser when you hold the mouse pointer over the note:</span></span>

<span data-ttu-id="66759-280">[![topSeven-resmgr-1](top-features-in-web-pages-2/_static/image14.png)](top-features-in-web-pages-2/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="66759-280">[![topSeven-resmgr-1](top-features-in-web-pages-2/_static/image14.png)](top-features-in-web-pages-2/_static/image13.png)</span></span>

<a id="oauthsetup"></a>
### <a name="enabling-logins-from-facebook-and-other-sites-using-oauth-and-openid"></a><span data-ttu-id="66759-281">L’activation des connexions à partir de Facebook et d’autres Sites à l’aide d’OAuth et OpenID</span><span class="sxs-lookup"><span data-stu-id="66759-281">Enabling Logins from Facebook and Other Sites Using OAuth and OpenID</span></span>

<span data-ttu-id="66759-282">Web Pages 2 fournit les options améliorées pour l’appartenance et l’authentification.</span><span class="sxs-lookup"><span data-stu-id="66759-282">Web Pages 2 provides enhanced options for membership and authentication.</span></span> <span data-ttu-id="66759-283">L’amélioration principale est qu’il n’y nouvelle [OAuth](http://oauth.net/) et [OpenID](http://openid.net/) fournisseurs.</span><span class="sxs-lookup"><span data-stu-id="66759-283">The main enhancement is that there are new [OAuth](http://oauth.net/) and [OpenID](http://openid.net/) providers.</span></span> <span data-ttu-id="66759-284">À l’aide de ces fournisseurs, vous pouvez permettre aux utilisateurs de se votre site à l’aide de leurs informations d’identification existantes à partir de Facebook, Twitter, Windows Live, Google et Yahoo.</span><span class="sxs-lookup"><span data-stu-id="66759-284">Using these providers, you can let users log into your site using their existing credentials from Facebook, Twitter, Windows Live, Google, and Yahoo.</span></span> <span data-ttu-id="66759-285">Par exemple, pour vous connecter à l’aide d’un compte Facebook, les utilisateurs peuvent simplement sélectionner une icône de Facebook, qui redirige vers la page de connexion Facebook où ils entrent leurs informations de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="66759-285">For example, to log in using a Facebook account, users can just choose a Facebook icon, which redirects them to the Facebook login page where they enter their user information.</span></span> <span data-ttu-id="66759-286">Ils peuvent ensuite associer la connexion Facebook à leur compte sur votre site.</span><span class="sxs-lookup"><span data-stu-id="66759-286">They can then associate the Facebook login with their account on your site.</span></span> <span data-ttu-id="66759-287">Une amélioration associée aux fonctionnalités d’appartenance Web Pages est que les utilisateurs peuvent associer plusieurs connexions (y compris les connexions à partir des sites de réseau social) avec un seul compte sur votre site Web.</span><span class="sxs-lookup"><span data-stu-id="66759-287">A related enhancement to the Web Pages membership features is that users can associate multiple logins (including logins from social networking sites) with a single account on your website.</span></span>

<span data-ttu-id="66759-288">Cette illustration montre la page de connexion à partir de la **Starter Site** modèle, où un utilisateur peut choisir une icône Facebook, Twitter ou Windows Live pour activer la journalisation à l’aide d’un compte externe :</span><span class="sxs-lookup"><span data-stu-id="66759-288">This image shows the Login page from the **Starter Site** template, where a user can choose a Facebook, Twitter, or Windows Live icon to enable logging in with an external account:</span></span>

<span data-ttu-id="66759-289">[![topSeven-oauth-1](top-features-in-web-pages-2/_static/image16.png)](top-features-in-web-pages-2/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="66759-289">[![topSeven-oauth-1](top-features-in-web-pages-2/_static/image16.png)](top-features-in-web-pages-2/_static/image15.png)</span></span>

<span data-ttu-id="66759-290">Vous pouvez activer l’appartenance OAuth et OpenID à l’aide de quelques lignes de code.</span><span class="sxs-lookup"><span data-stu-id="66759-290">You can enable OAuth and OpenID membership using just a few lines of code.</span></span> <span data-ttu-id="66759-291">Les méthodes et propriétés que vous utilisez pour travailler avec OAuth et OpenID fournisseurs sont dans le `WebMatrix.Security.OAuthWebSecurity` classe.</span><span class="sxs-lookup"><span data-stu-id="66759-291">The methods and properties you use to work with the OAuth and OpenID providers are in the `WebMatrix.Security.OAuthWebSecurity` class.</span></span>

<span data-ttu-id="66759-292">Toutefois, au lieu d’activer les connexions à partir d’autres sites à l’aide de code, une méthode recommandée pour la prise en main les nouveaux fournisseurs consiste à utiliser la nouvelle **Starter Site** modèle qui est inclus avec la version bêta 2 de WebMatrix.</span><span class="sxs-lookup"><span data-stu-id="66759-292">However, instead of using code to enable logins from other sites, a recommended way to get started with the new providers is to use the new **Starter Site** template that is included with WebMatrix 2 Beta.</span></span> <span data-ttu-id="66759-293">Le **Starter Site** modèle inclut une infrastructure d’abonnement complet, avec une page de connexion, une base de données d’appartenance et tout le code que vous avez besoin permettre aux utilisateurs de se votre site à l’aide des informations d’identification locales ou celles d’un autre site .</span><span class="sxs-lookup"><span data-stu-id="66759-293">The **Starter Site** template includes a full membership infrastructure, complete with a login page, a membership database, and all the code you need to let users log into your site using either local credentials or those from another site.</span></span>

#### <a name="how-to-enable-logins-using-the-oauth-and-openid-providers"></a><span data-ttu-id="66759-294">Comment activer les connexions à l’aide de la OAuth et OpenID fournisseurs</span><span class="sxs-lookup"><span data-stu-id="66759-294">How to Enable Logins using the OAuth and OpenID Providers</span></span>

<span data-ttu-id="66759-295">Cette section fournit un exemple montrant comment permettre aux utilisateurs de se connecter à partir des sites externes (Facebook, Twitter, Windows Live, Google ou Yahoo) à un site qui est basé sur le **Starter Site** modèle.</span><span class="sxs-lookup"><span data-stu-id="66759-295">This section provides an example of how to let users log in from external sites (Facebook, Twitter, Windows Live, Google, or Yahoo) to a site that's based on the **Starter Site** template.</span></span> <span data-ttu-id="66759-296">Après avoir créé un site de démarrage, vous effectuez ce (suivre plus d’informations) :</span><span class="sxs-lookup"><span data-stu-id="66759-296">After creating a starter site, you do this (details follow):</span></span>

- <span data-ttu-id="66759-297">Pour les sites qui utilisent un fournisseur OAuth (Facebook, Twitter et Windows Live), créez une application sur le site externe.</span><span class="sxs-lookup"><span data-stu-id="66759-297">For the sites that use an OAuth provider (Facebook, Twitter, and Windows Live), create an application on the external site.</span></span> <span data-ttu-id="66759-298">Cela vous donne les clés d’application dont vous avez besoin pour appeler la fonctionnalité de connexion pour ces sites.</span><span class="sxs-lookup"><span data-stu-id="66759-298">This gives you application keys that you'll need in order to invoke the login feature for those sites.</span></span> <span data-ttu-id="66759-299">Pour les sites qui utilisent un fournisseur OpenID (Google, Yahoo), il est inutile de créer une application.</span><span class="sxs-lookup"><span data-stu-id="66759-299">For sites that use an OpenID provider (Google, Yahoo), you do not have to create an application.</span></span> <span data-ttu-id="66759-300">Pour tous ces sites, vous devez disposer un compte pour se connecter et créer des applications de développeur.</span><span class="sxs-lookup"><span data-stu-id="66759-300">For all of these sites, you must have an account in order to log in and to create developer applications.</span></span> 

    > [!NOTE]
    > <span data-ttu-id="66759-301">Applications Windows Live acceptent uniquement une URL dynamique pour un site Web de travail, vous ne pouvez pas utiliser une URL de site Web local pour le test des connexions.</span><span class="sxs-lookup"><span data-stu-id="66759-301">Windows Live applications only accept a live URL for a working website, so you cannot use a local website URL for testing logins.</span></span>
- <span data-ttu-id="66759-302">Modifier quelques fichiers dans votre site Web afin de spécifier le fournisseur d’authentification approprié et soumettre une connexion au site que vous souhaitez utiliser.</span><span class="sxs-lookup"><span data-stu-id="66759-302">Edit a few files in your website in order to specify the appropriate authentication provider and to submit a login to the site you want to use.</span></span>

<span data-ttu-id="66759-303">**Activer les connexions Google et Yahoo**:</span><span class="sxs-lookup"><span data-stu-id="66759-303">**To enable Google and Yahoo logins**:</span></span>

1. <span data-ttu-id="66759-304">Dans votre site Web, vous devez modifier le  *\_AppStart.cshtml* page et ajoutez les deux lignes suivantes du code dans le bloc de code Razor après l’appel à la `WebSecurity.InitializeDatabaseConnection` (méthode).</span><span class="sxs-lookup"><span data-stu-id="66759-304">In your website, edit the *\_AppStart.cshtml* page and add the following two lines of code in the Razor code block after the call to the `WebSecurity.InitializeDatabaseConnection` method.</span></span> <span data-ttu-id="66759-305">Ce code permet à la fois le Google et Yahoo OpenID fournisseurs.</span><span class="sxs-lookup"><span data-stu-id="66759-305">This code enables both the Google and Yahoo OpenID providers.</span></span> 

    [!code-css[Main](top-features-in-web-pages-2/samples/sample12.css)]
2. <span data-ttu-id="66759-306">Dans le *~/Account/Login.cshtml* page, supprimez les commentaires dans la liste suivante `<fieldset>` bloc de balisage à la fin de la page.</span><span class="sxs-lookup"><span data-stu-id="66759-306">In the *~/Account/Login.cshtml* page, remove the comments from the following `<fieldset>` block of markup near the end of the page.</span></span> <span data-ttu-id="66759-307">Pour les commentaires du code, supprimez le `@*` caractères qui précèdent et suivent le `<fieldset>` bloc.</span><span class="sxs-lookup"><span data-stu-id="66759-307">To uncomment the code, remove the `@*` characters that precede and follow the `<fieldset>` block.</span></span> <span data-ttu-id="66759-308">Le bloc de code qui en résulte ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="66759-308">The resulting code block looks like this:</span></span>

    [!code-html[Main](top-features-in-web-pages-2/samples/sample13.html)]
3. <span data-ttu-id="66759-309">Ajouter un `<input>` élément pour le fournisseur de Google ou Yahoo à la `<fieldset>` groupe dans le *~/Account/Login.cshtml* page.</span><span class="sxs-lookup"><span data-stu-id="66759-309">Add an `<input>` element for the Google or Yahoo provider to the `<fieldset>` group in the *~/Account/Login.cshtml* page.</span></span> <span data-ttu-id="66759-310">La mise à jour `<fieldset>` groupe `<input>` éléments pour la recherche de Google et Yahoo tels que l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="66759-310">The updated `<fieldset>` group with `<input>` elements for both Google and Yahoo looks like the following example:</span></span> 

    [!code-html[Main](top-features-in-web-pages-2/samples/sample14.html)]
4. <span data-ttu-id="66759-311">Dans le *~/Account/AssociateServiceAccount.cshtml* , ajoutez `<input>` éléments pour Google ou Yahoo, à le `<fieldset>` groupe vers la fin du fichier.</span><span class="sxs-lookup"><span data-stu-id="66759-311">In the *~/Account/AssociateServiceAccount.cshtml* page, add `<input>` elements for Google or Yahoo to the `<fieldset>` group near the end of the file.</span></span> <span data-ttu-id="66759-312">Vous pouvez copier le même `<input>` les éléments que vous venez d’ajouter à la `<fieldset>` section dans le *~/Account/Login.cshtml* page.</span><span class="sxs-lookup"><span data-stu-id="66759-312">You can copy the same `<input>` elements that you just added to the `<fieldset>` section in the *~/Account/Login.cshtml* page.</span></span> 

    <span data-ttu-id="66759-313">Le *~/Account/AssociateServiceAccount.cshtml* page du modèle Starter Site peut être utilisée si vous souhaitez créer une page sur laquelle les utilisateurs peuvent associer plusieurs connexions à partir d’autres sites avec un seul compte sur votre site Web.</span><span class="sxs-lookup"><span data-stu-id="66759-313">The *~/Account/AssociateServiceAccount.cshtml* page in the Starter Site template can be used if you want to create a page on which users can associate multiple logins from other sites with a single account on your website.</span></span>

<span data-ttu-id="66759-314">Vous pouvez maintenant tester les connexions Google et Yahoo.</span><span class="sxs-lookup"><span data-stu-id="66759-314">Now you can test Google and Yahoo logins.</span></span>

1. <span data-ttu-id="66759-315">Exécutez le *default.cshtml* page de votre site et choisissez la **connecter** bouton.</span><span class="sxs-lookup"><span data-stu-id="66759-315">Run the *default.cshtml* page of your site and choose the **Log in** button.</span></span>
2. <span data-ttu-id="66759-316">Sur le *connexion* page, dans le **utiliser un autre service pour vous connecter** section, choisissez la **Google** ou **Yahoo** bouton Envoyer.</span><span class="sxs-lookup"><span data-stu-id="66759-316">On the *Login* page, in the **Use another service to log in** section, choose either the **Google** or **Yahoo** submit button.</span></span> <span data-ttu-id="66759-317">Cet exemple utilise la connexion de Google.</span><span class="sxs-lookup"><span data-stu-id="66759-317">This example uses the Google login.</span></span> 

    <span data-ttu-id="66759-318">La page web redirige la demande vers la page de connexion Google.</span><span class="sxs-lookup"><span data-stu-id="66759-318">The web page redirects the request to the Google login page.</span></span>

    <span data-ttu-id="66759-319">[![topSeven-oauth-6](top-features-in-web-pages-2/_static/image18.png)](top-features-in-web-pages-2/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="66759-319">[![topSeven-oauth-6](top-features-in-web-pages-2/_static/image18.png)](top-features-in-web-pages-2/_static/image17.png)</span></span>
3. <span data-ttu-id="66759-320">Entrez les informations d’identification d’un compte Google existant.</span><span class="sxs-lookup"><span data-stu-id="66759-320">Enter credentials for an existing Google account.</span></span>
4. <span data-ttu-id="66759-321">Si Google vous demande si vous souhaitez autoriser Localhost utiliser les informations du compte, cliquez sur **autoriser**.</span><span class="sxs-lookup"><span data-stu-id="66759-321">If Google asks you whether you want to allow Localhost to use information from the account, click **Allow**.</span></span>

    <span data-ttu-id="66759-322">Le code utilise le jeton de Google pour authentifier l’utilisateur et il retourne ensuite à cette page sur votre site Web.</span><span class="sxs-lookup"><span data-stu-id="66759-322">The code uses the Google token to authenticate the user, and then returns to this page on your website.</span></span> <span data-ttu-id="66759-323">Cette page permet aux utilisateurs d’associer leur connexion Google avec un compte existant sur votre site Web, ou ils peuvent inscrire un nouveau compte sur votre site à associer la connexion externe.</span><span class="sxs-lookup"><span data-stu-id="66759-323">This page lets users associate their Google login with an existing account on your website, or they can register a new account on your site to associate the external login with.</span></span>

    <span data-ttu-id="66759-324">[![topSeven-oauth-5](top-features-in-web-pages-2/_static/image20.png)](top-features-in-web-pages-2/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="66759-324">[![topSeven-oauth-5](top-features-in-web-pages-2/_static/image20.png)](top-features-in-web-pages-2/_static/image19.png)</span></span>
5. <span data-ttu-id="66759-325">Choisissez le **associer** bouton.</span><span class="sxs-lookup"><span data-stu-id="66759-325">Choose the **Associate** button.</span></span> <span data-ttu-id="66759-326">Le navigateur retourne à la page d’accueil de votre application.</span><span class="sxs-lookup"><span data-stu-id="66759-326">The browser returns to your application's home page.</span></span>

    <span data-ttu-id="66759-327">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image22.png)](top-features-in-web-pages-2/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="66759-327">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image22.png)](top-features-in-web-pages-2/_static/image21.png)</span></span>

    <span data-ttu-id="66759-328">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image24.png)](top-features-in-web-pages-2/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="66759-328">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image24.png)](top-features-in-web-pages-2/_static/image23.png)</span></span>

<span data-ttu-id="66759-329">**Activer les connexions de Facebook**:</span><span class="sxs-lookup"><span data-stu-id="66759-329">**To enable Facebook logins**:</span></span>

1. <span data-ttu-id="66759-330">Accédez à la [site des développeurs Facebook](https://developers.facebook.com/apps) (se connecter si vous n’êtes pas déjà connecté).</span><span class="sxs-lookup"><span data-stu-id="66759-330">Go to the [Facebook developers site](https://developers.facebook.com/apps) (log in if you're not already logged in).</span></span>
2. <span data-ttu-id="66759-331">Choisissez le **créer une application** bouton, puis suivez les invites pour nommer et de créer l’application.</span><span class="sxs-lookup"><span data-stu-id="66759-331">Choose the **Create New App** button, and then follow the prompts to name and create the new application.</span></span>
3. <span data-ttu-id="66759-332">Dans la section **sélectionnez la façon dont votre application s’intègre avec Facebook**, choisissez le **site Web** section.</span><span class="sxs-lookup"><span data-stu-id="66759-332">In the section **Select how your app will integrate with Facebook**, choose the **Website** section.</span></span>
4. <span data-ttu-id="66759-333">Renseignez le **URL du Site** champ avec l’URL de votre site (par exemple, [ `http://www.example.com` ](http://www.example.com)).</span><span class="sxs-lookup"><span data-stu-id="66759-333">Fill in the **Site URL** field with the URL of your site (for example, [`http://www.example.com`](http://www.example.com)).</span></span> <span data-ttu-id="66759-334">Le **domaine** champ est facultatif ; vous pouvez l’utiliser pour fournir l’authentification pour un domaine entier (tel que *example.com*).</span><span class="sxs-lookup"><span data-stu-id="66759-334">The **Domain** field is optional; you can use this to provide authentication for an entire domain (such as *example.com*).</span></span> 

    > [!NOTE]
    > <span data-ttu-id="66759-335">Si vous exécutez un site sur votre ordinateur local avec une URL telle que `http://localhost:12345` (où le nombre est un numéro de port local), vous pouvez ajouter cette valeur à la **URL du Site** champ pour tester votre site.</span><span class="sxs-lookup"><span data-stu-id="66759-335">If you are running a site on your local computer with a URL like `http://localhost:12345` (where the number is a local port number), you can add this value to the **Site URL** field for testing your site.</span></span> <span data-ttu-id="66759-336">Toutefois, chaque fois que le numéro de port de vos modifications de site local, vous devez mettre à jour le **URL du Site** champ de votre application.</span><span class="sxs-lookup"><span data-stu-id="66759-336">However, any time the port number of your local site changes, you will need to update the **Site URL** field of your application.</span></span>
5. <span data-ttu-id="66759-337">Choisissez le **enregistrer les modifications** bouton.</span><span class="sxs-lookup"><span data-stu-id="66759-337">Choose the **Save Changes** button.</span></span>
6. <span data-ttu-id="66759-338">Choisissez le **applications** onglet à nouveau et afficher la page de démarrage pour votre application.</span><span class="sxs-lookup"><span data-stu-id="66759-338">Choose the **Apps** tab again, and then view the start page for your application.</span></span>
7. <span data-ttu-id="66759-339">Copie le **ID d’application** et **Secret d’application** valeurs pour votre application et les coller dans un fichier texte temporaire.</span><span class="sxs-lookup"><span data-stu-id="66759-339">Copy the **App ID** and **App Secret** values for your application and paste them into a temporary text file.</span></span> <span data-ttu-id="66759-340">Vous allez passer ces valeurs pour le fournisseur de Facebook dans votre code de site Web.</span><span class="sxs-lookup"><span data-stu-id="66759-340">You will pass these values to the Facebook provider in your website code.</span></span>
8. <span data-ttu-id="66759-341">Quitter le site de développement Facebook.</span><span class="sxs-lookup"><span data-stu-id="66759-341">Exit the Facebook developer site.</span></span>

<span data-ttu-id="66759-342">Maintenant vous apportez des modifications à deux pages de votre site Web afin que les utilisateurs seront en mesure de se connecter au site à l’aide de leur compte Facebook.</span><span class="sxs-lookup"><span data-stu-id="66759-342">Now you make changes to two pages in your website so that users will able to log into the site using their Facebook accounts.</span></span>

1. <span data-ttu-id="66759-343">Dans votre site Web, vous devez modifier le  *\_AppStart.cshtml* page et les commentaires du code pour le fournisseur Facebook OAuth.</span><span class="sxs-lookup"><span data-stu-id="66759-343">In your website, edit the *\_AppStart.cshtml* page and uncomment the code for the Facebook OAuth provider.</span></span> <span data-ttu-id="66759-344">Le bloc de code sans commentaire ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="66759-344">The uncommented code block looks like the following:</span></span> 

    [!code-xml[Main](top-features-in-web-pages-2/samples/sample15.xml)]
2. <span data-ttu-id="66759-345">Copie le **ID d’application** valeur à partir de l’application Facebook en tant que la valeur de le `consumerKey` paramètre (à l’intérieur des guillemets simples).</span><span class="sxs-lookup"><span data-stu-id="66759-345">Copy the **App ID** value from the Facebook application as the value of the `consumerKey` parameter (inside the quotation marks).</span></span>
3. <span data-ttu-id="66759-346">Copie **Secret d’application** valeur à partir de l’application Facebook en tant que le `consumerSecret` la valeur du paramètre.</span><span class="sxs-lookup"><span data-stu-id="66759-346">Copy **App Secret** value from the Facebook application as the `consumerSecret` parameter value.</span></span>
4. <span data-ttu-id="66759-347">Enregistrez et fermez le fichier.</span><span class="sxs-lookup"><span data-stu-id="66759-347">Save and close the file.</span></span>
5. <span data-ttu-id="66759-348">Modifier la *~/Account/Login.cshtml* page et supprimez les commentaires de la `<fieldset>` bloc près de la fin de la page.</span><span class="sxs-lookup"><span data-stu-id="66759-348">Edit the *~/Account/Login.cshtml* page and remove the comments from the `<fieldset>` block near the end of the page.</span></span> <span data-ttu-id="66759-349">Pour les commentaires du code, supprimez le `@*` caractères qui précèdent et suivent le `<fieldset>` bloc.</span><span class="sxs-lookup"><span data-stu-id="66759-349">To uncomment the code, remove the `@*` characters that precede and follow the `<fieldset>` block.</span></span> <span data-ttu-id="66759-350">Le bloc de code avec des commentaires supprimés ressemble au suivant :</span><span class="sxs-lookup"><span data-stu-id="66759-350">The code block with comments removed looks like the following:</span></span> 

    [!code-html[Main](top-features-in-web-pages-2/samples/sample16.html)]
6. <span data-ttu-id="66759-351">Enregistrez et fermez le fichier.</span><span class="sxs-lookup"><span data-stu-id="66759-351">Save and close the file.</span></span>

<span data-ttu-id="66759-352">Vous pouvez maintenant tester la connexion Facebook.</span><span class="sxs-lookup"><span data-stu-id="66759-352">Now you can test the Facebook login.</span></span>

1. <span data-ttu-id="66759-353">Exécution du site *default.cshtml* page et choisissez la **connexion** bouton.</span><span class="sxs-lookup"><span data-stu-id="66759-353">Run the site's *default.cshtml* page and choose the **Login** button.</span></span>
2. <span data-ttu-id="66759-354">Sur le *connexion* page, dans le **utiliser un autre service pour vous connecter** , choisissez le **Facebook** icône.</span><span class="sxs-lookup"><span data-stu-id="66759-354">On the *Login* page, in the **Use another service to log in** section, choose the **Facebook** icon.</span></span> 

    <span data-ttu-id="66759-355">La page web redirige la demande vers la page de connexion Facebook.</span><span class="sxs-lookup"><span data-stu-id="66759-355">The web page redirects the request to the Facebook login page.</span></span>

    <span data-ttu-id="66759-356">[![topSeven-oauth-2](top-features-in-web-pages-2/_static/image26.png)](top-features-in-web-pages-2/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="66759-356">[![topSeven-oauth-2](top-features-in-web-pages-2/_static/image26.png)](top-features-in-web-pages-2/_static/image25.png)</span></span>
3. <span data-ttu-id="66759-357">Connectez-vous à un compte Facebook.</span><span class="sxs-lookup"><span data-stu-id="66759-357">Log into a Facebook account.</span></span> 

    <span data-ttu-id="66759-358">Le code utilise le jeton de Facebook pour vous authentifier et renvoie à une page où vous pouvez associer votre compte de connexion Facebook avec un compte de connexion de votre site.</span><span class="sxs-lookup"><span data-stu-id="66759-358">The code uses the Facebook token to authenticate you and then returns to a page where you can associate your Facebook login with your site's login.</span></span> <span data-ttu-id="66759-359">Votre utilisateur nom ou adresse de messagerie est renseigné dans la **messagerie** champ sur le formulaire.</span><span class="sxs-lookup"><span data-stu-id="66759-359">Your user name or email address is filled into the **Email** field on the form.</span></span>

    <span data-ttu-id="66759-360">[![topSeven-oauth-5](top-features-in-web-pages-2/_static/image28.png)](top-features-in-web-pages-2/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="66759-360">[![topSeven-oauth-5](top-features-in-web-pages-2/_static/image28.png)](top-features-in-web-pages-2/_static/image27.png)</span></span>
4. <span data-ttu-id="66759-361">Choisissez le **associer** bouton.</span><span class="sxs-lookup"><span data-stu-id="66759-361">Choose the **Associate** button.</span></span> 

    <span data-ttu-id="66759-362">Le navigateur retourne à la page d’accueil et que vous êtes connecté.</span><span class="sxs-lookup"><span data-stu-id="66759-362">The browser returns to the home page and you are logged in.</span></span>

    <span data-ttu-id="66759-363">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image30.png)](top-features-in-web-pages-2/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="66759-363">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image30.png)](top-features-in-web-pages-2/_static/image29.png)</span></span>

<span data-ttu-id="66759-364">**Pour activer les connexions Twitter :**</span><span class="sxs-lookup"><span data-stu-id="66759-364">**To enable Twitter logins:**</span></span> 

1. <span data-ttu-id="66759-365">Accédez à la [site des développeurs Twitter](https://dev.twitter.com/).</span><span class="sxs-lookup"><span data-stu-id="66759-365">Browse to the [Twitter developers site](https://dev.twitter.com/).</span></span>
2. <span data-ttu-id="66759-366">Choisissez le **créer une application** lier et ouvrir une session sur le site.</span><span class="sxs-lookup"><span data-stu-id="66759-366">Choose the **Create an App** link and then log into the site.</span></span>
3. <span data-ttu-id="66759-367">Sur le **créer une Application** écran, renseignez le **nom** et **Description** champs.</span><span class="sxs-lookup"><span data-stu-id="66759-367">On the **Create an Application** form, fill in the **Name** and **Description** fields.</span></span>
4. <span data-ttu-id="66759-368">Dans le **site Web** , entrez l’URL de votre site (par exemple, [ `http://www.example.com` ](http://www.example.com)).</span><span class="sxs-lookup"><span data-stu-id="66759-368">In the **WebSite** field, enter the URL of your site (for example, [`http://www.example.com`](http://www.example.com)).</span></span> 

    > [!NOTE]
    > <span data-ttu-id="66759-369">Si vous testez votre site localement (à l’aide d’une URL telle que `http://localhost:12345`), Twitter ne peut pas accepter l’URL.</span><span class="sxs-lookup"><span data-stu-id="66759-369">If you're testing your site locally (using a URL like `http://localhost:12345`), Twitter might not accept the URL.</span></span> <span data-ttu-id="66759-370">Toutefois, vous pourrez peut-être utiliser l’adresse IP de bouclage locale (par exemple `http://127.0.0.1:12345`).</span><span class="sxs-lookup"><span data-stu-id="66759-370">However, you might be able to use the local loopback IP address (for example `http://127.0.0.1:12345`).</span></span> <span data-ttu-id="66759-371">Cela simplifie le processus de test de votre application localement.</span><span class="sxs-lookup"><span data-stu-id="66759-371">This simplifies the process of testing your application locally.</span></span> <span data-ttu-id="66759-372">Toutefois, chaque fois que le numéro de port de votre site local change, vous devez mettre à jour le **site Web** champ de votre application.</span><span class="sxs-lookup"><span data-stu-id="66759-372">However, every time the port number of your local site changes, you'll need to update the **WebSite** field of your application.</span></span>
5. <span data-ttu-id="66759-373">Dans le **URL de rappel** , saisissez une URL de la page dans votre site Web que vous souhaitez que les utilisateurs renvoyer à une fois la connexion Twitter.</span><span class="sxs-lookup"><span data-stu-id="66759-373">In the **Callback URL** field, enter a URL for the page in your website that you want users to return to after logging into Twitter.</span></span> <span data-ttu-id="66759-374">Par exemple, pour envoyer les utilisateurs vers la page d’accueil du Site de démarrage (qui reconnaît leur état connecté), entrez la même URL que vous avez entré dans le **site Web** champ.</span><span class="sxs-lookup"><span data-stu-id="66759-374">For example, to send users to the home page of the Starter Site (which will recognize their logged-in status), enter the same URL that you entered in the **WebSite** field.</span></span>
6. <span data-ttu-id="66759-375">Acceptez les termes du contrat et sélectionnez le **créer votre application Twitter** bouton.</span><span class="sxs-lookup"><span data-stu-id="66759-375">Accept the terms and choose the **Create your Twitter application** button.</span></span>
7. <span data-ttu-id="66759-376">Sur le **Mes Applications** accueil page, choisissez l’application que vous avez créé.</span><span class="sxs-lookup"><span data-stu-id="66759-376">On the **My Applications** landing page, choose the application you created.</span></span>
8. <span data-ttu-id="66759-377">Sur le **détails** onglet, faites défiler vers le bas et sélectionnez le **créer mon jeton d’accès** bouton.</span><span class="sxs-lookup"><span data-stu-id="66759-377">On the **Details** tab, scroll to the bottom and choose the **Create My Access Token** button.</span></span>
9. <span data-ttu-id="66759-378">Sur le **détails** onglet, copiez la **clé de consommateur** et **Secret de consommateur** valeurs pour votre application et les coller dans un fichier texte temporaire.</span><span class="sxs-lookup"><span data-stu-id="66759-378">On the **Details** tab, copy the **Consumer Key** and **Consumer Secret** values for your application and paste them into a temporary text file.</span></span> <span data-ttu-id="66759-379">Vous allez passer ces valeurs au fournisseur Twitter dans votre code de site Web.</span><span class="sxs-lookup"><span data-stu-id="66759-379">You'll pass these values to the Twitter provider in your website code.</span></span>
10. <span data-ttu-id="66759-380">Quittez le site Twitter.</span><span class="sxs-lookup"><span data-stu-id="66759-380">Exit the Twitter site.</span></span>

<span data-ttu-id="66759-381">Maintenant vous apportez des modifications à deux pages de votre site Web afin que les utilisateurs pourront se connecter au site à l’aide de leur compte Twitter.</span><span class="sxs-lookup"><span data-stu-id="66759-381">Now you make changes to two pages in your website so that users will be able to log into the site using their Twitter accounts.</span></span>

1. <span data-ttu-id="66759-382">Dans votre site Web, vous devez modifier le  *\_AppStart.cshtml* page et les commentaires du code pour le fournisseur OAuth pour Twitter.</span><span class="sxs-lookup"><span data-stu-id="66759-382">In your website, edit the *\_AppStart.cshtml* page and uncomment the code for the Twitter OAuth provider.</span></span> <span data-ttu-id="66759-383">Le bloc de code sans commentaire ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="66759-383">The uncommented code block looks like this:</span></span> 

    [!code-csharp[Main](top-features-in-web-pages-2/samples/sample17.cs)]
2. <span data-ttu-id="66759-384">Copie le **clé de consommateur** valeur à partir de l’application Twitter comme valeur de le `consumerKey` paramètre (à l’intérieur des guillemets simples).</span><span class="sxs-lookup"><span data-stu-id="66759-384">Copy the **Consumer Key** value from the Twitter application as the value of the `consumerKey` parameter (inside the quotation marks).</span></span>
3. <span data-ttu-id="66759-385">Copie le **Secret de consommateur** valeur à partir de l’application Twitter comme valeur de le `consumerSecret` paramètre.</span><span class="sxs-lookup"><span data-stu-id="66759-385">Copy the **Consumer Secret** value from the Twitter application as the value of the `consumerSecret` parameter.</span></span>
4. <span data-ttu-id="66759-386">Enregistrez et fermez le fichier.</span><span class="sxs-lookup"><span data-stu-id="66759-386">Save and close the file.</span></span>
5. <span data-ttu-id="66759-387">Modifier la *~/Account/Login.cshtml* page et supprimez les commentaires de la `<fieldset>` bloc près de la fin de la page.</span><span class="sxs-lookup"><span data-stu-id="66759-387">Edit the *~/Account/Login.cshtml* page and remove the comments from the `<fieldset>` block near the end of the page.</span></span> <span data-ttu-id="66759-388">Pour les commentaires du code, supprimez le `@*` caractères qui précèdent et suivent le `<fieldset>` bloc.</span><span class="sxs-lookup"><span data-stu-id="66759-388">To uncomment the code, remove the `@*` characters that precede and follow the `<fieldset>` block.</span></span> <span data-ttu-id="66759-389">Le bloc de code avec des commentaires supprimés ressemble au suivant :</span><span class="sxs-lookup"><span data-stu-id="66759-389">The code block with comments removed looks like the following:</span></span> 

    [!code-html[Main](top-features-in-web-pages-2/samples/sample18.html)]
6. <span data-ttu-id="66759-390">Enregistrez et fermez le fichier.</span><span class="sxs-lookup"><span data-stu-id="66759-390">Save and close the file.</span></span>

<span data-ttu-id="66759-391">Vous pouvez maintenant tester la connexion Twitter.</span><span class="sxs-lookup"><span data-stu-id="66759-391">Now you can test the Twitter login.</span></span>

1. <span data-ttu-id="66759-392">Exécutez le *default.cshtml* page de votre site et choisissez la **connexion** bouton.</span><span class="sxs-lookup"><span data-stu-id="66759-392">Run the *default.cshtml* page of your site and choose the **Login** button.</span></span>
2. <span data-ttu-id="66759-393">Sur le *connexion* page, dans le **utiliser un autre service pour vous connecter** , choisissez le **Twitter** icône.</span><span class="sxs-lookup"><span data-stu-id="66759-393">On the *Login* page, in the **Use another service to log in** section, choose the **Twitter** icon.</span></span> 

    <span data-ttu-id="66759-394">La page web redirige la demande vers une page de connexion Twitter pour l’application que vous avez créé.</span><span class="sxs-lookup"><span data-stu-id="66759-394">The web page redirects the request to a Twitter login page for the application you created.</span></span>

    <span data-ttu-id="66759-395">[![topSeven-oauth-4](top-features-in-web-pages-2/_static/image32.png)](top-features-in-web-pages-2/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="66759-395">[![topSeven-oauth-4](top-features-in-web-pages-2/_static/image32.png)](top-features-in-web-pages-2/_static/image31.png)</span></span>
3. <span data-ttu-id="66759-396">Connectez-vous à un compte Twitter.</span><span class="sxs-lookup"><span data-stu-id="66759-396">Log into a Twitter account.</span></span>
4. <span data-ttu-id="66759-397">Le code utilise le jeton Twitter pour authentifier l’utilisateur et vous ramène à une page dans laquelle vous pouvez associer votre nom de connexion avec votre compte de site Web.</span><span class="sxs-lookup"><span data-stu-id="66759-397">The code uses the Twitter token to authenticate the user and then returns you to a page where you can associate your login with your website account.</span></span> <span data-ttu-id="66759-398">Votre nom ou adresse de messagerie est renseigné dans la **messagerie** champ sur le formulaire.</span><span class="sxs-lookup"><span data-stu-id="66759-398">Your name or email address is filled into the **Email** field on the form.</span></span>

    <span data-ttu-id="66759-399">[![topSeven-oauth-5](top-features-in-web-pages-2/_static/image34.png)](top-features-in-web-pages-2/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="66759-399">[![topSeven-oauth-5](top-features-in-web-pages-2/_static/image34.png)](top-features-in-web-pages-2/_static/image33.png)</span></span>
5. <span data-ttu-id="66759-400">Choisissez le **associer** bouton.</span><span class="sxs-lookup"><span data-stu-id="66759-400">Choose the **Associate** button.</span></span> 

    <span data-ttu-id="66759-401">Le navigateur retourne à la page d’accueil et que vous êtes connecté.</span><span class="sxs-lookup"><span data-stu-id="66759-401">The browser returns to the home page and you are logged in.</span></span>

    <span data-ttu-id="66759-402">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image36.png)](top-features-in-web-pages-2/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="66759-402">[![topSeven-oauth-3](top-features-in-web-pages-2/_static/image36.png)](top-features-in-web-pages-2/_static/image35.png)</span></span>

<a id="maphelper"></a>
### <a name="adding-maps-using-the-maps-helper"></a><span data-ttu-id="66759-403">Ajout de mappages à l’aide de l’application d’assistance de mappages</span><span class="sxs-lookup"><span data-stu-id="66759-403">Adding Maps Using the Maps Helper</span></span>

<span data-ttu-id="66759-404">Web Pages 2 inclut des ajouts à la bibliothèque de programmes d’assistance de Web ASP.NET, qui est un package de compléments pour un site Web Pages.</span><span class="sxs-lookup"><span data-stu-id="66759-404">Web Pages 2 includes additions to the ASP.NET Web Helpers Library, which is a package of add-ins for a Web Pages site.</span></span> <span data-ttu-id="66759-405">Une d’elles est un composant de mappage fourni par le `Microsoft.Web.Helpers.Maps` classe.</span><span class="sxs-lookup"><span data-stu-id="66759-405">One of these is a mapping component provided by the `Microsoft.Web.Helpers.Maps` class.</span></span> <span data-ttu-id="66759-406">Vous pouvez utiliser la `Maps` classe génère des mappages en vous basés sur une adresse ou sur un jeu de coordonnées de latitude et de longitude.</span><span class="sxs-lookup"><span data-stu-id="66759-406">You can use the `Maps` class to generate maps based either on an address or on a set of longitude and latitude coordinates.</span></span> <span data-ttu-id="66759-407">La `Maps` classe vous permet de vous appeler directement des moteurs de carte populaires, y compris de Bing, Google, MapQuest et Yahoo.</span><span class="sxs-lookup"><span data-stu-id="66759-407">The `Maps` class lets you call directly into popular map engines including Bing, Google, MapQuest, and Yahoo.</span></span>

<span data-ttu-id="66759-408">Pour utiliser le nouveau `Maps` classe dans votre site Web, vous devez d’abord installer la version 2 de la bibliothèque d’applications auxiliaires Web.</span><span class="sxs-lookup"><span data-stu-id="66759-408">To use the new `Maps` class in your website, you must first install the version 2 of the Web Helpers Library.</span></span> <span data-ttu-id="66759-409">Pour ce faire, accédez aux instructions pour l’installation de la version actuellement publiée de la [ASP.NET Web Helpers Library](https://go.microsoft.com/fwlink/?LinkId=202889#webhelpers) et installez la version 2.</span><span class="sxs-lookup"><span data-stu-id="66759-409">To do this, go to the instructions for installing the currently released version of the [ASP.NET Web Helpers Library](https://go.microsoft.com/fwlink/?LinkId=202889#webhelpers) and install version 2.</span></span>

<span data-ttu-id="66759-410">Les étapes d’ajout du mappage à une page sont identiques quel des moteurs de carte que vous appelez.</span><span class="sxs-lookup"><span data-stu-id="66759-410">The steps for adding mapping to a page are the same regardless of which of the map engines you call.</span></span> <span data-ttu-id="66759-411">Vous suffit d’ajouter une référence de fichier JavaScript à votre page de mappage et puis ajoutez un appel qui restitue le `<script>` sur votre page.</span><span class="sxs-lookup"><span data-stu-id="66759-411">You just add a JavaScript file reference to your mapping page and then add a call that renders the `<script>` tags on your page.</span></span> <span data-ttu-id="66759-412">Appelez ensuite sur votre page de mappage, le moteur de carte que vous souhaitez utiliser.</span><span class="sxs-lookup"><span data-stu-id="66759-412">Then on your mapping page, call the map engine you want to use.</span></span>

<span data-ttu-id="66759-413">L’exemple suivant montre comment créer une page qui restitue une table basée sur une adresse et une autre page qui restitue une table basée sur des coordonnées de longitude et de latitude.</span><span class="sxs-lookup"><span data-stu-id="66759-413">The following example shows how to create a page that renders a map based on an address, and another page that renders a map based on longitude and latitude coordinates.</span></span> <span data-ttu-id="66759-414">L’exemple de mappage d’adresse utilise Google Maps, et l’exemple de mappage de coordonnées utilise Bing Maps.</span><span class="sxs-lookup"><span data-stu-id="66759-414">The address mapping example uses Google Maps, and the coordinate mapping example uses Bing Maps.</span></span> <span data-ttu-id="66759-415">Notez les éléments suivants dans le code :</span><span class="sxs-lookup"><span data-stu-id="66759-415">Note the following elements in the code:</span></span>

- <span data-ttu-id="66759-416">L’appel à `Assets.AddScript` en haut des deux pages de mappage.</span><span class="sxs-lookup"><span data-stu-id="66759-416">The call to `Assets.AddScript` at the top of the two mapping pages.</span></span> <span data-ttu-id="66759-417">Cette méthode ajoute une référence à la *jquery-1.6.2.min.js* fichier qui est inclus dans le **Starter Site** modèle et qui est requis par le `Maps` classe.</span><span class="sxs-lookup"><span data-stu-id="66759-417">This method adds a reference to the *jquery-1.6.2.min.js* file that is included with the **Starter Site** template and that's required by the `Maps` class.</span></span>
- <span data-ttu-id="66759-418">L’appel à la `Assets.GetScripts` méthode dans le fichier de disposition.</span><span class="sxs-lookup"><span data-stu-id="66759-418">The call to the `Assets.GetScripts` method in the layout file.</span></span> <span data-ttu-id="66759-419">Cette méthode restitue la `<script>` sur les deux pages de mappage de balise.</span><span class="sxs-lookup"><span data-stu-id="66759-419">This method renders the `<script>` tag on the two mapping pages.</span></span>
- <span data-ttu-id="66759-420">L’appel à la `@Maps.GetGoogleHtml` et `@Maps.GetBingHtml` méthodes dans les pages de mappage.</span><span class="sxs-lookup"><span data-stu-id="66759-420">The call to the `@Maps.GetGoogleHtml` and the `@Maps.GetBingHtml` methods in the mapping pages.</span></span> <span data-ttu-id="66759-421">Pour mapper une adresse, vous devez passer une chaîne d’adresse.</span><span class="sxs-lookup"><span data-stu-id="66759-421">To map an address, you must pass an address string.</span></span> <span data-ttu-id="66759-422">Pour mapper les coordonnées, vous devez passer la longitude et latitude coordonnées.</span><span class="sxs-lookup"><span data-stu-id="66759-422">To map coordinates, you must pass longitude and latitude coordinates.</span></span> <span data-ttu-id="66759-423">Pour le moteur de Bing Maps, vous devez également transmettre une clé (que vous puissiez obtenir gratuitement en vous inscrivant à la [site Bing Maps développeurs](https://www.microsoft.com/maps/developers/web.aspx)).</span><span class="sxs-lookup"><span data-stu-id="66759-423">For the Bing Maps engine, you must also pass a key (which you get for free by signing up at the [Bing Maps Developers site](https://www.microsoft.com/maps/developers/web.aspx)).</span></span> <span data-ttu-id="66759-424">Les méthodes pour les autres moteurs de carte fonctionnent de manière similaire (`@Maps.GetYahooHtml`, `@Maps.GetMapQuestHtml`).</span><span class="sxs-lookup"><span data-stu-id="66759-424">The methods for the other map engines work in a similar way (`@Maps.GetYahooHtml`, `@Maps.GetMapQuestHtml`).</span></span>

<span data-ttu-id="66759-425">Pour créer des pages de mappage :</span><span class="sxs-lookup"><span data-stu-id="66759-425">To create mapping pages:</span></span>

1. <span data-ttu-id="66759-426">Créer un site Web basé sur le **Starter Site** modèle.</span><span class="sxs-lookup"><span data-stu-id="66759-426">Create a website based on the **Starter Site** template.</span></span>
2. <span data-ttu-id="66759-427">Créez un fichier nommé *MapAddress.cshtml* à la racine du site.</span><span class="sxs-lookup"><span data-stu-id="66759-427">Create a file named *MapAddress.cshtml* in the root of the site.</span></span> <span data-ttu-id="66759-428">Cette page génère une table basée sur une adresse que vous passez à celui-ci.</span><span class="sxs-lookup"><span data-stu-id="66759-428">This page will generate a map based on an address that you pass to it.</span></span>
3. <span data-ttu-id="66759-429">Copiez le code suivant dans le fichier, en remplaçant le contenu existant.</span><span class="sxs-lookup"><span data-stu-id="66759-429">Copy the following code into the file, overwriting the existing content.</span></span> 

    [!code-cshtml[Main](top-features-in-web-pages-2/samples/sample19.cshtml)]
4. <span data-ttu-id="66759-430">Créez un fichier nommé  *\_MapLayout.cshtml* à la racine du site.</span><span class="sxs-lookup"><span data-stu-id="66759-430">Create a file named *\_MapLayout.cshtml* in the root of the site.</span></span> <span data-ttu-id="66759-431">Cette page sera la page de disposition pour les deux pages de mappage.</span><span class="sxs-lookup"><span data-stu-id="66759-431">This page will be the layout page for the two mapping pages.</span></span>
5. <span data-ttu-id="66759-432">Copiez le code suivant dans le fichier, en remplaçant le contenu existant.</span><span class="sxs-lookup"><span data-stu-id="66759-432">Copy the following code into the file, overwriting the existing content.</span></span> 

    [!code-html[Main](top-features-in-web-pages-2/samples/sample20.html)]
6. <span data-ttu-id="66759-433">Créez un fichier nommé *MapCoordinates.cshtml* à la racine du site.</span><span class="sxs-lookup"><span data-stu-id="66759-433">Create a file named *MapCoordinates.cshtml* in the root of the site.</span></span> <span data-ttu-id="66759-434">Cette page génère une table basée sur un jeu de coordonnées que vous passez à celui-ci.</span><span class="sxs-lookup"><span data-stu-id="66759-434">This page will generate a map based on a set of coordinates that you pass to it.</span></span>
7. <span data-ttu-id="66759-435">Copiez le code suivant dans le fichier, en remplaçant le contenu existant.</span><span class="sxs-lookup"><span data-stu-id="66759-435">Copy the following code into the file, overwriting the existing content.</span></span> 

    [!code-cshtml[Main](top-features-in-web-pages-2/samples/sample21.cshtml)]

<span data-ttu-id="66759-436">Pour tester vos pages de mappage :</span><span class="sxs-lookup"><span data-stu-id="66759-436">To test your mapping pages:</span></span>

1. <span data-ttu-id="66759-437">Exécutez la page *MapAddress.cshtml* fichier.</span><span class="sxs-lookup"><span data-stu-id="66759-437">Run the page *MapAddress.cshtml* file.</span></span>
2. <span data-ttu-id="66759-438">Entrez une chaîne de l’adresse complète, y compris une adresse postale, état ou province et le code postal, puis choisissez le **carte** bouton.</span><span class="sxs-lookup"><span data-stu-id="66759-438">Enter a full address string including a street address, state or province, and postal code, and then choose the **Map It** button.</span></span> <span data-ttu-id="66759-439">La page affiche un mappage à partir de Google Maps :</span><span class="sxs-lookup"><span data-stu-id="66759-439">The page renders a map from Google Maps:</span></span> 

    <span data-ttu-id="66759-440">[![topseven-maphelper-1](top-features-in-web-pages-2/_static/image38.png)](top-features-in-web-pages-2/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="66759-440">[![topseven-maphelper-1](top-features-in-web-pages-2/_static/image38.png)](top-features-in-web-pages-2/_static/image37.png)</span></span>
3. <span data-ttu-id="66759-441">Rechercher un jeu de coordonnées de latitude et longitude pour un emplacement spécifique.</span><span class="sxs-lookup"><span data-stu-id="66759-441">Find a set of latitude and longitude coordinates for a specific location.</span></span>
4. <span data-ttu-id="66759-442">Exécutez la page *MapCoordinates.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="66759-442">Run the page *MapCoordinates.cshtml*.</span></span> <span data-ttu-id="66759-443">Entrez les coordonnées, puis choisissez le **carte** bouton.</span><span class="sxs-lookup"><span data-stu-id="66759-443">Enter the coordinates and then choose the **Map It** button.</span></span> <span data-ttu-id="66759-444">La page affiche un mappage à partir de Bing Maps :</span><span class="sxs-lookup"><span data-stu-id="66759-444">The page renders a map from Bing Maps:</span></span> 

    <span data-ttu-id="66759-445">[![topseven-maphelper-2](top-features-in-web-pages-2/_static/image40.png)](top-features-in-web-pages-2/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="66759-445">[![topseven-maphelper-2](top-features-in-web-pages-2/_static/image40.png)](top-features-in-web-pages-2/_static/image39.png)</span></span>

<a id="sidebyside"></a>
### <a name="running-web-pages-applications-side-by-side"></a><span data-ttu-id="66759-446">Exécution des Pages Web Applications côte à côte</span><span class="sxs-lookup"><span data-stu-id="66759-446">Running Web Pages Applications Side by Side</span></span>

<span data-ttu-id="66759-447">Pages Web 2 ajoute la possibilité d’exécuter des applications côte à côte.</span><span class="sxs-lookup"><span data-stu-id="66759-447">Web Pages 2 adds the ability to run applications side by side.</span></span> <span data-ttu-id="66759-448">Cela vous permet de continuer à exécuter vos applications Web Pages 1, créer de nouvelles applications Web Pages 2 et tous les exécuter sur le même ordinateur.</span><span class="sxs-lookup"><span data-stu-id="66759-448">This lets you continue to run your Web Pages 1 applications, build new Web Pages 2 applications, and run all of them on the same computer.</span></span>

<span data-ttu-id="66759-449">Voici quelques points à retenir lorsque vous installez la version bêta 2 de Pages Web avec WebMatrix :</span><span class="sxs-lookup"><span data-stu-id="66759-449">Here are some things to remember when you install the Web Pages 2 Beta with WebMatrix:</span></span>

- <span data-ttu-id="66759-450">Par défaut, les applications Web Pages existantes exécutera en tant qu’applications de la version 2 sur votre ordinateur.</span><span class="sxs-lookup"><span data-stu-id="66759-450">By default, existing Web Pages applications will run as version 2 applications on your computer.</span></span> <span data-ttu-id="66759-451">(Les assemblys de version 2 sont installés dans le GAC et seront utilisés automatiquement.)</span><span class="sxs-lookup"><span data-stu-id="66759-451">(The assemblies for version 2 are installed in the GAC and will be used automatically.)</span></span>
- <span data-ttu-id="66759-452">Si vous souhaitez exécuter un site à l’aide de la version 1 des Pages Web (au lieu de la valeur par défaut, comme dans le point précédent), vous pouvez configurer le site pour ce faire.</span><span class="sxs-lookup"><span data-stu-id="66759-452">If you want to run a site using Web Pages version 1 (instead of the default, as in the previous point), you can configure the site to do that.</span></span> <span data-ttu-id="66759-453">Si votre site n’a pas encore un *web.config* dans la racine du site, créez-en un et copiez-y le code XML suivant, remplacer le contenu existant.</span><span class="sxs-lookup"><span data-stu-id="66759-453">If your site doesn't already have a *web.config* file in the root of the site, create a new one and copy the following XML into it, overwriting the existing content.</span></span> <span data-ttu-id="66759-454">Si le site contient déjà un *web.config* , ajoutez une `<appSettings>` élément tel que le suivant à la `<configuration>` section.</span><span class="sxs-lookup"><span data-stu-id="66759-454">If the site already contains a *web.config* file, add an `<appSettings>` element like the following one to the `<configuration>` section.</span></span>

    [!code-xml[Main](top-features-in-web-pages-2/samples/sample22.xml)]
<span data-ttu-id="66759-455">'-Si vous ne spécifiez pas une version dans le *web.config* fichier, un site est déployé comme un site de version 2.</span><span class="sxs-lookup"><span data-stu-id="66759-455">\`- If you do not specify a version in the *web.config* file, a site is deployed as a version 2 site.</span></span> <span data-ttu-id="66759-456">(Les assemblys de version 2 sont copiés vers le *bin* dossier dans le site déployé.)</span><span class="sxs-lookup"><span data-stu-id="66759-456">(The version 2 assemblies are copied to the *bin* folder in the deployed site.)</span></span>
- <span data-ttu-id="66759-457">Nouvelles applications que vous créez à l’aide des modèles de site dans la version Web Matrix bêta 2 inclut les assemblys de version 2 des Pages Web dans la table *bin* dossier.</span><span class="sxs-lookup"><span data-stu-id="66759-457">New applications that you create using the site templates in Web Matrix version 2 Beta include the Web Pages version 2 assemblies in the site's *bin* folder.</span></span>

<span data-ttu-id="66759-458">En règle générale, vous pouvez contrôler toujours la version de Pages Web à utiliser avec votre site à l’aide de NuGet pour installer les assemblys appropriés dans le site *bin* dossier.</span><span class="sxs-lookup"><span data-stu-id="66759-458">In general, you can always control which version of Web Pages to use with your site by using NuGet to install the appropriate assemblies into the site's *bin* folder.</span></span> <span data-ttu-id="66759-459">Pour rechercher les packages, visitez [NuGet.org](http://NuGet.org).</span><span class="sxs-lookup"><span data-stu-id="66759-459">To find packages, visit [NuGet.org](http://NuGet.org).</span></span>

<a id="mobile"></a>
### <a name="rendering-pages-for-mobile-devices"></a><span data-ttu-id="66759-460">Rendu des Pages pour les appareils mobiles</span><span class="sxs-lookup"><span data-stu-id="66759-460">Rendering Pages for Mobile Devices</span></span>

<span data-ttu-id="66759-461">Pages Web 2 vous permet de créer des affichages personnalisés pour restituer le contenu sur mobile ou d’autres périphériques.</span><span class="sxs-lookup"><span data-stu-id="66759-461">Web Pages 2 lets you create custom displays for rendering content on mobile or other devices.</span></span>

<span data-ttu-id="66759-462">Le `System.Web.WebPages` espace de noms contient les classes suivantes qui vous permettent de travailler avec les modes d’affichage : `DefaultDisplayMode`, `DisplayInfo`, et `DisplayModes`.</span><span class="sxs-lookup"><span data-stu-id="66759-462">The `System.Web.WebPages` namespace contains the following classes that let you work with display modes: `DefaultDisplayMode`, `DisplayInfo`, and `DisplayModes`.</span></span> <span data-ttu-id="66759-463">Vous pouvez utiliser ces classes directement et écrire du code qui restitue le résultat approprié pour des périphériques spécifiques.</span><span class="sxs-lookup"><span data-stu-id="66759-463">You can use these classes directly and write code that renders the right output for specific devices.</span></span>

<span data-ttu-id="66759-464">Vous pouvez également créer des pages spécifiques à l’appareil à l’aide d’un modèle d’affectation de noms de fichier comme celui-ci : *nom de fichier.* *Mobile**.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="66759-464">Alternatively, you can create device-specific pages by using a file-naming pattern like this: *FileName.**Mobile**.cshtml*.</span></span> <span data-ttu-id="66759-465">Par exemple, vous pouvez créer deux versions d’une page, un nommé *MyFile.cshtml* et l’autre nommé *MyFile.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="66759-465">For example, you can create two versions of a page, one named *MyFile.cshtml* and one named *MyFile.Mobile.cshtml*.</span></span> <span data-ttu-id="66759-466">À l’exécution, quand un appareil mobile demande *MyFile.cshtml*, Pages Web restitue le contenu à partir de *MyFile.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="66759-466">At run time, when a mobile device requests *MyFile.cshtml*, Web Pages renders the content from *MyFile.Mobile.cshtml*.</span></span> <span data-ttu-id="66759-467">Dans le cas contraire, *MyFile.cshtml* est rendu.</span><span class="sxs-lookup"><span data-stu-id="66759-467">Otherwise, *MyFile.cshtml* is rendered.</span></span>

<span data-ttu-id="66759-468">L’exemple suivant montre comment activer le rendu mobile en ajoutant une page de contenu pour les appareils mobiles.</span><span class="sxs-lookup"><span data-stu-id="66759-468">The following example shows how to enable mobile rendering by adding a content page for mobile devices.</span></span> <span data-ttu-id="66759-469">*Page1.cshtml* contient le contenu ainsi qu’une barre latérale de navigation.</span><span class="sxs-lookup"><span data-stu-id="66759-469">*Page1.cshtml* contains content plus a navigation sidebar.</span></span> <span data-ttu-id="66759-470">*Page1.Mobile.cshtml* contient le même contenu, mais omet la barre latérale.</span><span class="sxs-lookup"><span data-stu-id="66759-470">*Page1.Mobile.cshtml* contains the same content, but omits the sidebar.</span></span>

<span data-ttu-id="66759-471">Pour générer et exécuter l’exemple de code :</span><span class="sxs-lookup"><span data-stu-id="66759-471">To build and run the code sample:</span></span>

1. <span data-ttu-id="66759-472">Dans un site Web Pages, créez un fichier nommé *Page1.cshtml* et copiez le *Page1.cshtml* contenu dans celui-ci à partir de l’exemple.</span><span class="sxs-lookup"><span data-stu-id="66759-472">In a Web Pages site, create a file named *Page1.cshtml* and copy the *Page1.cshtml* content into it from the example.</span></span>
2. <span data-ttu-id="66759-473">Créez un fichier nommé *Page1.Mobile.cshtml* et copiez le *Page1.Mobile.cshtml* contenu dans celui-ci à partir de l’exemple.</span><span class="sxs-lookup"><span data-stu-id="66759-473">Create a file named *Page1.Mobile.cshtml* and copy the *Page1.Mobile.cshtml* content into it from the example.</span></span> <span data-ttu-id="66759-474">Notez que la version mobile de la page omet la section de navigation pour optimiser le rendu sur un écran de petite taille.</span><span class="sxs-lookup"><span data-stu-id="66759-474">Notice that the mobile version of the page omits the navigation section for better rendering on a smaller screen.</span></span>
3. <span data-ttu-id="66759-475">Exécuter un navigateur et accédez à *Page1.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="66759-475">Run a desktop browser and browse to *Page1.cshtml*.</span></span>
4. <span data-ttu-id="66759-476">Exécuter un navigateur mobile (ou un émulateur d’appareil mobile) et accédez à *Page1.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="66759-476">Run a mobile browser (or a mobile device emulator) and browse to *Page1.cshtml*.</span></span> <span data-ttu-id="66759-477">Notez que cette fois, les Pages Web restitue la version mobile de la page.</span><span class="sxs-lookup"><span data-stu-id="66759-477">Notice that this time Web Pages renders the mobile version of the page.</span></span> 

    > [!NOTE]
    > <span data-ttu-id="66759-478">Pour tester les pages mobiles, vous pouvez utiliser un simulateur d’appareil mobile qui s’exécute sur un ordinateur de bureau.</span><span class="sxs-lookup"><span data-stu-id="66759-478">To test mobile pages, you can use a mobile device simulator that runs on a desktop computer.</span></span> <span data-ttu-id="66759-479">Cet outil vous permet de tester les pages web comme elles ressemblent sur les appareils mobiles (autrement dit, généralement avec un beaucoup plus petite afficher la zone).</span><span class="sxs-lookup"><span data-stu-id="66759-479">This tool lets you test web pages as they would look on mobile devices (that is, typically with a much smaller display area).</span></span> <span data-ttu-id="66759-480">Par exemple, un simulateur est la [un module complémentaire du sélecteur de l’Agent utilisateur](http://addons.mozilla.org/en-us/firefox/addon/user-agent-switcher/) pour Mozilla Firefox, qui vous permet d’émuler différents navigateurs des appareils mobiles à partir d’une version de bureau de Firefox.</span><span class="sxs-lookup"><span data-stu-id="66759-480">One example of a simulator is the [User Agent Switcher add-on](http://addons.mozilla.org/en-us/firefox/addon/user-agent-switcher/) for Mozilla Firefox, which lets you emulate various mobile browsers from a desktop version of Firefox.</span></span>

<span data-ttu-id="66759-481">*Page1.cshtml*</span><span class="sxs-lookup"><span data-stu-id="66759-481">*Page1.cshtml*</span></span>

[!code-html[Main](top-features-in-web-pages-2/samples/sample23.html)]

<span data-ttu-id="66759-482">*Page1.Mobile.cshtml*</span><span class="sxs-lookup"><span data-stu-id="66759-482">*Page1.Mobile.cshtml*</span></span>

[!code-html[Main](top-features-in-web-pages-2/samples/sample24.html)]

<span data-ttu-id="66759-483">*Page1.cshtml* rendus dans un navigateur de bureau :</span><span class="sxs-lookup"><span data-stu-id="66759-483">*Page1.cshtml* rendered in a desktop browser:</span></span>

<span data-ttu-id="66759-484">[![topseven-displaymodes-1](top-features-in-web-pages-2/_static/image42.png)](top-features-in-web-pages-2/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="66759-484">[![topseven-displaymodes-1](top-features-in-web-pages-2/_static/image42.png)](top-features-in-web-pages-2/_static/image41.png)</span></span>

<span data-ttu-id="66759-485">*Page1.Mobile.cshtml* affiché dans une vue de simulateur iPhone Apple dans le navigateur Firefox.</span><span class="sxs-lookup"><span data-stu-id="66759-485">*Page1.Mobile.cshtml* displayed in an Apple iPhone simulator view in the Firefox browser.</span></span> <span data-ttu-id="66759-486">Même si la demande est de *Page1.cshtml*, les convertisseurs d’application *Page1.Mobile.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="66759-486">Even though the request is to *Page1.cshtml*, the application renders *Page1.Mobile.cshtml*.</span></span>

<span data-ttu-id="66759-487">[![topseven-displaymodes-2](top-features-in-web-pages-2/_static/image44.png)](top-features-in-web-pages-2/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="66759-487">[![topseven-displaymodes-2](top-features-in-web-pages-2/_static/image44.png)](top-features-in-web-pages-2/_static/image43.png)</span></span>

<a id="resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="66759-488">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="66759-488">Additional Resources</span></span>

### <a name="aspnet-web-pages-1-resources"></a><span data-ttu-id="66759-489">Ressources 1 des Pages Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="66759-489">ASP.NET Web Pages 1 Resources</span></span>

> [!NOTE]
> <span data-ttu-id="66759-490">La plupart des Pages Web 1 programmation et ressources d’API s’appliquent toujours à 2 des Pages Web.</span><span class="sxs-lookup"><span data-stu-id="66759-490">Most Web Pages 1 programming and API resources still apply to Web Pages 2.</span></span>

- [<span data-ttu-id="66759-491">Introduction à la programmation des Pages Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="66759-491">Introduction to ASP.NET Web Pages Programming</span></span>](https://go.microsoft.com/fwlink/?LinkId=202890)

### <a name="webmatrix-resources"></a><span data-ttu-id="66759-492">Ressources de WebMatrix</span><span class="sxs-lookup"><span data-stu-id="66759-492">WebMatrix Resources</span></span>

- [<span data-ttu-id="66759-493">WebMatrix 2 Nouveautés</span><span class="sxs-lookup"><span data-stu-id="66759-493">WebMatrix 2 What's New</span></span>](http://webmatrix.com/next)
- [<span data-ttu-id="66759-494">Site de Microsoft WebMatrix</span><span class="sxs-lookup"><span data-stu-id="66759-494">Microsoft WebMatrix Site</span></span>](https://go.microsoft.com/fwlink/?LinkID=195076)
- <span data-ttu-id="66759-495">[Starting Web Development with Microsoft WebMatrix](https://msdn.microsoft.com/en-us/library/hh145669(v=VS.99).aspx)(inclut une application Web Pages standard)</span><span class="sxs-lookup"><span data-stu-id="66759-495">[Starting Web Development with Microsoft WebMatrix](https://msdn.microsoft.com/en-us/library/hh145669(v=VS.99).aspx)(includes a full-length sample Web Pages application)</span></span>
