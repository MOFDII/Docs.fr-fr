---
uid: aspnet/overview/owin-and-katana/an-overview-of-project-katana
title: "Une vue d’ensemble du projet Katana | Documents Microsoft"
author: howarddierking
description: "L’infrastructure ASP.NET a été autour pendant plus de dix ans, et la plateforme a activé le développement d’innombrables sites et services Web. En tant qu’application de Web..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/30/2013
ms.topic: article
ms.assetid: 0ee21741-c1bf-4025-a9b0-24580cae24bc
ms.technology: 
ms.prod: .net-framework
msc.legacyurl: /aspnet/overview/owin-and-katana/an-overview-of-project-katana
msc.type: authoredcontent
ms.openlocfilehash: ceb7d3a7d1cb1685c0f1e62698f508c9a73e77c2
ms.sourcegitcommit: 016f4d58663bcd442930227022de23fb3abee0b3
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/12/2018
---
<a name="an-overview-of-project-katana"></a><span data-ttu-id="6b88c-104">Une vue d’ensemble du projet Katana</span><span class="sxs-lookup"><span data-stu-id="6b88c-104">An Overview of Project Katana</span></span>
====================
<span data-ttu-id="6b88c-105">par [Howard Dierking](https://github.com/howarddierking)</span><span class="sxs-lookup"><span data-stu-id="6b88c-105">by [Howard Dierking](https://github.com/howarddierking)</span></span>

> <span data-ttu-id="6b88c-106">L’infrastructure ASP.NET a été autour pendant plus de dix ans, et la plateforme a activé le développement d’innombrables sites et services Web.</span><span class="sxs-lookup"><span data-stu-id="6b88c-106">The ASP.NET Framework has been around for over ten years, and the platform has enabled the development of countless Web sites and services.</span></span> <span data-ttu-id="6b88c-107">Comme les stratégies de développement d’applications Web ont évolué, l’infrastructure a été en mesure de faire évoluer à l’étape des technologies telles que ASP.NET MVC et API Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6b88c-107">As Web application development strategies have evolved, the framework has been able to evolve in step with technologies like ASP.NET MVC and ASP.NET Web API.</span></span> <span data-ttu-id="6b88c-108">Projet de développement d’applications Web prend sa étape suivante dans le monde du cloud computing, [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) fournit le jeu sous-jacent de composants pour les applications ASP.NET, ce qui leur permet d’être flexible et portable légère et offrir de meilleures performances : autrement dit, le projet [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) cloud permet d’optimiser vos applications ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6b88c-108">As Web application development takes its next evolutionary step into the world of cloud computing, project [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) provides the underlying set of components to ASP.NET applications, enabling them to be flexible, portable, lightweight, and provide better performance – put another way, project [Katana](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET) cloud optimizes your ASP.NET applications.</span></span>


## <a name="why-katana--why-now"></a><span data-ttu-id="6b88c-109">Pourquoi Katana – pourquoi maintenant ?</span><span class="sxs-lookup"><span data-stu-id="6b88c-109">Why Katana – Why Now?</span></span>

 <span data-ttu-id="6b88c-110">Qu’une traite un produit de framework ou de l’utilisateur final de développeur, il est important de comprendre les motivations sous-jacent pour la création du produit – et la partie qui inclut connaître le produit a été créé pour.</span><span class="sxs-lookup"><span data-stu-id="6b88c-110">Regardless whether one is discussing a developer framework or end-user product, it's important to understand the underlying motivations for creating the product – and part of that includes knowing who the product was created for.</span></span> <span data-ttu-id="6b88c-111">ASP.NET a été créé avec les deux clients à l’esprit.</span><span class="sxs-lookup"><span data-stu-id="6b88c-111">ASP.NET was originally created with two customers in mind.</span></span>   
  
<span data-ttu-id="6b88c-112">**Le premier groupe de clients a été les développeurs ASP classiques.**</span><span class="sxs-lookup"><span data-stu-id="6b88c-112">**The first group of customers was classic ASP developers.**</span></span> <span data-ttu-id="6b88c-113">À l’heure, ASP a été une des principales technologies pour la création d’applications et des sites Web dynamiques, pilotés par les données par entrelacement de balisage et le script côté serveur.</span><span class="sxs-lookup"><span data-stu-id="6b88c-113">At the time, ASP was one of the primary technologies for creating dynamic, data-driven Web sites and applications by interweaving markup and server-side script.</span></span> <span data-ttu-id="6b88c-114">Le runtime ASP fourni un script côté serveur avec un ensemble d’objets qui extrait les principaux aspects du protocole HTTP sous-jacent et serveur Web et autant de l’accès à d’autres services telle session état des applications, mettre en cache, etc. Pendant puissant, les applications ASP classiques est devenue difficile à gérer comme elles ont augmenté en taille et en complexité.</span><span class="sxs-lookup"><span data-stu-id="6b88c-114">The ASP runtime supplied server-side script with a set of objects that abstracted core aspects of the underlying HTTP protocol and Web server and provided access to additional services such session and application state management, cache, etc. While powerful, classic ASP applications became a challenge to manage as they grew in size and complexity.</span></span> <span data-ttu-id="6b88c-115">Ceci était due en grande partie de l’absence de structure trouvée dans les environnements associées à la duplication de code qui résulte de l’entrelacement de code et de balises de script.</span><span class="sxs-lookup"><span data-stu-id="6b88c-115">This was largely due to the lack of structure found in scripting environments coupled with the duplication of code resulting from the interleaving of code and markup.</span></span> <span data-ttu-id="6b88c-116">Afin de profiter des avantages de ASP classique, tout en répondant à certaines de relever ces défis, ASP.NET a tiré parti de l’organisation de code fournie par les langages orientés objet du .NET Framework tout en conservant le modèle de programmation côté serveur pour le ASP classique développeurs avaient pris l’habitude.</span><span class="sxs-lookup"><span data-stu-id="6b88c-116">In order to capitalize on the strengths of classic ASP while addressing some of its challenges, ASP.NET took advantage of the code organization provided by the object-oriented languages of the .NET Framework while also preserving the server-side programming model to which classic ASP developers had grown accustomed.</span></span>

<span data-ttu-id="6b88c-117">**Le deuxième groupe de clients cibles pour ASP.NET a été les développeurs d’applications métier Windows.**</span><span class="sxs-lookup"><span data-stu-id="6b88c-117">**The second group of target customers for ASP.NET was Windows business application developers.**</span></span> <span data-ttu-id="6b88c-118">Contrairement aux développeurs ASP classiques, qui ont été habitués à l’écriture de code HTML et le code pour générer un balisage HTML plus, les développeurs de WinForms (par exemple, les développeurs VB6 avant eux) ont été habitué à une expérience au moment du design qui incluait une zone de dessin et un ensemble complet de l’utilisateur contrôles d’interface.</span><span class="sxs-lookup"><span data-stu-id="6b88c-118">Unlike classic ASP developers, who were accustomed to writing HTML markup and the code to generate more HTML markup, WinForms developers (like the VB6 developers before them) were accustomed to a design time experience that included a canvas and a rich set of user interface controls.</span></span> <span data-ttu-id="6b88c-119">La première version de ASP.NET – également appelé « Web Forms » fourni une expérience au moment du design similaire avec un modèle d’événement du côté serveur pour les composants d’interface utilisateur et un ensemble de fonctions d’infrastructure (tels que ViewState) pour créer une expérience développeur transparente entre le client et la programmation du côté serveur.</span><span class="sxs-lookup"><span data-stu-id="6b88c-119">The first version of ASP.NET – also known as "Web Forms" provided a similar design time experience along with a server-side event model for user interface components and a set of infrastructure features (such as ViewState) to create a seamless developer experience between client and server side programming.</span></span> <span data-ttu-id="6b88c-120">Web Forms hid efficacement la nature sans état du site Web sous un modèle d’événement avec état qui était familière aux développeurs de WinForms.</span><span class="sxs-lookup"><span data-stu-id="6b88c-120">Web Forms effectively hid the Web's stateless nature under a stateful event model that was familiar to WinForms developers.</span></span>

### <a name="challenges-raised-by-the-historical-model"></a><span data-ttu-id="6b88c-121">Défis déclenchés par le modèle historique</span><span class="sxs-lookup"><span data-stu-id="6b88c-121">Challenges Raised by the Historical Model</span></span>

<span data-ttu-id="6b88c-122">**Le résultat net est un modèle de programmation de développement et d’exécution déjà rodée, riche en fonctionnalités.**</span><span class="sxs-lookup"><span data-stu-id="6b88c-122">**The net result was a mature, feature-rich runtime and developer programming model.**</span></span> <span data-ttu-id="6b88c-123">Toutefois, avec qui richesse de fonctionnalité est deux défis importants.</span><span class="sxs-lookup"><span data-stu-id="6b88c-123">However, with that feature-richness came a couple notable challenges.</span></span> <span data-ttu-id="6b88c-124">Tout d’abord, l’infrastructure a été **monolithique**, avec des unités logiquement disparates de fonctionnalités est étroitement lié dans le même assembly System.Web.dll (par exemple, les objets de base HTTP avec l’infrastructure de formulaires Web).</span><span class="sxs-lookup"><span data-stu-id="6b88c-124">Firstly, the framework was **monolithic**, with logically disparate units of functionality being tightly coupled in the same System.Web.dll assembly (for example, the core HTTP objects with the Web forms framework).</span></span> <span data-ttu-id="6b88c-125">Deuxièmement, ASP.NET a été inclus dans le cadre de la plus grande .NET Framework, ce qui signifiait que la **temps entre les versions a l’ordre des années.**</span><span class="sxs-lookup"><span data-stu-id="6b88c-125">Secondly, ASP.NET was included as a part of the larger .NET Framework, which meant that the **time between releases was on the order of years.**</span></span> <span data-ttu-id="6b88c-126">Cela rend difficile pour ASP.NET faire face à toutes les modifications effectuées dans le développement Web en constante évolution.</span><span class="sxs-lookup"><span data-stu-id="6b88c-126">This made it difficult for ASP.NET to keep pace with all of the changes happening in rapidly evolving Web development.</span></span> <span data-ttu-id="6b88c-127">Enfin, System.Web.dll lui-même a été couplée de différentes manières pour un site Web spécifique, option d’hébergement : Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="6b88c-127">Finally, System.Web.dll itself was coupled in a few different ways to a specific Web hosting option: Internet Information Services (IIS).</span></span>

### <a name="evolutionary-steps-aspnet-mvc-and-aspnet-web-api"></a><span data-ttu-id="6b88c-128">Étapes : ASP.NET MVC et API Web ASP.NET</span><span class="sxs-lookup"><span data-stu-id="6b88c-128">Evolutionary steps: ASP.NET MVC and ASP.NET Web API</span></span>

<span data-ttu-id="6b88c-129">Et un grand nombre de modifications a été effectuée dans le développement Web !</span><span class="sxs-lookup"><span data-stu-id="6b88c-129">And lots of change was happening in Web development!</span></span> <span data-ttu-id="6b88c-130">Les applications Web plus sont développées que comme ayant le focus une série de petits composants plutôt que des infrastructures de grande taille.</span><span class="sxs-lookup"><span data-stu-id="6b88c-130">Web applications were increasingly being developed as a series of small, focused components rather than large frameworks.</span></span> <span data-ttu-id="6b88c-131">Le nombre de composants, ainsi que la fréquence à laquelle ils ont été publiées avait augmenté à un rythme jamais plus rapide.</span><span class="sxs-lookup"><span data-stu-id="6b88c-131">The number of components as well as the frequency with which they were released was increasing at an ever faster rate.</span></span> <span data-ttu-id="6b88c-132">Il était clair qu’également suivre le rythme avec le site Web requiert infrastructures pour obtenir des plus petites, découplée et plus ciblée plutôt que de plus grands et plus complet, par conséquent la **équipe ASP.NET a eu plusieurs étapes pour activer ASP.NET en tant qu’une famille de les composants Web enfichables plutôt que d’une infrastructure unique**.</span><span class="sxs-lookup"><span data-stu-id="6b88c-132">It was clear that keeping pace with the Web would require frameworks to get smaller, decoupled and more focused rather than larger and more feature-rich, therefore the **ASP.NET team took several evolutionary steps to enable ASP.NET as a family of pluggable Web components rather than a single framework**.</span></span>

<span data-ttu-id="6b88c-133">Une des premières modifications a été l’augmentation de la popularité du modèle de conception model-view-controller (MVC) grâce aux infrastructures de développement Web comme Ruby connue sur les Rails.</span><span class="sxs-lookup"><span data-stu-id="6b88c-133">One of the early changes was the rise in popularity of the well-known model-view-controller (MVC) design pattern thanks to Web development frameworks like Ruby on Rails.</span></span> <span data-ttu-id="6b88c-134">Ce style de la génération d’applications Web a donné le développeur plus grand contrôle sur le balisage de son application tout en conservant la séparation de balisage et la logique métier, qui était un des points de vente initiales pour ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6b88c-134">This style of building Web applications gave the developer greater control over her application's markup while still preserving the separation of markup and business logic, which was one of the initial selling points for ASP.NET.</span></span> <span data-ttu-id="6b88c-135">Pour répondre à la demande pour ce style de développement d’applications Web, Microsoft a eu la possibilité de se positionner adaptés à l’avenir en **développement d’ASP.NET MVC hors bande** (et non le compris dans le .NET Framework).</span><span class="sxs-lookup"><span data-stu-id="6b88c-135">To meet the demand for this style of Web application development, Microsoft took the opportunity to position itself better for the future by **developing ASP.NET MVC out of band** (and not including it in the .NET Framework).</span></span> <span data-ttu-id="6b88c-136">ASP.NET MVC a été publiée en tant qu’un téléchargement indépendant.</span><span class="sxs-lookup"><span data-stu-id="6b88c-136">ASP.NET MVC was released as an independent download.</span></span> <span data-ttu-id="6b88c-137">L’équipe d’ingénierie a donné la possibilité de fournir des mises à jour plus fréquemment qu’il avait été précédemment possible.</span><span class="sxs-lookup"><span data-stu-id="6b88c-137">This gave the engineering team the flexibility to deliver updates much more frequently than had been previously possible.</span></span>

<span data-ttu-id="6b88c-138">Une autre avancée importante dans le développement d’applications Web ont des pages Web dynamiques générées par le serveur statiques balisage initiale avec les sections dynamiques de la page générée à partir d’un script côté client communiquent **avec le serveur principal API Web via Les requêtes AJAX**.</span><span class="sxs-lookup"><span data-stu-id="6b88c-138">Another major shift in Web application development was the shift from dynamic, server-generated Web pages to static initial markup with dynamic sections of the page generated from client-side script communicating **with backend Web APIs through AJAX requests**.</span></span> <span data-ttu-id="6b88c-139">Cette approche architecturale permettait d’assurer la propulsion l’essor des API Web et le développement de l’infrastructure de l’API Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6b88c-139">This architectural shift helped propel the rise of Web APIs, and the development of the ASP.NET Web API framework.</span></span> <span data-ttu-id="6b88c-140">Comme dans le cas d’ASP.NET MVC, la version de l’API Web ASP.NET fourni une autre opportunité de faire évoluer plus comme une infrastructure plus modulaire de ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6b88c-140">As in the case of ASP.NET MVC, the release of ASP.NET Web API provided another opportunity to evolve ASP.NET further as a more modular framework.</span></span> <span data-ttu-id="6b88c-141">L’équipe d’ingénierie a tiré parti de l’opportunité et **générés API Web ASP.NET de sorte que qu’elle n’avait aucuns dépendances sur un des types fondamentaux framework trouvés dans System.Web.dll**.</span><span class="sxs-lookup"><span data-stu-id="6b88c-141">The engineering team took advantage of the opportunity and **built ASP.NET Web API such that it had no dependencies on any of the core framework types found in System.Web.dll**.</span></span> <span data-ttu-id="6b88c-142">Cette option activée deux choses : tout d’abord, elle signifiait que API Web ASP.NET peut évoluer de manière entièrement autonome (et il peut continuer à effectuer une itération rapidement, car il est fourni via NuGet).</span><span class="sxs-lookup"><span data-stu-id="6b88c-142">This enabled two things: first, it meant that ASP.NET Web API could evolve in a completely self-contained manner (and it could continue to iterate quickly because it is delivered via NuGet).</span></span> <span data-ttu-id="6b88c-143">En second lieu, car il y a aucune dépendance externe à System.Web.dll et par conséquent, aucune dépendance sur IIS, ASP.NET Web API inclus permet de s’exécuter dans un hôte personnalisé (par exemple, une application console, le service Windows, etc.)</span><span class="sxs-lookup"><span data-stu-id="6b88c-143">Second, because there were no external dependencies to System.Web.dll, and therefore, no dependencies to IIS, ASP.NET Web API included the capability to run in a custom host (for example, a console application, Windows service, etc.)</span></span>

### <a name="the-future-a-nimble-framework"></a><span data-ttu-id="6b88c-144">L’avenir : Une infrastructure d’agilité</span><span class="sxs-lookup"><span data-stu-id="6b88c-144">The Future: A Nimble Framework</span></span>

<span data-ttu-id="6b88c-145">En dissociant les unes des autres composants de l’infrastructure et les libérant puis sur NuGet, infrastructures pourraient désormais **itérer plus rapidement et plus indépendamment**.</span><span class="sxs-lookup"><span data-stu-id="6b88c-145">By decoupling framework components from one another and then releasing them on NuGet, frameworks could now **iterate more independently and more quickly**.</span></span> <span data-ttu-id="6b88c-146">En outre, la puissance et la flexibilité de la capacité d’auto-hébergement de l’API Web sont révélées très intéressant pour les développeurs qui voulaient une **hôte petit et léger** pour leurs services.</span><span class="sxs-lookup"><span data-stu-id="6b88c-146">Additionally, the power and flexibility of Web API's self-hosting capability proved very attractive to developers who wanted a **small, lightweight host** for their services.</span></span> <span data-ttu-id="6b88c-147">Il a été identifié comme si attrayante, que d’autres infrastructures souhaitiez également cette fonctionnalité en fait, et cela exposés un nouveau défi que chaque framework exécuté dans son propre processus d’hôte sur sa propre adresse de base et devait être géré (démarré, arrêté, etc.) indépendamment.</span><span class="sxs-lookup"><span data-stu-id="6b88c-147">It proved so attractive, in fact, that other frameworks also wanted this capability, and this surfaced a new challenge in that each framework ran in its own host process on its own base address and needed to be managed (started, stopped, etc.) independently.</span></span> <span data-ttu-id="6b88c-148">Une application Web moderne prend généralement en charge les serveurs de fichiers statiques, la génération de page dynamique, API Web et plus récemment real-time/des notifications push.</span><span class="sxs-lookup"><span data-stu-id="6b88c-148">A modern Web application generally supports static file serving, dynamic page generation, Web API, and more recently real-time/push notifications.</span></span> <span data-ttu-id="6b88c-149">Attend que chacun de ces services doit-elle être exécuté et géré indépendamment n’était tout simplement pas réaliste.</span><span class="sxs-lookup"><span data-stu-id="6b88c-149">Expecting that each of these services should be run and managed independently was simply not realistic.</span></span>

<span data-ttu-id="6b88c-150">Ce qui a été nécessaire a été une abstraction d’hébergement unique qui pourraient permettre à un développeur composer une application à partir d’une variété de différents composants et des infrastructures, puis exécuter cette application sur un ordinateur hôte prenant en charge.</span><span class="sxs-lookup"><span data-stu-id="6b88c-150">What was needed was a single hosting abstraction that would enable a developer to compose an application from a variety of different components and frameworks, and then run that application on a supporting host.</span></span>

## <a name="the-open-web-interface-for-net-owin"></a><span data-ttu-id="6b88c-151">L’Interface Web ouverte pour .NET (OWIN)</span><span class="sxs-lookup"><span data-stu-id="6b88c-151">The Open Web Interface for .NET (OWIN)</span></span>

 <span data-ttu-id="6b88c-152">Inspirés par les avantages résultant de la [Rack](http://rack.github.io/) dans la Communauté Ruby, plusieurs membres de la Communauté .NET prévue pour créer une abstraction entre les serveurs Web et les composants de l’infrastructure.</span><span class="sxs-lookup"><span data-stu-id="6b88c-152">Inspired by the benefits achieved by [Rack](http://rack.github.io/) in the Ruby community, several members of the .NET community set out to create an abstraction between Web servers and framework components.</span></span> <span data-ttu-id="6b88c-153">Deux objectifs de conception pour l’abstraction OWIN ont été qu’il était simple et nécessaire possibles de dépendances sur d’autres types de framework.</span><span class="sxs-lookup"><span data-stu-id="6b88c-153">Two design goals for the OWIN abstraction were that it was simple and that it took the fewest possible dependencies on other framework types.</span></span> <span data-ttu-id="6b88c-154">Ces deux objectifs permettent de garantir :</span><span class="sxs-lookup"><span data-stu-id="6b88c-154">These two goals help ensure:</span></span>

- <span data-ttu-id="6b88c-155">Nouveaux composants pourraient plus facilement développés et consommés.</span><span class="sxs-lookup"><span data-stu-id="6b88c-155">New components could be more easily developed and consumed.</span></span>
- <span data-ttu-id="6b88c-156">Applications peuvent être déplacées plus facilement entre les hôtes et potentiellement entière plates-formes/systèmes d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="6b88c-156">Applications could be more easily ported between hosts and potentially entire platforms/operating systems.</span></span>

<span data-ttu-id="6b88c-157">L’abstraction obtenue se compose de deux éléments principaux.</span><span class="sxs-lookup"><span data-stu-id="6b88c-157">The resulting abstraction consists of two core elements.</span></span> <span data-ttu-id="6b88c-158">Le premier est le dictionnaire d’environnement.</span><span class="sxs-lookup"><span data-stu-id="6b88c-158">The first is the environment dictionary.</span></span> <span data-ttu-id="6b88c-159">Cette structure de données est chargée de stocker l’ensemble de l’état nécessaire pour le traitement d’une requête HTTP et de réponse, ainsi que n’importe quel état du serveur approprié.</span><span class="sxs-lookup"><span data-stu-id="6b88c-159">This data structure is responsible for storing all of the state necessary for processing an HTTP request and response, as well as any relevant server state.</span></span> <span data-ttu-id="6b88c-160">Le dictionnaire d’environnement est défini comme suit :</span><span class="sxs-lookup"><span data-stu-id="6b88c-160">The environment dictionary is defined as follows:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample1.cmd)]

<span data-ttu-id="6b88c-161">Un serveur compatible OWIN Web est chargé de remplir le dictionnaire d’environnement avec des données telles que le flux du corps et les collections d’en-têtes pour une requête et réponse HTTP.</span><span class="sxs-lookup"><span data-stu-id="6b88c-161">An OWIN-compatible Web server is responsible for populating the environment dictionary with data such as the body streams and header collections for an HTTP request and response.</span></span> <span data-ttu-id="6b88c-162">Il est alors la responsabilité des composants d’application ou votre infrastructure pour remplir ou de mettre à jour le dictionnaire avec des valeurs supplémentaires et d’écrire dans le flux du corps de réponse.</span><span class="sxs-lookup"><span data-stu-id="6b88c-162">It is then the responsibility of the application or framework components to populate or update the dictionary with additional values and write to the response body stream.</span></span>

<span data-ttu-id="6b88c-163">En plus de spécifier le type pour le dictionnaire d’environnement, la spécification OWIN définit une liste de paires de valeur de clé de dictionnaire principal.</span><span class="sxs-lookup"><span data-stu-id="6b88c-163">In addition to specifying the type for the environment dictionary, the OWIN specification defines a list of core dictionary key value pairs.</span></span> <span data-ttu-id="6b88c-164">Par exemple, le tableau suivant montre les clés de dictionnaire requis pour une requête HTTP :</span><span class="sxs-lookup"><span data-stu-id="6b88c-164">For example, the following table shows the required dictionary keys for an HTTP request:</span></span>

| <span data-ttu-id="6b88c-165">Nom de clé</span><span class="sxs-lookup"><span data-stu-id="6b88c-165">Key Name</span></span> | <span data-ttu-id="6b88c-166">Description de la valeur</span><span class="sxs-lookup"><span data-stu-id="6b88c-166">Value Description</span></span> |
| --- | --- |
| `"owin.RequestBody"` | <span data-ttu-id="6b88c-167">Un flux avec le corps de la demande, le cas échéant.</span><span class="sxs-lookup"><span data-stu-id="6b88c-167">A Stream with the request body, if any.</span></span> <span data-ttu-id="6b88c-168">Stream.Null peut être utilisé comme espace réservé s’il n’existe aucun corps de la demande.</span><span class="sxs-lookup"><span data-stu-id="6b88c-168">Stream.Null MAY be used as a placeholder if there is no request body.</span></span> <span data-ttu-id="6b88c-169">Consultez [corps de la demande](http://owin.org/html/owin.html#34-request-body-100-continue-and-completed-semantics).</span><span class="sxs-lookup"><span data-stu-id="6b88c-169">See [Request Body](http://owin.org/html/owin.html#34-request-body-100-continue-and-completed-semantics).</span></span> |
| `"owin.RequestHeaders"` | <span data-ttu-id="6b88c-170">Un `IDictionary<string, string[]>` des en-têtes de demande.</span><span class="sxs-lookup"><span data-stu-id="6b88c-170">An `IDictionary<string, string[]>` of request headers.</span></span> <span data-ttu-id="6b88c-171">Consultez [en-têtes](http://owin.org/html/owin.html#3-3-headers).</span><span class="sxs-lookup"><span data-stu-id="6b88c-171">See [Headers](http://owin.org/html/owin.html#3-3-headers).</span></span> |
| `"owin.RequestMethod"` | <span data-ttu-id="6b88c-172">A `string` contenant la méthode de demande HTTP de la demande (par exemple, `"GET"`, `"POST"`).</span><span class="sxs-lookup"><span data-stu-id="6b88c-172">A `string` containing the HTTP request method of the request (e.g., `"GET"`, `"POST"`).</span></span> |
| `"owin.RequestPath"` | <span data-ttu-id="6b88c-173">A `string` contenant le chemin d’accès de la demande.</span><span class="sxs-lookup"><span data-stu-id="6b88c-173">A `string` containing the request path.</span></span> <span data-ttu-id="6b88c-174">Le chemin d’accès doit être relatif à la « racine » du délégué de l’application ; consultez [chemins d’accès](http://owin.org/html/owin.html#5-3-paths).</span><span class="sxs-lookup"><span data-stu-id="6b88c-174">The path MUST be relative to the "root" of the application delegate; see [Paths](http://owin.org/html/owin.html#5-3-paths).</span></span> |
| `"owin.RequestPathBase"` | <span data-ttu-id="6b88c-175">A `string` contenant la partie du chemin d’accès de demande correspondant à « root » du délégué de l’application ; consultez [chemins d’accès](http://owin.org/html/owin.html#5-3-paths).</span><span class="sxs-lookup"><span data-stu-id="6b88c-175">A `string` containing the portion of the request path corresponding to the "root" of the application delegate; see [Paths](http://owin.org/html/owin.html#5-3-paths).</span></span> |
| `"owin.RequestProtocol"` | <span data-ttu-id="6b88c-176">A `string` contenant le nom de protocole et la version (par exemple, `"HTTP/1.0"` ou `"HTTP/1.1"`).</span><span class="sxs-lookup"><span data-stu-id="6b88c-176">A `string` containing the protocol name and version (e.g. `"HTTP/1.0"` or `"HTTP/1.1"`).</span></span> |
| `"owin.RequestQueryString"` | <span data-ttu-id="6b88c-177">A `string` contenant le composant de chaîne de requête de l’URI, de la requête HTTP sans espace initial « ? » (par exemple, `"foo=bar&baz=quux"`).</span><span class="sxs-lookup"><span data-stu-id="6b88c-177">A `string` containing the query string component of the HTTP request URI, without the leading "?" (e.g., `"foo=bar&baz=quux"`).</span></span> <span data-ttu-id="6b88c-178">La valeur peut être une chaîne vide.</span><span class="sxs-lookup"><span data-stu-id="6b88c-178">The value may be an empty string.</span></span> |
| `"owin.RequestScheme"` | <span data-ttu-id="6b88c-179">A `string` contenant le schéma d’URI utilisé pour la demande (par exemple, `"http"`, `"https"`) ; consultez [schéma d’URI](http://owin.org/html/owin.html#5-1-uri-scheme).</span><span class="sxs-lookup"><span data-stu-id="6b88c-179">A `string` containing the URI scheme used for the request (e.g., `"http"`, `"https"`); see [URI Scheme](http://owin.org/html/owin.html#5-1-uri-scheme).</span></span> |

<span data-ttu-id="6b88c-180">Le deuxième élément clé de OWIN correspond au délégué de l’application.</span><span class="sxs-lookup"><span data-stu-id="6b88c-180">The second key element of OWIN is the application delegate.</span></span> <span data-ttu-id="6b88c-181">Il s’agit d’une signature de fonction qui sert d’interface principale entre tous les composants dans une application OWIN.</span><span class="sxs-lookup"><span data-stu-id="6b88c-181">This is a function signature which serves as the primary interface between all components in an OWIN application.</span></span> <span data-ttu-id="6b88c-182">La définition du délégué de l’application est la suivante :</span><span class="sxs-lookup"><span data-stu-id="6b88c-182">The definition for the application delegate is as follows:</span></span>

`Func<IDictionary<string, object>, Task>;`

<span data-ttu-id="6b88c-183">Le délégué de l’application est ensuite simplement une implémentation du type de délégué Func où la fonction accepte le dictionnaire d’environnement comme entrée et retourne une tâche.</span><span class="sxs-lookup"><span data-stu-id="6b88c-183">The application delegate then is simply an implementation of the Func delegate type where the function accepts the environment dictionary as input and returns a Task.</span></span> <span data-ttu-id="6b88c-184">Cette conception a plusieurs conséquences pour les développeurs :</span><span class="sxs-lookup"><span data-stu-id="6b88c-184">This design has several implications for developers:</span></span>

- <span data-ttu-id="6b88c-185">Il existe un très petit nombre de dépendances de type nécessaires pour écrire des composants de OWIN.</span><span class="sxs-lookup"><span data-stu-id="6b88c-185">There are a very small number of type dependencies required in order to write OWIN components.</span></span> <span data-ttu-id="6b88c-186">Cela augmente considérablement l’accessibilité de OWIN pour les développeurs.</span><span class="sxs-lookup"><span data-stu-id="6b88c-186">This greatly increases the accessibility of OWIN to developers.</span></span>
- <span data-ttu-id="6b88c-187">La conception asynchrone permet l’abstraction être efficace avec la gestion des ressources informatiques, en particulier dans d’autres opérations intensives d’e/s.</span><span class="sxs-lookup"><span data-stu-id="6b88c-187">The asynchronous design enables the abstraction to be efficient with its handling of computing resources, particularly in more I/O intensive operations.</span></span>
- <span data-ttu-id="6b88c-188">Étant donné que le délégué de l’application est une unité atomique de l’exécution et car le dictionnaire d’environnement est exécuté en tant que paramètre le délégué, composants OWIN peuvent facilement être chaînés ensemble pour créer HTTP complexe pipelines de traitement.</span><span class="sxs-lookup"><span data-stu-id="6b88c-188">Because the application delegate is an atomic unit of execution and because the environment dictionary is carried as a parameter on the delegate, OWIN components can be easily chained together to create complex HTTP processing pipelines.</span></span>

<span data-ttu-id="6b88c-189">Du point de vue de l’implémentation, OWIN est une spécification ([http://owin.org/html/owin.html](http://owin.org/html/owin.html)).</span><span class="sxs-lookup"><span data-stu-id="6b88c-189">From an implementation perspective, OWIN is a specification ([http://owin.org/html/owin.html](http://owin.org/html/owin.html)).</span></span> <span data-ttu-id="6b88c-190">Son objectif est de ne pas à l’infrastructure Web suivante, mais plutôt une spécification pour l’interagissent des infrastructures Web et les serveurs Web.</span><span class="sxs-lookup"><span data-stu-id="6b88c-190">Its goal is not to be the next Web framework, but rather a specification for how Web frameworks and Web servers interact.</span></span>

<span data-ttu-id="6b88c-191">Si vous avez examiné [OWIN](http://owin.org/) ou [Katana](https://github.com/aspnet/AspNetKatana/wiki), vous aurez peut-être également remarqué la [package NuGet de Owin](http://nuget.org/packages/Owin) et Owin.dll.</span><span class="sxs-lookup"><span data-stu-id="6b88c-191">If you've investigated [OWIN](http://owin.org/) or [Katana](https://github.com/aspnet/AspNetKatana/wiki), you may also have noticed the [Owin NuGet package](http://nuget.org/packages/Owin) and Owin.dll.</span></span> <span data-ttu-id="6b88c-192">Cette bibliothèque contient une seule interface, [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs), qui formalise et codifie décrite dans la séquence de démarrage [section 4](http://owin.org/html/owin.html#4-application-startup) de la spécification OWIN.</span><span class="sxs-lookup"><span data-stu-id="6b88c-192">This library contains a single interface, [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs), which formalizes and codifies the startup sequence described in [section 4](http://owin.org/html/owin.html#4-application-startup) of the OWIN specification.</span></span> <span data-ttu-id="6b88c-193">Bien que non obligatoire pour pouvoir créer des serveurs OWIN, le [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs) interface fournit un point de référence concrète, et il est utilisé par les composants du projet Katana.</span><span class="sxs-lookup"><span data-stu-id="6b88c-193">While not required in order to build OWIN servers, the [IAppBuilder](https://github.com/owin/owin/blob/master/src/Owin/IAppBuilder.cs) interface provides a concrete reference point, and it is used by the Katana project components.</span></span>

## <a name="project-katana"></a><span data-ttu-id="6b88c-194">Projet Katana</span><span class="sxs-lookup"><span data-stu-id="6b88c-194">Project Katana</span></span>

<span data-ttu-id="6b88c-195">Alors qu’à la fois le [OWIN](http://owin.org/html/owin.html) spécification et *Owin.dll* sont détenus et Communauté exécuter efforts d’ouvrir la source, le [Katana](https://github.com/aspnet/AspNetKatana/wiki) projet représente l’ensemble des OWIN composants qui, lors de la source encore ouverte, sont créées et publiées par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="6b88c-195">Whereas both the [OWIN](http://owin.org/html/owin.html) specification and *Owin.dll* are community owned and community run open source efforts, the [Katana](https://github.com/aspnet/AspNetKatana/wiki) project represents the set of OWIN components that, while still open source, are built and released by Microsoft.</span></span> <span data-ttu-id="6b88c-196">Ces composants incluent les composants d’infrastructure, tels que les ordinateurs hôtes et serveurs, ainsi que des composants fonctionnels, tels que les composants d’authentification et de liaisons aux infrastructures telles que [SignalR](../../../signalr/index.md) et [Web ASP.NET API](../../../web-api/overview/getting-started-with-aspnet-web-api/index.md).</span><span class="sxs-lookup"><span data-stu-id="6b88c-196">These components include both infrastructure components, such as hosts and servers, as well as functional components, such as authentication components and bindings to frameworks such as [SignalR](../../../signalr/index.md) and [ASP.NET Web API](../../../web-api/overview/getting-started-with-aspnet-web-api/index.md).</span></span> <span data-ttu-id="6b88c-197">Le projet possède les trois objectifs de haut niveau suivants :</span><span class="sxs-lookup"><span data-stu-id="6b88c-197">The project has the following three high level goals:</span></span> 

- <span data-ttu-id="6b88c-198">**Portable** – composants doivent être en mesure de remplacer facilement pour les nouveaux composants qu’elles sont disponibles.</span><span class="sxs-lookup"><span data-stu-id="6b88c-198">**Portable** – Components should be able to be easily substituted for new components as they become available.</span></span> <span data-ttu-id="6b88c-199">Cela inclut tous les types de composants, à partir de l’infrastructure pour le serveur et l’hôte.</span><span class="sxs-lookup"><span data-stu-id="6b88c-199">This includes all types of components, from the framework to the server and host.</span></span> <span data-ttu-id="6b88c-200">Implication de cet objectif est que les infrastructures de tiers peuvent en toute transparence exécuter sur des serveurs Microsoft tandis que les infrastructures de Microsoft peuvent être exécutés sur des ordinateurs hôtes et des serveurs tiers.</span><span class="sxs-lookup"><span data-stu-id="6b88c-200">The implication of this goal is that third party frameworks can seamlessly run on Microsoft servers while Microsoft frameworks can potentially run on third party servers and hosts.</span></span>
- <span data-ttu-id="6b88c-201">**Modulaire/flexible**– Contrairement à nombreuses infrastructures qui incluent un large éventail de fonctionnalités qui sont activées par défaut, les composants de projet Katana doivent être petit et ayant le focus, ce qui donne un contrôle au développeur d’applications pour déterminer quels composants de utiliser dans son application.</span><span class="sxs-lookup"><span data-stu-id="6b88c-201">**Modular/flexible**– Unlike many frameworks which include a myriad of features that are turned on by default, Katana project components should be small and focused, giving control over to the application developer in determining which components to use in her application.</span></span>
- <span data-ttu-id="6b88c-202">**Lightweight/performant/évolutive** : en divisant la notion traditionnelle d’une infrastructure en un ensemble de petites, axée sur les composants qui sont ajoutés de manière explicite par le développeur d’applications, une application Katana résultante peut consommer moins de calcul ressources et par conséquent, gérer plus de charge, à avec d’autres types de serveurs et des infrastructures.</span><span class="sxs-lookup"><span data-stu-id="6b88c-202">**Lightweight/performant/scalable** – By breaking the traditional notion of a framework into a set of small, focused components which are added explicitly by the application developer, a resulting Katana application can consume fewer computing resources, and as a result, handle more load, than with other types of servers and frameworks.</span></span> <span data-ttu-id="6b88c-203">Comme la configuration requise de l’application demande davantage de fonctionnalités à partir de l’infrastructure sous-jacente, celles peuvent être ajoutés au pipeline OWIN, mais qui doit être une décision explicite le développeur d’applications.</span><span class="sxs-lookup"><span data-stu-id="6b88c-203">As the requirements of the application demand more features from the underlying infrastructure, those can be added to the OWIN pipeline, but that should be an explicit decision on the part of the application developer.</span></span> <span data-ttu-id="6b88c-204">En outre, la possibilité de substitution de composants de niveau inférieur signifie que lorsqu’elles sont disponibles, nouveaux serveurs hautes performances peuvent en toute transparence introduites pour améliorer les performances des applications OWIN sans interrompre les applications.</span><span class="sxs-lookup"><span data-stu-id="6b88c-204">Additionally, the substitutability of lower level components means that as they become available, new high performance servers can seamlessly be introduced to improve the performance of OWIN applications without breaking those applications.</span></span>

## <a name="getting-started-with-katana-components"></a><span data-ttu-id="6b88c-205">Mise en route avec les composants Katana</span><span class="sxs-lookup"><span data-stu-id="6b88c-205">Getting Started with Katana Components</span></span>

<span data-ttu-id="6b88c-206">Lorsqu’il a été introduite, un aspect de la [Node.js](http://nodejs.org/) framework qui immédiatement exergue populaire a été la simplicité avec laquelle un peut créer et exécuter un serveur Web.</span><span class="sxs-lookup"><span data-stu-id="6b88c-206">When it was first introduced, one aspect of the [Node.js](http://nodejs.org/) framework that immediately drew people's attention was the simplicity with which one could author and run a Web server.</span></span> <span data-ttu-id="6b88c-207">Si les objectifs Katana ont été insérées à la lumière de [Node.js](http://nodejs.org/), un peut résumer les en disant que Katana offre un grand nombre des avantages de [Node.js](http://nodejs.org/) (et infrastructures comme il) sans obliger le développeur à lever tout ce dont elle sait sur le développement d’applications Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6b88c-207">If Katana goals were framed in light of [Node.js](http://nodejs.org/), one might summarize them by saying that Katana brings many of the benefits of [Node.js](http://nodejs.org/) (and frameworks like it) without forcing the developer to throw out everything she knows about developing ASP.NET Web applications.</span></span> <span data-ttu-id="6b88c-208">Pour cette instruction contenir la valeur est true, mise en route avec le projet Katana doivent être aussi simples de nature à [Node.js](http://nodejs.org/).</span><span class="sxs-lookup"><span data-stu-id="6b88c-208">For this statement to hold true, getting started with the Katana project should be equally simple in nature to [Node.js](http://nodejs.org/).</span></span>

## <a name="creating-hello-world"></a><span data-ttu-id="6b88c-209">Création de « Hello World ! »</span><span class="sxs-lookup"><span data-stu-id="6b88c-209">Creating "Hello World!"</span></span>

<span data-ttu-id="6b88c-210">Une différence notable entre JavaScript et le développement .NET est la présence (ou non) d’un compilateur.</span><span class="sxs-lookup"><span data-stu-id="6b88c-210">One notable difference between JavaScript and .NET development is the presence (or absence) of a compiler.</span></span> <span data-ttu-id="6b88c-211">Par conséquent, le point de départ pour un serveur Katana simple est un projet Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6b88c-211">As such, the starting point for a simple Katana server is a Visual Studio project.</span></span> <span data-ttu-id="6b88c-212">Toutefois, nous pouvons commencer avec le minimum de types de projets : l’Application Web ASP.NET vide.</span><span class="sxs-lookup"><span data-stu-id="6b88c-212">However, we can start with the most minimal of project types: the Empty ASP.NET Web Application.</span></span>

[![](an-overview-of-project-katana/_static/image1.png)](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb)

<span data-ttu-id="6b88c-213">Ensuite, nous allons installer le [Microsoft.Owin.Host.SystemWeb](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) package NuGet dans le projet.</span><span class="sxs-lookup"><span data-stu-id="6b88c-213">Next, we will install the [Microsoft.Owin.Host.SystemWeb](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) NuGet package into the project.</span></span> <span data-ttu-id="6b88c-214">Ce package fournit un serveur OWIN qui s’exécute dans le pipeline de demande ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6b88c-214">This package provides an OWIN server that runs in the ASP.NET request pipeline.</span></span> <span data-ttu-id="6b88c-215">Il se trouve sur le [galerie NuGet](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) et peut être installé à l’aide de la boîte de dialogue Gestionnaire de package Visual Studio ou de la console du Gestionnaire de package avec la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="6b88c-215">It can be found on the [NuGet gallery](http://nuget.org/packages/Microsoft.Owin.Host.SystemWeb) and can be installed using either the Visual Studio package manager dialog or the package manager console with the following command:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample2.cmd)]

<span data-ttu-id="6b88c-216">L’installation de le `Microsoft.Owin.Host.SystemWeb` installera quelques packages supplémentaires en tant que dépendances.</span><span class="sxs-lookup"><span data-stu-id="6b88c-216">Installing the `Microsoft.Owin.Host.SystemWeb` package will install a few additional packages as dependencies.</span></span> <span data-ttu-id="6b88c-217">Un de ces dépendances est `Microsoft.Owin`, une bibliothèque qui fournit plusieurs types d’assistance et des méthodes pour le développement d’applications OWIN.</span><span class="sxs-lookup"><span data-stu-id="6b88c-217">One of those dependencies is `Microsoft.Owin`, a library which provides several helper types and methods for developing OWIN applications.</span></span> <span data-ttu-id="6b88c-218">Nous pouvons utiliser ces types permettent d’écrire rapidement le serveur suivant « hello world ».</span><span class="sxs-lookup"><span data-stu-id="6b88c-218">We can use those types to quickly write the following "hello world" server.</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample3.cs)]

<span data-ttu-id="6b88c-219">Ce serveur Web très simple peut maintenant être exécuté à l’aide de Visual Studio **F5** commande et inclut la prise en charge complète pour le débogage.</span><span class="sxs-lookup"><span data-stu-id="6b88c-219">This very simple Web server can now be run using Visual Studio's **F5** command and includes full support for debugging.</span></span>

## <a name="switching-hosts"></a><span data-ttu-id="6b88c-220">Hôtes de basculement</span><span class="sxs-lookup"><span data-stu-id="6b88c-220">Switching hosts</span></span>

<span data-ttu-id="6b88c-221">Par défaut, l’exemple « hello world » précédent s’exécute dans le pipeline de demande ASP.NET, qui utilise System.Web dans le contexte d’IIS.</span><span class="sxs-lookup"><span data-stu-id="6b88c-221">By default, the previous "hello world" example runs in the ASP.NET request pipeline, which uses System.Web in the context of IIS.</span></span> <span data-ttu-id="6b88c-222">Cette opération peut isolément ajouter exceptionnel car il permet de tirer parti de la souplesse et la composabilité d’un pipeline OWIN avec les fonctionnalités de gestion et de maturité globale des services IIS.</span><span class="sxs-lookup"><span data-stu-id="6b88c-222">This can by itself add tremendous value as it enables us to benefit from the flexibility and composability of an OWIN pipeline with the management capabilities and overall maturity of IIS.</span></span> <span data-ttu-id="6b88c-223">Toutefois, il peut arriver où les avantages fournis par les services IIS ne sont pas nécessaires et le désir est pour un ordinateur hôte le plus petit et plus léger.</span><span class="sxs-lookup"><span data-stu-id="6b88c-223">However, there may be cases where the benefits provided by IIS are not required and the desire is for a smaller, more lightweight host.</span></span> <span data-ttu-id="6b88c-224">Ensuite, ce qui est nécessaire pour exécuter notre serveur Web simple en dehors d’IIS et System.Web ?</span><span class="sxs-lookup"><span data-stu-id="6b88c-224">What is needed, then, to run our simple Web server outside of IIS and System.Web?</span></span>

<span data-ttu-id="6b88c-225">Pour illustrer l’objectif de la portabilité, le déplacement d’un hôte de serveur Web vers un hôte de la ligne de commande nécessite simplement en ajoutant les nouvelles dépendances de serveur et l’hôte pour le dossier de sortie du projet, puis en démarrant l’ordinateur hôte.</span><span class="sxs-lookup"><span data-stu-id="6b88c-225">To illustrate the portability goal, moving from a Web-server host to a command line host requires simply adding the new server and host dependencies to project's output folder and then starting the host.</span></span> <span data-ttu-id="6b88c-226">Dans cet exemple, nous allons héberger notre serveur Web dans un hôte Katana appelé `OwinHost.exe` et utilisera le serveur Katana HttpListener.</span><span class="sxs-lookup"><span data-stu-id="6b88c-226">In this example, we'll host our Web server in a Katana host called `OwinHost.exe` and will use the Katana HttpListener-based server.</span></span> <span data-ttu-id="6b88c-227">De même pour les autres composants Katana, ces seront acquis à partir de NuGet à l’aide de la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="6b88c-227">Similarly to the other Katana components, these will be acquired from NuGet using the following command:</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample4.cmd)]

<span data-ttu-id="6b88c-228">À partir de la ligne de commande, nous pouvons puis naviguez vers le dossier racine du projet et d’exécuter simplement le `OwinHost.exe` (lequel a été installé dans le dossier Outils de son package NuGet respectif).</span><span class="sxs-lookup"><span data-stu-id="6b88c-228">From the command line, we can then navigate to the project root folder and simply run the `OwinHost.exe` (which was installed in the tools folder of its respective NuGet package).</span></span> <span data-ttu-id="6b88c-229">Par défaut, `OwinHost.exe` est configuré pour rechercher le serveur HttpListener et par conséquent, aucune configuration supplémentaire n’est nécessaire.</span><span class="sxs-lookup"><span data-stu-id="6b88c-229">By default, `OwinHost.exe` is configured to look for the HttpListener-based server and so no additional configuration is needed.</span></span> <span data-ttu-id="6b88c-230">Navigation dans un navigateur Web pour `http://localhost:5000/` montre l’application en cours d’exécution via la console.</span><span class="sxs-lookup"><span data-stu-id="6b88c-230">Navigating in a Web browser to `http://localhost:5000/` shows the application now running through the console.</span></span>

![](an-overview-of-project-katana/_static/image2.png)

## <a name="katana-architecture"></a><span data-ttu-id="6b88c-231">Architecture d’arrivée Katana</span><span class="sxs-lookup"><span data-stu-id="6b88c-231">Katana Architecture</span></span>

 <span data-ttu-id="6b88c-232">L’architecture du composant Katana divise une application en quatre couches logiques, comme indiqué ci-dessous : *hôte, le serveur, intergiciel (middleware),* et *application*.</span><span class="sxs-lookup"><span data-stu-id="6b88c-232">The Katana component architecture divides an application into four logical layers, as depicted below: *host, server, middleware,* and *application*.</span></span> <span data-ttu-id="6b88c-233">L’architecture de composant est prises en charge de manière à ce que les implémentations de ces couches peuvent être facilement remplacées, dans de nombreux cas, sans nécessiter de recompilation de l’application.</span><span class="sxs-lookup"><span data-stu-id="6b88c-233">The component architecture is factored in such a way that implementations of these layers can be easily substituted, in many cases, without requiring recompilation of the application.</span></span>   

![](an-overview-of-project-katana/_static/image3.png)

## <a name="host"></a><span data-ttu-id="6b88c-234">Hôte</span><span class="sxs-lookup"><span data-stu-id="6b88c-234">Host</span></span>

 <span data-ttu-id="6b88c-235">L’hôte est responsable de :</span><span class="sxs-lookup"><span data-stu-id="6b88c-235">The host is responsible for:</span></span>

- <span data-ttu-id="6b88c-236">La gestion des processus sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="6b88c-236">Managing the underlying process.</span></span>
- <span data-ttu-id="6b88c-237">Orchestration de flux de travail qui entraîne la sélection d’un serveur et de la construction d’un pipeline OWIN via les demandes est traité.</span><span class="sxs-lookup"><span data-stu-id="6b88c-237">Orchestrating the workflow that results in the selection of a server and the construction of an OWIN pipeline through which requests will be handled.</span></span>

 <span data-ttu-id="6b88c-238">Actuellement, il existe 3 options d’hébergement principales pour les applications Katana :</span><span class="sxs-lookup"><span data-stu-id="6b88c-238">At present, there are 3 primary hosting options for Katana-based applications:</span></span>  
  
<span data-ttu-id="6b88c-239">**IIS/ASP.NET**: à l’aide des types standard HttpModule et HttpHandler, OWIN pipelines peuvent s’exécutent sur IIS dans le cadre d’un flux de demandes ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6b88c-239">**IIS/ASP.NET**: Using the standard HttpModule and HttpHandler types, OWIN pipelines can run on IIS as a part of an ASP.NET request flow.</span></span> <span data-ttu-id="6b88c-240">Hébergement de prise en charge ASP.NET est activée en installant le package NuGet de Microsoft.AspNet.Host.SystemWeb dans un projet d’application Web.</span><span class="sxs-lookup"><span data-stu-id="6b88c-240">ASP.NET hosting support is enabled by installing the Microsoft.AspNet.Host.SystemWeb NuGet package into a Web application project.</span></span> <span data-ttu-id="6b88c-241">En outre, comme IIS agit comme un hôte et un serveur, la différence de serveur/hôte OWIN va de pair dans ce package NuGet, ce qui signifie que si vous utilisez l’hôte SystemWeb, un développeur ne peut pas remplacer une implémentation d’un autre serveur.</span><span class="sxs-lookup"><span data-stu-id="6b88c-241">Additionally, because IIS acts as both a host and a server, the OWIN server/host distinction is conflated in this NuGet package, meaning that if using the SystemWeb host, a developer cannot substitute an alternate server implementation.</span></span>  
  
<span data-ttu-id="6b88c-242">**Hôte personnalisé**: suite de composant l’interconnexions donne au développeur la possibilité d’héberger des applications dans son propre processus personnalisé, si c’est une application console, un service Windows, un périphérique. Cette fonctionnalité est similaire à la capacité d’auto-hébergement fournie par l’API Web.</span><span class="sxs-lookup"><span data-stu-id="6b88c-242">**Custom Host**: The Katana component suite gives a developer the ability to host applications in her own custom process, whether that is a console application, Windows service, etc. This capability looks similar to the self-host capability provided by Web API.</span></span> <span data-ttu-id="6b88c-243">L’exemple suivant montre un hôte personnalisé de code de l’API Web :</span><span class="sxs-lookup"><span data-stu-id="6b88c-243">The following example shows a custom host of Web API code:</span></span>  

[!code-csharp[Main](an-overview-of-project-katana/samples/sample5.cs)]

<span data-ttu-id="6b88c-244">Le programme d’installation pour une application Katana auto-hébergement est similaire :</span><span class="sxs-lookup"><span data-stu-id="6b88c-244">The self-host setup for a Katana application is similar:</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample6.cs)]

<span data-ttu-id="6b88c-245">Une différence notable entre l’API Web et Katana auto-hébergement des exemples est que le code de configuration Web API est manquant dans l’exemple d’auto-hébergement Katana.</span><span class="sxs-lookup"><span data-stu-id="6b88c-245">One notable difference between the Web API and Katana self-host examples is that the Web API configuration code is missing from the Katana self-host example.</span></span> <span data-ttu-id="6b88c-246">Pour permettre la portabilité et composabilité, Katana sépare le code qui démarre le serveur à partir du code qui configure le pipeline de traitement des demandes.</span><span class="sxs-lookup"><span data-stu-id="6b88c-246">In order to enable both portability and composability, Katana separates the code that starts the server from the code that configures the request processing pipeline.</span></span> <span data-ttu-id="6b88c-247">Le code qui configure l’API Web, puis est contenu dans la classe de démarrage, qui est également spécifié comme paramètre de type dans WebApplication.Start.</span><span class="sxs-lookup"><span data-stu-id="6b88c-247">The code that configures Web API, then is contained in the class Startup, which is additionally specified as the type parameter in WebApplication.Start.</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample7.cs)]

<span data-ttu-id="6b88c-248">La classe de démarrage sera abordée plus en détail plus loin dans l’article.</span><span class="sxs-lookup"><span data-stu-id="6b88c-248">The startup class will be discussed in greater detail later in the article.</span></span> <span data-ttu-id="6b88c-249">Toutefois, le code requis pour démarrer un Katana auto-héberger un processus semble étonnamment similaire au code que vous utilisez peut-être aujourd'hui dans les applications d’auto-hébergement API Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6b88c-249">However, the code required to start a Katana self-host process looks strikingly similar to the code that you may be using today in ASP.NET Web API self-host applications.</span></span>

<span data-ttu-id="6b88c-250">**OwinHost.exe**: alors que certains souhaitez écrire un processus personnalisé pour exécuter des applications Web de Katana, nombreux préférez simplement lancer un exécutable avant génération qui peut démarrer un serveur et exécuter l’application.</span><span class="sxs-lookup"><span data-stu-id="6b88c-250">**OwinHost.exe**: While some will want to write a custom process to run Katana Web applications, many would prefer to simply launch a pre-built executable that can start a server and run their application.</span></span> <span data-ttu-id="6b88c-251">Pour ce scénario, la suite de composant Katana inclut `OwinHost.exe`.</span><span class="sxs-lookup"><span data-stu-id="6b88c-251">For this scenario, the Katana component suite includes `OwinHost.exe`.</span></span> <span data-ttu-id="6b88c-252">Exécutée à partir d’un répertoire de projet racine, ce fichier exécutable est démarrer un serveur (il utilise le serveur HttpListener par défaut) et utilise des conventions pour rechercher et exécuter la classe de démarrage de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6b88c-252">When run from within a project's root directory, this executable will start a server (it uses the HttpListener server by default) and use conventions to find and run the user's startup class.</span></span> <span data-ttu-id="6b88c-253">Pour un contrôle plus précis, l’exécutable fournit un nombre de paramètres de ligne de commande supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="6b88c-253">For more granular control, the executable provides a number of additional command line parameters.</span></span>

![](an-overview-of-project-katana/_static/image4.png)

## <a name="server"></a><span data-ttu-id="6b88c-254">Serveur</span><span class="sxs-lookup"><span data-stu-id="6b88c-254">Server</span></span>

 <span data-ttu-id="6b88c-255">Alors que l’hôte est chargé de démarrage et de gestion des processus dans lequel l’application s’exécute, la responsabilité du serveur est à ouvrir un socket de réseau, écouter les demandes et les envoyer via le pipeline de composants OWIN spécifié par l’utilisateur (comme vous avez pu le constater, ce pipeline est spécifié dans la classe de démarrage du développeur de l’application).</span><span class="sxs-lookup"><span data-stu-id="6b88c-255">While the host is responsible for starting and maintaining process within which the application runs, the responsibility of the server is to open a network socket, listen for requests, and send them through the pipeline of OWIN components specified by the user (as you may have already noticed, this pipeline is specified in the application developer's Startup class).</span></span> <span data-ttu-id="6b88c-256">Actuellement, le projet Katana inclut deux implémentations de serveur :</span><span class="sxs-lookup"><span data-stu-id="6b88c-256">Currently, the Katana project includes two server implementations:</span></span> 

- <span data-ttu-id="6b88c-257">**Microsoft.Owin.Host.SystemWeb**: comme indiqué précédemment, IIS de concert avec le pipeline ASP.NET agit comme un hôte et un serveur.</span><span class="sxs-lookup"><span data-stu-id="6b88c-257">**Microsoft.Owin.Host.SystemWeb**: As previously mentioned, IIS in concert with the ASP.NET pipeline acts as both a host and a server.</span></span> <span data-ttu-id="6b88c-258">Par conséquent, lors du choix de cette option d’hébergement, IIS à la fois gère des problèmes de niveau hôte, tels que l’activation de processus et écoute les requêtes HTTP.</span><span class="sxs-lookup"><span data-stu-id="6b88c-258">Therefore, when choosing this hosting option, IIS both manages host-level concerns such as process activation and listens for HTTP requests.</span></span> <span data-ttu-id="6b88c-259">Pour les applications Web ASP.NET, il envoie ensuite les demandes dans le pipeline ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="6b88c-259">For ASP.NET Web applications, it then sends the requests into the ASP.NET pipeline.</span></span> <span data-ttu-id="6b88c-260">L’hôte Katana SystemWeb inscrit une ASP.NET HttpModule et un HttpHandler pour intercepter les demandes qu’ils sont acheminées via le pipeline HTTP et les envoyer via le pipeline OWIN spécifié par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="6b88c-260">The Katana SystemWeb host registers an ASP.NET HttpModule and HttpHandler to intercept requests as they flow through the HTTP pipeline and send them through the user-specified OWIN pipeline.</span></span>
- <span data-ttu-id="6b88c-261">**Microsoft.Owin.Host.HttpListener**: comme son nom l’indique, ce serveur Katana utilise HttpListener (classe) du .NET Framework pour ouvrir un socket et envoyer des demandes dans un pipeline OWIN spécifié par le développeur.</span><span class="sxs-lookup"><span data-stu-id="6b88c-261">**Microsoft.Owin.Host.HttpListener**: As its name indicates, this Katana server uses the .NET Framework's HttpListener class to open a socket and send requests into a developer-specified OWIN pipeline.</span></span> <span data-ttu-id="6b88c-262">Il s’agit actuellement de la sélection du serveur par défaut pour les API d’auto-hébergement Katana et OwinHost.exe.</span><span class="sxs-lookup"><span data-stu-id="6b88c-262">This is currently the default server selection for both the Katana self-host API and OwinHost.exe.</span></span>

## <a name="middlewareframework"></a><span data-ttu-id="6b88c-263">Middleware/framework</span><span class="sxs-lookup"><span data-stu-id="6b88c-263">Middleware/framework</span></span>

 <span data-ttu-id="6b88c-264">Comme mentionné précédemment, lorsque le serveur accepte une demande d’un client, il est chargé de passer par un pipeline de composants OWIN, qui sont spécifiées par le code de démarrage du développeur.</span><span class="sxs-lookup"><span data-stu-id="6b88c-264">As previously mentioned, when the server accepts a request from a client, it is responsible for passing it through a pipeline of OWIN components, which are specified by the developer's startup code.</span></span> <span data-ttu-id="6b88c-265">Ces composants de pipeline sont appelées intergiciel (middleware).</span><span class="sxs-lookup"><span data-stu-id="6b88c-265">These pipeline components are known as middleware.</span></span>  
 <span data-ttu-id="6b88c-266">À un niveau très simple, un composant d’intergiciel (middleware) OWIN doit simplement implémenter le délégué d’application OWIN afin qu’il soit pouvant être appelé.</span><span class="sxs-lookup"><span data-stu-id="6b88c-266">At a very basic level, an OWIN middleware component simply needs to implement the OWIN application delegate so that it is callable.</span></span>

[!code-console[Main](an-overview-of-project-katana/samples/sample8.cmd)]

<span data-ttu-id="6b88c-267">Toutefois, afin de simplifier le développement et la composition des composants d’intergiciel (middleware), Katana prend en charge un certain nombre de conventions et types d’assistance pour les composants d’intergiciel (middleware).</span><span class="sxs-lookup"><span data-stu-id="6b88c-267">However, in order to simplify the development and composition of middleware components, Katana supports a handful of conventions and helper types for middleware components.</span></span> <span data-ttu-id="6b88c-268">La plus courante de ces est la `OwinMiddleware` classe.</span><span class="sxs-lookup"><span data-stu-id="6b88c-268">The most common of these is the `OwinMiddleware` class.</span></span> <span data-ttu-id="6b88c-269">Un composant d’intergiciel (middleware) personnalisés créé à l’aide de cette classe serait similaire à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="6b88c-269">A custom middleware component built using this class would look similar to the following:</span></span> 

[!code-csharp[Main](an-overview-of-project-katana/samples/sample9.cs)]

 <span data-ttu-id="6b88c-270">Cette classe dérive `OwinMiddleware`, implémente un constructeur qui accepte une instance de l’intergiciel (middleware) suivant dans le pipeline en tant qu’un de ses arguments, puis le transmet au constructeur de base.</span><span class="sxs-lookup"><span data-stu-id="6b88c-270">This class derives from `OwinMiddleware`, implements a constructor that accepts an instance of the next middleware in the pipeline as one of its arguments, and then passes it to the base constructor.</span></span> <span data-ttu-id="6b88c-271">Arguments supplémentaires utilisés pour configurer l’intergiciel (middleware) sont également déclarés en tant que paramètres du constructeur après le paramètre d’intergiciel (middleware) suivant.</span><span class="sxs-lookup"><span data-stu-id="6b88c-271">Additional arguments used to configure the middleware are also declared as constructor parameters after the next middleware parameter.</span></span>   
  
<span data-ttu-id="6b88c-272">Lors de l’exécution, l’intergiciel (middleware) est exécutée via le substituée `Invoke` (méthode).</span><span class="sxs-lookup"><span data-stu-id="6b88c-272">At runtime, the middleware is executed via the overridden `Invoke` method.</span></span> <span data-ttu-id="6b88c-273">Cette méthode prend un argument unique de type `OwinContext`.</span><span class="sxs-lookup"><span data-stu-id="6b88c-273">This method takes a single argument of type `OwinContext`.</span></span> <span data-ttu-id="6b88c-274">Cet objet de contexte est fourni par le `Microsoft.Owin` package NuGet décrites précédemment et fournit un accès fortement typé pour le dictionnaire de demande, de réponse et d’environnement, ainsi que quelques types d’assistance supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="6b88c-274">This context object is provided by the `Microsoft.Owin` NuGet package described earlier and provides strongly-typed access to the request, response and environment dictionary, along with a few additional helper types.</span></span>   
  
<span data-ttu-id="6b88c-275">La classe de l’intergiciel (middleware) peut être facilement ajoutée au pipeline OWIN dans le code de démarrage d’application comme suit :</span><span class="sxs-lookup"><span data-stu-id="6b88c-275">The middleware class can be easily added to the OWIN pipeline in the application startup code as follows:</span></span>   

[!code-csharp[Main](an-overview-of-project-katana/samples/sample10.cs)]

<span data-ttu-id="6b88c-276">Étant donné que l’infrastructure Katana crée simplement un pipeline de composants d’intergiciel (middleware) OWIN, et étant donné que les composants souhaitent prendre en charge le délégué de l’application devant être inclus dans le pipeline, les composants d’intergiciel (middleware) peuvent varier complexes simple enregistreurs d’événements à des infrastructures entières comme ASP.NET, API Web, ou [SignalR](../../../signalr/index.md).</span><span class="sxs-lookup"><span data-stu-id="6b88c-276">Because the Katana infrastructure simply builds up a pipeline of OWIN middleware components, and because the components simply need to support the application delegate to participate in the pipeline, middleware components can range in complexity from simple loggers to entire frameworks like ASP.NET, Web API, or [SignalR](../../../signalr/index.md).</span></span> <span data-ttu-id="6b88c-277">Par exemple, ajout d’API Web ASP.NET au pipeline OWIN précédent requiert d’ajouter le code de démarrage suivantes :</span><span class="sxs-lookup"><span data-stu-id="6b88c-277">For example, adding ASP.NET Web API to the previous OWIN pipeline requires adding the following startup code:</span></span>

[!code-csharp[Main](an-overview-of-project-katana/samples/sample11.cs)]

<span data-ttu-id="6b88c-278">L’infrastructure Katana générera le pipeline de composants d’intergiciel (middleware) selon l’ordre dans lequel ils ont été ajoutés à l’objet IAppBuilder dans la méthode de Configuration.</span><span class="sxs-lookup"><span data-stu-id="6b88c-278">The Katana infrastructure will build the pipeline of middleware components based on the order in which they were added to the IAppBuilder object in the Configuration method.</span></span> <span data-ttu-id="6b88c-279">Puis, dans notre exemple, LoggerMiddleware peut gérer toutes les demandes qui transitent par le pipeline, quelle que soit la façon dont ces demandes sont gérées de finalement.</span><span class="sxs-lookup"><span data-stu-id="6b88c-279">In our example, then, LoggerMiddleware can handle all requests that flow through the pipeline, regardless of how those requests are ultimately handled.</span></span> <span data-ttu-id="6b88c-280">Cela permet de nombreux scénarios où un composant d’intergiciel (middleware) (par exemple, un composant d’authentification) peut traiter les demandes pour un pipeline qui inclut plusieurs infrastructures (par exemple, API Web ASP.NET SignalR et un serveur de fichiers statiques) et les composants.</span><span class="sxs-lookup"><span data-stu-id="6b88c-280">This enables powerful scenarios where a middleware component (e.g. an authentication component) can process requests for a pipeline that includes multiple components and frameworks (e.g. ASP.NET Web API, SignalR, and a static file server).</span></span>
 
## <a name="applications"></a><span data-ttu-id="6b88c-281">Applications</span><span class="sxs-lookup"><span data-stu-id="6b88c-281">Applications</span></span>

<span data-ttu-id="6b88c-282">Comme illustré dans les exemples précédents, OWIN et le projet Katana ne doivent pas être considérés comme un nouveau modèle de programmation d’application, mais plutôt comme une abstraction pour séparer les modèles de programmation d’application et des infrastructures de serveur et l’infrastructure d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="6b88c-282">As illustrated by the previous examples, OWIN and the Katana project should not be thought of as a new application programming model, but rather as an abstraction to decouple application programming models and frameworks from server and hosting infrastructure.</span></span> <span data-ttu-id="6b88c-283">Par exemple, lors de la création d’applications de l’API Web, le framework developer continue à utiliser l’infrastructure API Web ASP.NET, indépendamment de si l’application s’exécute dans un pipeline OWIN à l’aide de composants à partir du projet Katana.</span><span class="sxs-lookup"><span data-stu-id="6b88c-283">For example, when building Web API applications, the developer framework will continue to use the ASP.NET Web API framework, irrespective of whether or not the application runs in an OWIN pipeline using components from the Katana project.</span></span> <span data-ttu-id="6b88c-284">Le seul emplacement où code OWIN lié sera visible pour le développeur d’applications sera le code de démarrage d’application, où le développeur compose le pipeline OWIN.</span><span class="sxs-lookup"><span data-stu-id="6b88c-284">The one place where OWIN-related code will be visible to the application developer will be the application startup code, where the developer composes the OWIN pipeline.</span></span> <span data-ttu-id="6b88c-285">Dans le code de démarrage, le développeur enregistre une série d’instructions UseXx, un pour chaque composant d’intergiciel (middleware) qui traitera les demandes entrantes.</span><span class="sxs-lookup"><span data-stu-id="6b88c-285">In the startup code, the developer will register a series of UseXx statements, generally one for each middleware component that will process incoming requests.</span></span> <span data-ttu-id="6b88c-286">Cette expérience aura le même effet que l’enregistrement des modules HTTP dans le monde System.Web actuel.</span><span class="sxs-lookup"><span data-stu-id="6b88c-286">This experience will have the same effect as registering HTTP modules in the current System.Web world.</span></span> <span data-ttu-id="6b88c-287">En règle générale, une plus grande framework intergiciel (middleware), telles que les API Web ASP.NET ou [SignalR](../../../signalr/index.md) sera inscrit à la fin du pipeline.</span><span class="sxs-lookup"><span data-stu-id="6b88c-287">Typically, a larger framework middleware, such as ASP.NET Web API or [SignalR](../../../signalr/index.md) will be registered at the end of the pipeline.</span></span> <span data-ttu-id="6b88c-288">Composants d’intergiciel (middleware) composites, telles que celles pour l’authentification ou la mise en cache, sont généralement enregistrés jusqu’au début du pipeline afin qu’elles seront traiter les demandes pour toutes les infrastructures et des composants enregistrés plus loin dans le pipeline.</span><span class="sxs-lookup"><span data-stu-id="6b88c-288">Cross-cutting middleware components, such as those for authentication or caching, are generally registered towards the beginning of the pipeline so that they will process requests for all of the frameworks and components registered later in the pipeline.</span></span> <span data-ttu-id="6b88c-289">Cette séparation des composants d’intergiciel (middleware) de l’autre et à partir des composants d’infrastructure sous-jacente Active les composants d’évoluer à différentes vitesses tout en garantissant que l’ensemble du système reste stable.</span><span class="sxs-lookup"><span data-stu-id="6b88c-289">This separation of the middleware components from each other and from the underlying infrastructure components enables the components to evolve at different velocities while ensuring that the overall system remains stable.</span></span>

## <a name="components--nuget-packages"></a><span data-ttu-id="6b88c-290">Composants : les Packages NuGet</span><span class="sxs-lookup"><span data-stu-id="6b88c-290">Components – NuGet Packages</span></span>

<span data-ttu-id="6b88c-291">Comme de nombreuses bibliothèques actuels et des infrastructures, les composants du projet Katana sont remis en tant qu’ensemble de packages NuGet.</span><span class="sxs-lookup"><span data-stu-id="6b88c-291">Like many current libraries and frameworks, the Katana project components are delivered as a set of NuGet packages.</span></span> <span data-ttu-id="6b88c-292">Pour la prochaine version 2.0, le graphique de dépendance de package Katana se présente comme suit.</span><span class="sxs-lookup"><span data-stu-id="6b88c-292">For the upcoming version 2.0, the Katana package dependency graph looks as follows.</span></span> <span data-ttu-id="6b88c-293">(Cliquez sur l’image pour agrandir la vue.)</span><span class="sxs-lookup"><span data-stu-id="6b88c-293">(Click on image for larger view.)</span></span>

[![](an-overview-of-project-katana/_static/image6.png)](an-overview-of-project-katana/_static/image5.png)

<span data-ttu-id="6b88c-294">Presque chaque package dans le projet Katana dépend, directement ou indirectement, le package Owin.</span><span class="sxs-lookup"><span data-stu-id="6b88c-294">Nearly every package in the Katana project depends, directly or indirectly, on the Owin package.</span></span> <span data-ttu-id="6b88c-295">Vous vous souvenez peut-être qu’il s’agit du package qui contient l’interface IAppBuilder, qui fournit une implémentation concrète de la séquence de démarrage d’application décrite dans la section 4 de la spécification OWIN.</span><span class="sxs-lookup"><span data-stu-id="6b88c-295">You may remember that this is the package that contains the IAppBuilder interface, which provides a concrete implementation of the application startup sequence described in section 4 of the OWIN specification.</span></span> <span data-ttu-id="6b88c-296">En outre, nombre des packages dépendent de Microsoft.Owin, qui fournit un ensemble de types d’assistance pour l’utilisation des requêtes et réponses HTTP.</span><span class="sxs-lookup"><span data-stu-id="6b88c-296">Additionally, many of the packages depend on Microsoft.Owin, which provides a set of helper types for working with HTTP requests and responses.</span></span> <span data-ttu-id="6b88c-297">Le reste du package peut être classé en tant que packages infrastructure (serveurs ou ordinateurs hôtes) hébergement ou intergiciel (middleware).</span><span class="sxs-lookup"><span data-stu-id="6b88c-297">The remainder of the package can be classified as either hosting infrastructure packages (servers or hosts) or middleware.</span></span> <span data-ttu-id="6b88c-298">Packages et dépendances qui sont externes au projet Katana sont affichent en orange.</span><span class="sxs-lookup"><span data-stu-id="6b88c-298">Packages and dependencies that are external to the Katana project are displayed in orange.</span></span>

<span data-ttu-id="6b88c-299">L’infrastructure d’hébergement pour Katana 2.0 inclut le SystemWeb et les serveurs HttpListener, le package OwinHost pour exécuter des applications OWIN à l’aide de OwinHost.exe et le package Microsoft.Owin.Hosting pour l’auto-hébergement applications OWIN dans un hôte personnalisé (par exemple, application console, le service Windows, etc.)</span><span class="sxs-lookup"><span data-stu-id="6b88c-299">The hosting infrastructure for Katana 2.0 includes both the SystemWeb and HttpListener-based servers, the OwinHost package for running OWIN applications using OwinHost.exe, and the Microsoft.Owin.Hosting package for self-hosting OWIN applications in a custom host (e.g. console application, Windows service, etc.)</span></span>

<span data-ttu-id="6b88c-300">Pour Katana 2.0, les composants d’intergiciel (middleware) sont principalement axés sur les différents moyens d’authentification.</span><span class="sxs-lookup"><span data-stu-id="6b88c-300">For Katana 2.0, the middleware components are primarily focused on providing different means of authentication.</span></span> <span data-ttu-id="6b88c-301">Un composant d’intergiciel (middleware) supplémentaires pour les diagnostics est fourni, ce qui permet la prise en charge pour une page de démarrage et d’erreur.</span><span class="sxs-lookup"><span data-stu-id="6b88c-301">One additional middleware component for diagnostics is provided, which enables support for a start and error page.</span></span> <span data-ttu-id="6b88c-302">Que OWIN augmente dans l’abstraction d’hébergement de fait, augmente également l’écosystème de composants d’intergiciel (middleware), à la fois ceux développés par Microsoft et tiers, en nombre.</span><span class="sxs-lookup"><span data-stu-id="6b88c-302">As OWIN grows into the de facto hosting abstraction, the ecosystem of middleware components, both those developed by Microsoft and third parties, will also grow in number.</span></span>

## <a name="conclusion"></a><span data-ttu-id="6b88c-303">Conclusion</span><span class="sxs-lookup"><span data-stu-id="6b88c-303">Conclusion</span></span>

 <span data-ttu-id="6b88c-304">À partir du début, les objectifs du projet Katana n’a pas été pour créer et ainsi forcer les développeurs pour en savoir encore une autre infrastructure Web.</span><span class="sxs-lookup"><span data-stu-id="6b88c-304">From its beginning, the Katana project's goal has not been to create and thereby force developers to learn yet another Web framework.</span></span> <span data-ttu-id="6b88c-305">Au lieu de cela, l’objectif a été pour créer une abstraction pour donner aux développeurs d’applications Web .NET plus de choix qu’il a précédemment été possible.</span><span class="sxs-lookup"><span data-stu-id="6b88c-305">Rather, the goal has been to create an abstraction to give .NET Web application developers more choice than has previously been possible.</span></span> <span data-ttu-id="6b88c-306">En fractionnant les couches logiques d’une pile d’application Web par défaut dans un ensemble de composants remplaçables, le projet Katana, permet aux composants tout au long de la pile pour améliorer à quelle que soit la vitesse de sens pour ces composants.</span><span class="sxs-lookup"><span data-stu-id="6b88c-306">By breaking up the logical layers of a typical Web application stack into a set of replaceable components, the Katana project enables components throughout the stack to improve at whatever rate makes sense for those components.</span></span> <span data-ttu-id="6b88c-307">En créant tous les composants de l’abstraction OWIN simple, Katana permet d’infrastructures et les applications conçues pour eux soit portable sur divers ordinateurs hôtes et des serveurs différents.</span><span class="sxs-lookup"><span data-stu-id="6b88c-307">By building all components around the simple OWIN abstraction, Katana enables frameworks and the applications built on top of them to be portable across a variety of different servers and hosts.</span></span> <span data-ttu-id="6b88c-308">En plaçant le développeur dans le contrôle de la pile, Katana garantit que le développeur, le choix final sur comment léger ou comment riche sa pile Web doit être.</span><span class="sxs-lookup"><span data-stu-id="6b88c-308">By putting the developer in control of the stack, Katana ensures that the developer makes the ultimate choice about how lightweight or how feature-rich her Web stack should be.</span></span>  
  

## <a name="for-more-information-about-katana"></a><span data-ttu-id="6b88c-309">Pour plus d’informations sur les interconnexions</span><span class="sxs-lookup"><span data-stu-id="6b88c-309">For more information about Katana</span></span>

- <span data-ttu-id="6b88c-310">Le projet Katana sur GitHub : [https://github.com/aspnet/AspNetKatana/](https://github.com/aspnet/AspNetKatana/).</span><span class="sxs-lookup"><span data-stu-id="6b88c-310">The Katana project on GitHub: [https://github.com/aspnet/AspNetKatana/](https://github.com/aspnet/AspNetKatana/).</span></span>
- <span data-ttu-id="6b88c-311">Vidéo : [le projet Katana - OWIN pour ASP.NET](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET), par Howard Dierking.</span><span class="sxs-lookup"><span data-stu-id="6b88c-311">Video: [The Katana Project - OWIN for ASP.NET](https://channel9.msdn.com/Shows/Web+Camps+TV/The-Katana-Project-OWIN-for-ASPNET), by Howard Dierking.</span></span>

## <a name="acknowledgements"></a><span data-ttu-id="6b88c-312">Remerciements</span><span class="sxs-lookup"><span data-stu-id="6b88c-312">Acknowledgements</span></span>

- <span data-ttu-id="6b88c-313">[Rick Anderson](https://blogs.msdn.com/b/rickandy/): (twitter [ @RickAndMSFT ](http://twitter.com/RickAndMSFT) ) Rick est un writer de programmation senior pour Microsoft en mettant l’accent sur Azure et MVC.</span><span class="sxs-lookup"><span data-stu-id="6b88c-313">[Rick Anderson](https://blogs.msdn.com/b/rickandy/): (twitter [@RickAndMSFT](http://twitter.com/RickAndMSFT) ) Rick is a senior programming writer for Microsoft focusing on Azure and MVC.</span></span>
- <span data-ttu-id="6b88c-314">[Scott Hanselman](http://www.hanselman.com/blog/): (twitter [ @shanselman ](https://twitter.com/shanselman) )</span><span class="sxs-lookup"><span data-stu-id="6b88c-314">[Scott Hanselman](http://www.hanselman.com/blog/): (twitter [@shanselman](https://twitter.com/shanselman) )</span></span>
- <span data-ttu-id="6b88c-315">[Jon Galloway](https://weblogs.asp.net/jgalloway/default.aspx): (twitter [ @jongalloway ](https://twitter.com/jongalloway) )</span><span class="sxs-lookup"><span data-stu-id="6b88c-315">[Jon Galloway](https://weblogs.asp.net/jgalloway/default.aspx): (twitter [@jongalloway](https://twitter.com/jongalloway) )</span></span>
