---
uid: web-forms/overview/data-access/caching-data/caching-data-at-application-startup-cs
title: Mise en cache de données au démarrage de l’Application (c#) | Documents Microsoft
author: rick-anderson
description: Dans n’importe quelle application Web certaines données sont fréquemment utilisées, et certaines données seront rarement utilisées. Nous pouvons améliorer les performances de notre b d’application ASP.NET...
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/30/2007
ms.topic: article
ms.assetid: 22ca8efa-7cd1-45a7-b9ce-ce6eb3b3ff95
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/caching-data/caching-data-at-application-startup-cs
msc.type: authoredcontent
ms.openlocfilehash: 8d962a182b5136d3e44ce678a355c9679b4c8be1
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/06/2018
---
<a name="caching-data-at-application-startup-c"></a><span data-ttu-id="8d74e-104">Mise en cache de données au démarrage de l’Application (c#)</span><span class="sxs-lookup"><span data-stu-id="8d74e-104">Caching Data at Application Startup (C#)</span></span>
====================
<span data-ttu-id="8d74e-105">par [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="8d74e-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="8d74e-106">Télécharger le PDF</span><span class="sxs-lookup"><span data-stu-id="8d74e-106">Download PDF</span></span>](caching-data-at-application-startup-cs/_static/datatutorial60cs1.pdf)

> <span data-ttu-id="8d74e-107">Dans n’importe quelle application Web certaines données sont fréquemment utilisées, et certaines données seront rarement utilisées.</span><span class="sxs-lookup"><span data-stu-id="8d74e-107">In any Web application some data will be frequently used and some data will be infrequently used.</span></span> <span data-ttu-id="8d74e-108">Nous pouvons améliorer les performances de votre application ASP.NET en chargeant les données fréquemment utilisées, une technique appelée à l’avance.</span><span class="sxs-lookup"><span data-stu-id="8d74e-108">We can improve the performance of our ASP.NET application by loading in advance the frequently-used data, a technique known as.</span></span> <span data-ttu-id="8d74e-109">Ce didacticiel illustre une approche proactive lors du chargement, qui consiste à charger des données dans le cache au démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="8d74e-109">This tutorial demonstrates one approach to proactive loading, which is to load data into the cache at application startup.</span></span>


## <a name="introduction"></a><span data-ttu-id="8d74e-110">Introduction</span><span class="sxs-lookup"><span data-stu-id="8d74e-110">Introduction</span></span>

<span data-ttu-id="8d74e-111">Les deux didacticiels précédents étudié la mise en cache des données dans la présentation et les couches de mise en cache.</span><span class="sxs-lookup"><span data-stu-id="8d74e-111">The two previous tutorials looked at caching data in the Presentation and Caching Layers.</span></span> <span data-ttu-id="8d74e-112">Dans [mise en cache des données avec ObjectDataSource](caching-data-with-the-objectdatasource-cs.md), nous avons examiné à l’aide de la s ObjectDataSource fonctionnalités en cache des données dans la couche de présentation de la mise en cache.</span><span class="sxs-lookup"><span data-stu-id="8d74e-112">In [Caching Data with the ObjectDataSource](caching-data-with-the-objectdatasource-cs.md), we looked at using the ObjectDataSource s caching features to cache data in the Presentation Layer.</span></span> <span data-ttu-id="8d74e-113">[La mise en cache des données dans l’Architecture](caching-data-in-the-architecture-cs.md) examiné la mise en cache dans une couche séparée mise en cache.</span><span class="sxs-lookup"><span data-stu-id="8d74e-113">[Caching Data in the Architecture](caching-data-in-the-architecture-cs.md) examined caching in a new, separate Caching Layer.</span></span> <span data-ttu-id="8d74e-114">Les deux de ces didacticiels utilisés *chargement réactif* dans l’utilisation du cache de données.</span><span class="sxs-lookup"><span data-stu-id="8d74e-114">Both of these tutorials used *reactive loading* in working with the data cache.</span></span> <span data-ttu-id="8d74e-115">Avec le réactif de chargement, de chaque fois que les données sont demandées, le système vérifie d’abord si elle s dans le cache.</span><span class="sxs-lookup"><span data-stu-id="8d74e-115">With reactive loading, each time the data is requested, the system first checks if it s in the cache.</span></span> <span data-ttu-id="8d74e-116">Si ce n’est pas le cas, il extrait les données de la source d’origine, telles que la base de données et les stocke dans le cache.</span><span class="sxs-lookup"><span data-stu-id="8d74e-116">If not, it grabs the data from the originating source, such as the database, and then stores it in the cache.</span></span> <span data-ttu-id="8d74e-117">Le principal avantage de chargement réactif est sa simplicité d’implémentation.</span><span class="sxs-lookup"><span data-stu-id="8d74e-117">The main advantage to reactive loading is its ease of implementation.</span></span> <span data-ttu-id="8d74e-118">Un de ses inconvénients est ses performances inégale entre les demandes.</span><span class="sxs-lookup"><span data-stu-id="8d74e-118">One of its disadvantages is its uneven performance across requests.</span></span> <span data-ttu-id="8d74e-119">Imaginez une page qui utilise la couche de mise en cache du didacticiel précédent pour afficher des informations sur le produit.</span><span class="sxs-lookup"><span data-stu-id="8d74e-119">Imagine a page that uses the Caching Layer from the preceding tutorial to display product information.</span></span> <span data-ttu-id="8d74e-120">Lorsque cette page est visitée pour la première fois ou visitée pour la première fois, une fois que les données mises en cache a été supprimées en raison de contraintes de mémoire ou l’expiration spécifiée ayant été atteint, les données doivent être récupérées à partir de la base de données.</span><span class="sxs-lookup"><span data-stu-id="8d74e-120">When this page is visited for the first time, or visited for the first time after the cached data has been evicted due to memory constraints or the specified expiry having been reached, the data must be retrieved from the database.</span></span> <span data-ttu-id="8d74e-121">Par conséquent, ces demandes d’utilisateurs seront plus long que les demandes des utilisateurs qui peuvent être servies par le cache.</span><span class="sxs-lookup"><span data-stu-id="8d74e-121">Therefore, these users requests will take longer than users requests that can be served by the cache.</span></span>

<span data-ttu-id="8d74e-122">*Chargement proactive* fournit une stratégie de gestion du cache de remplacement qui lisse les performances entre les requêtes en chargeant les données mises en cache avant leur s nécessité.</span><span class="sxs-lookup"><span data-stu-id="8d74e-122">*Proactive loading* provides an alternative cache management strategy that smoothes out the performance across requests by loading the cached data before it s needed.</span></span> <span data-ttu-id="8d74e-123">En règle générale, le chargement proactive utilise un processus qui vérifie périodiquement ou est averti en cas d’une mise à jour les données sous-jacentes.</span><span class="sxs-lookup"><span data-stu-id="8d74e-123">Typically, proactive loading uses some process that either periodically checks or is notified when there has been an update to the underlying data.</span></span> <span data-ttu-id="8d74e-124">Ce processus met à jour le cache pour conserver la nouvelle.</span><span class="sxs-lookup"><span data-stu-id="8d74e-124">This process then updates the cache to keep it fresh.</span></span> <span data-ttu-id="8d74e-125">Chargement proactive est particulièrement utile si les données sous-jacentes provient d’une connexion lente de la base de données, un service Web ou une autre source de données particulièrement lente.</span><span class="sxs-lookup"><span data-stu-id="8d74e-125">Proactive loading is especially useful if the underlying data comes from a slow database connection, a Web service, or some other particularly sluggish data source.</span></span> <span data-ttu-id="8d74e-126">Mais cette approche proactive chargement est plus difficile à implémenter, car elle nécessite la création, la gestion et le déploiement d’un processus pour vérifier les modifications et mettre à jour le cache.</span><span class="sxs-lookup"><span data-stu-id="8d74e-126">But this approach to proactive loading is more difficult to implement, as it requires creating, managing, and deploying a process to check for changes and update the cache.</span></span>

<span data-ttu-id="8d74e-127">Une autre version de chargement proactive et le type que nous allons Explorer dans ce didacticiel, charge les données dans le cache au démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="8d74e-127">Another flavor of proactive loading, and the type we'll be exploring in this tutorial, is loading data into the cache at application startup.</span></span> <span data-ttu-id="8d74e-128">Cette approche est particulièrement utile pour la mise en cache des données statiques, telles que les enregistrements des tables de recherche de base de données.</span><span class="sxs-lookup"><span data-stu-id="8d74e-128">This approach is especially useful for caching static data, such as the records in database lookup tables.</span></span>

> [!NOTE]
> <span data-ttu-id="8d74e-129">Pour une plus approfondies sur les différences entre proactif et réactif de chargement, ainsi que les listes de professionnels de le, les inconvénients et les recommandations de mise en œuvre, reportez-vous à la [gestion du contenu d’un Cache](https://msdn.microsoft.com/library/ms978503.aspx) section de la [ Guide d’Architecture pour les Applications .NET Framework de la mise en cache](https://msdn.microsoft.com/library/ms978498.aspx).</span><span class="sxs-lookup"><span data-stu-id="8d74e-129">For a more in-depth look at the differences between proactive and reactive loading, as well as lists of pros, cons, and implementation recommendations, refer to the [Managing the Contents of a Cache](https://msdn.microsoft.com/library/ms978503.aspx) section of the [Caching Architecture Guide for .NET Framework Applications](https://msdn.microsoft.com/library/ms978498.aspx).</span></span>


## <a name="step-1-determining-what-data-to-cache-at-application-startup"></a><span data-ttu-id="8d74e-130">Étape 1 : Déterminer les données à mettre en Cache au démarrage de l’Application</span><span class="sxs-lookup"><span data-stu-id="8d74e-130">Step 1: Determining What Data to Cache at Application Startup</span></span>

<span data-ttu-id="8d74e-131">Les exemples de mise en cache à l’aide de chargement réactives que nous avons examiné dans le travail de deux didacticiels précédents bien avec les données qui peuvent changer régulièrement et ne prendront pas exorbitantly long à générer.</span><span class="sxs-lookup"><span data-stu-id="8d74e-131">The caching examples using reactive loading that we examined in the previous two tutorials work well with data that may periodically change and does not take exorbitantly long to generate.</span></span> <span data-ttu-id="8d74e-132">Mais si les données mises en cache ne changent jamais, l’expiration utilisée par chargement réactif est superflue.</span><span class="sxs-lookup"><span data-stu-id="8d74e-132">But if the cached data never changes, the expiry used by reactive loading is superfluous.</span></span> <span data-ttu-id="8d74e-133">De même, si les données en cours de mise en cache prend un temps extrêmement long pour générer, les utilisateurs dont les demandes de trouver le cache vide devra subir une longue attente alors que les données sous-jacentes sont récupérées.</span><span class="sxs-lookup"><span data-stu-id="8d74e-133">Likewise, if the data being cached takes an exceedingly long time to generate, then those users whose requests find the cache empty will have to endure a lengthy wait while the underlying data is retrieved.</span></span> <span data-ttu-id="8d74e-134">Envisagez la mise en cache des données statiques et les données qui prend énormément de temps pour générer au démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="8d74e-134">Consider caching static data and data that takes an exceptionally long time to generate at application startup.</span></span>

<span data-ttu-id="8d74e-135">Bases de données ont des nombreux dynamiques, valeurs changent fréquemment, la plupart ont également une grande quantité de données statiques.</span><span class="sxs-lookup"><span data-stu-id="8d74e-135">While databases have many dynamic, frequently-changing values, most also have a fair amount of static data.</span></span> <span data-ttu-id="8d74e-136">Par exemple, pratiquement tous les modèles de données ont une ou plusieurs colonnes qui contiennent une valeur particulière à partir d’un ensemble fixe de choix.</span><span class="sxs-lookup"><span data-stu-id="8d74e-136">For example, virtually all data models have one or more columns that contain a particular value from a fixed set of choices.</span></span> <span data-ttu-id="8d74e-137">A `Patients` table de base de données peut avoir un `PrimaryLanguage` colonne, dont l’ensemble de valeurs peut être en anglais, espagnol, Français, russe, japonais et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="8d74e-137">A `Patients` database table might have a `PrimaryLanguage` column, whose set of values could be English, Spanish, French, Russian, Japanese, and so on.</span></span> <span data-ttu-id="8d74e-138">Souvent, ces types de colonnes sont implémentées à l’aide de *tables de recherche*.</span><span class="sxs-lookup"><span data-stu-id="8d74e-138">Oftentimes, these types of columns are implemented using *lookup tables*.</span></span> <span data-ttu-id="8d74e-139">Au lieu de stockage de la chaîne en anglais ou Français dans le `Patients` table, une deuxième table est créée avec, généralement, deux colonnes - identificateur unique et une description de chaîne - avec un enregistrement pour chaque valeur possible.</span><span class="sxs-lookup"><span data-stu-id="8d74e-139">Rather than storing the string English or French in the `Patients` table, a second table is created that has, commonly, two columns - a unique identifier and a string description - with a record for each possible value.</span></span> <span data-ttu-id="8d74e-140">Le `PrimaryLanguage` colonne dans la `Patients` table stocke l’identificateur unique correspondant dans la table de recherche.</span><span class="sxs-lookup"><span data-stu-id="8d74e-140">The `PrimaryLanguage` column in the `Patients` table stores the corresponding unique identifier in the lookup table.</span></span> <span data-ttu-id="8d74e-141">Dans la Figure 1, patient John Doe s principal langue est anglais, tandis que Ed Johnson s est russe.</span><span class="sxs-lookup"><span data-stu-id="8d74e-141">In Figure 1, patient John Doe s primary language is English, while Ed Johnson s is Russian.</span></span>


![La Table de langues est une Table de recherche utilisé par la Table Patients](caching-data-at-application-startup-cs/_static/image1.png)

<span data-ttu-id="8d74e-143">**Figure 1**: le `Languages` Table est une Table de recherche utilisé par le `Patients` Table</span><span class="sxs-lookup"><span data-stu-id="8d74e-143">**Figure 1**: The `Languages` Table is a Lookup Table Used by the `Patients` Table</span></span>


<span data-ttu-id="8d74e-144">L’interface utilisateur pour la modification ou la création d’un nouveau patient comprend une liste déroulante des langues autorisées remplie par les enregistrements dans la `Languages` table.</span><span class="sxs-lookup"><span data-stu-id="8d74e-144">The user interface for editing or creating a new patient would include a drop-down list of allowable languages populated by the records in the `Languages` table.</span></span> <span data-ttu-id="8d74e-145">Sans mise en cache, chaque fois que cette interface est visité le système doit interroger le `Languages` table.</span><span class="sxs-lookup"><span data-stu-id="8d74e-145">Without caching, each time this interface is visited the system must query the `Languages` table.</span></span> <span data-ttu-id="8d74e-146">Il s’agit superflus et inutiles car les valeurs de table de recherche changent très rarement, voire jamais.</span><span class="sxs-lookup"><span data-stu-id="8d74e-146">This is wasteful and unnecessary since lookup table values change very infrequently, if ever.</span></span>

<span data-ttu-id="8d74e-147">Nous pouvons mettre en cache le `Languages` données en utilisant les mêmes techniques de chargement réactive examinés dans les didacticiels précédents.</span><span class="sxs-lookup"><span data-stu-id="8d74e-147">We could cache the `Languages` data using the same reactive loading techniques examined in the previous tutorials.</span></span> <span data-ttu-id="8d74e-148">Réactive le chargement, cependant, utilise une expiration basée sur le temps, ce qui n’est pas nécessaire pour les données de table de recherche statiques.</span><span class="sxs-lookup"><span data-stu-id="8d74e-148">Reactive loading, however, uses a time-based expiry, which is not needed for static lookup table data.</span></span> <span data-ttu-id="8d74e-149">Tandis que l’utilisation du chargement réactif la mise en cache est meilleure que tout aucune mise en cache, la meilleure approche serait de façon proactive charger les données de table de recherche dans le cache au démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="8d74e-149">While caching using reactive loading would be better than no caching at all, the best approach would be to proactively load the lookup table data into the cache at application startup.</span></span>

<span data-ttu-id="8d74e-150">Dans ce didacticiel, nous allons examiner comment les données du cache de la table de recherche et d’autres informations statiques.</span><span class="sxs-lookup"><span data-stu-id="8d74e-150">In this tutorial we will look at how to cache lookup table data and other static information.</span></span>

## <a name="step-2-examining-the-different-ways-to-cache-data"></a><span data-ttu-id="8d74e-151">Étape 2 : Examiner les différentes façons de mettre en Cache des données</span><span class="sxs-lookup"><span data-stu-id="8d74e-151">Step 2: Examining the Different Ways to Cache Data</span></span>

<span data-ttu-id="8d74e-152">Informations peuvent être mis en cache par programmation dans une application ASP.NET à l’aide de plusieurs méthodes.</span><span class="sxs-lookup"><span data-stu-id="8d74e-152">Information can be programmatically cached in an ASP.NET application using a variety of approaches.</span></span> <span data-ttu-id="8d74e-153">Nous avons déjà vu comment utiliser le cache de données dans les didacticiels précédents.</span><span class="sxs-lookup"><span data-stu-id="8d74e-153">We ve already seen how to use the data cache in previous tutorials.</span></span> <span data-ttu-id="8d74e-154">Vous pouvez également les objets peuvent être par programmation mis en cache à l’aide de *membres statiques* ou *état de l’application*.</span><span class="sxs-lookup"><span data-stu-id="8d74e-154">Alternatively, objects can be programmatically cached using *static members* or *application state*.</span></span>

<span data-ttu-id="8d74e-155">Lorsque vous travaillez avec une classe, en général, la classe doit être instanciée avant que ses membres sont accessibles.</span><span class="sxs-lookup"><span data-stu-id="8d74e-155">When working with a class, typically the class must first be instantiated before its members can be accessed.</span></span> <span data-ttu-id="8d74e-156">Par exemple, pour appeler une méthode à partir d’une des classes dans la couche de logique métier, nous devons d’abord créer une instance de la classe :</span><span class="sxs-lookup"><span data-stu-id="8d74e-156">For example, in order to invoke a method from one of the classes in our Business Logic Layer, we must first create an instance of the class:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample1.cs)]

<span data-ttu-id="8d74e-157">Avant que nous pouvons appeler *SomeMethod* ou fonctionnent avec *SomeProperty*, nous devons d’abord créer une instance de la classe à l’aide de la `new` (mot clé).</span><span class="sxs-lookup"><span data-stu-id="8d74e-157">Before we can invoke *SomeMethod* or work with *SomeProperty*, we must first create an instance of the class using the `new` keyword.</span></span> <span data-ttu-id="8d74e-158">*SomeMethod* et *SomeProperty* sont associés à une instance particulière.</span><span class="sxs-lookup"><span data-stu-id="8d74e-158">*SomeMethod* and *SomeProperty* are associated with a particular instance.</span></span> <span data-ttu-id="8d74e-159">La durée de vie de ces membres est liée à la durée de vie de leur objet associé.</span><span class="sxs-lookup"><span data-stu-id="8d74e-159">The lifetime of these members is tied to the lifetime of their associated object.</span></span> <span data-ttu-id="8d74e-160">*Les membres statiques*, quant à eux, sont des variables, propriétés et méthodes qui sont partagées entre *tous les* instances de la classe et, par conséquent, ont une durée de vie tant que la classe.</span><span class="sxs-lookup"><span data-stu-id="8d74e-160">*Static members*, on the other hand, are variables, properties, and methods that are shared among *all* instances of the class and, consequently, have a lifetime as long as the class.</span></span> <span data-ttu-id="8d74e-161">Les membres statiques sont signalées par le mot clé `static`.</span><span class="sxs-lookup"><span data-stu-id="8d74e-161">Static members are denoted by the keyword `static`.</span></span>

<span data-ttu-id="8d74e-162">En plus de membres statiques, données peuvent être mises en cache en utilisant l’état de l’application.</span><span class="sxs-lookup"><span data-stu-id="8d74e-162">In addition to static members, data can be cached using application state.</span></span> <span data-ttu-id="8d74e-163">Chaque application ASP.NET gère une collection nom/valeur s partagées entre tous les utilisateurs et les pages de l’application.</span><span class="sxs-lookup"><span data-stu-id="8d74e-163">Each ASP.NET application maintains a name/value collection that s shared across all users and pages of the application.</span></span> <span data-ttu-id="8d74e-164">Cette collection est accessible à l’aide de la [ `HttpContext` classe](https://msdn.microsoft.com/library/system.web.httpcontext.aspx) s [ `Application` propriété](https://msdn.microsoft.com/library/system.web.httpcontext.application.aspx)et utilisés à partir d’une classe code-behind de la page s ASP.NET comme suit :</span><span class="sxs-lookup"><span data-stu-id="8d74e-164">This collection can be accessed using the [`HttpContext` class](https://msdn.microsoft.com/library/system.web.httpcontext.aspx) s [`Application` property](https://msdn.microsoft.com/library/system.web.httpcontext.application.aspx), and used from an ASP.NET page s code-behind class like so:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample2.cs)]

<span data-ttu-id="8d74e-165">Le cache de données fournit une interface plus riche API de mise en cache de données, en offrant des mécanismes pour temporels et dépendance des expirations dans le, les priorités des éléments du cache et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="8d74e-165">The data cache provides a much richer API for caching data, providing mechanisms for time- and dependency-based expiries, cache item priorities, and so forth.</span></span> <span data-ttu-id="8d74e-166">Avec des membres statiques et l’état de l’application, ces fonctionnalités doivent être ajoutées manuellement par le développeur de pages.</span><span class="sxs-lookup"><span data-stu-id="8d74e-166">With static members and application state, such features must be manually added by the page developer.</span></span> <span data-ttu-id="8d74e-167">Toutefois, lors de la mise en cache des données au démarrage de l’application pour la durée de vie de l’application, les avantages de cache s de données sont hypothétiques.</span><span class="sxs-lookup"><span data-stu-id="8d74e-167">When caching data at application startup for the lifetime of the application, however, the data cache s advantages are moot.</span></span> <span data-ttu-id="8d74e-168">Dans ce didacticiel, nous allons examiner le code qui utilise ces trois techniques de mise en cache des données statiques.</span><span class="sxs-lookup"><span data-stu-id="8d74e-168">In this tutorial we'll look at code that uses all three techniques for caching static data.</span></span>

## <a name="step-3-caching-thesupplierstable-data"></a><span data-ttu-id="8d74e-169">Étape 3 : Mise en cache le`Suppliers`données de Table</span><span class="sxs-lookup"><span data-stu-id="8d74e-169">Step 3: Caching the`Suppliers`Table Data</span></span>

<span data-ttu-id="8d74e-170">Le tables de base de données nous ve implémenté à la date de Northwind n’incluent pas toutes les tables de correspondance classique.</span><span class="sxs-lookup"><span data-stu-id="8d74e-170">The Northwind database tables we ve implemented to date do not include any traditional lookup tables.</span></span> <span data-ttu-id="8d74e-171">Les quatre tables de données implémentée dans notre DAL toutes les tables de modèle dont les valeurs ne sont pas statiques.</span><span class="sxs-lookup"><span data-stu-id="8d74e-171">The four DataTables implemented in our DAL all model tables whose values are non-static.</span></span> <span data-ttu-id="8d74e-172">Plutôt que consacre du temps pour ajouter un nouveau DataTable à la couche DAL et ensuite une nouvelle classe et les méthodes à la couche BLL, pour ce didacticiel permettre s simplement prétendre qui le `Suppliers` données de la table s sont statiques.</span><span class="sxs-lookup"><span data-stu-id="8d74e-172">Rather than spending the time to add a new DataTable to the DAL and then a new class and methods to the BLL, for this tutorial let s just pretend that the `Suppliers` table s data is static.</span></span> <span data-ttu-id="8d74e-173">Par conséquent, nous pouvons mettre en cache ces données au démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="8d74e-173">Therefore, we could cache this data at application startup.</span></span>

<span data-ttu-id="8d74e-174">Pour commencer, créez une classe nommée `StaticCache.cs` dans le `CL` dossier.</span><span class="sxs-lookup"><span data-stu-id="8d74e-174">To start, create a new class named `StaticCache.cs` in the `CL` folder.</span></span>


![Créer la classe StaticCache.cs dans le dossier CL](caching-data-at-application-startup-cs/_static/image2.png)

<span data-ttu-id="8d74e-176">**Figure 2**: créer le `StaticCache.cs` classe dans le `CL` dossier</span><span class="sxs-lookup"><span data-stu-id="8d74e-176">**Figure 2**: Create the `StaticCache.cs` Class in the `CL` Folder</span></span>


<span data-ttu-id="8d74e-177">Nous devons ajouter une méthode qui charge les données au démarrage dans le magasin de cache appropriée, ainsi que les méthodes qui retournent des données à partir de ce cache.</span><span class="sxs-lookup"><span data-stu-id="8d74e-177">We need to add a method that loads the data at startup into the appropriate cache store, as well as methods that return data from this cache.</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample3.cs)]

<span data-ttu-id="8d74e-178">Le code ci-dessus utilise une variable membre static, `suppliers`, pour stocker les résultats de la `SuppliersBLL` classe s `GetSuppliers()` (méthode), qui est appelé à partir de la `LoadStaticCache()` (méthode).</span><span class="sxs-lookup"><span data-stu-id="8d74e-178">The above code uses a static member variable, `suppliers`, to hold the results from the `SuppliersBLL` class s `GetSuppliers()` method, which is called from the `LoadStaticCache()` method.</span></span> <span data-ttu-id="8d74e-179">Le `LoadStaticCache()` méthode est destinée à être appelée pendant le démarrage de l’application s.</span><span class="sxs-lookup"><span data-stu-id="8d74e-179">The `LoadStaticCache()` method is meant to be called during the application s start.</span></span> <span data-ttu-id="8d74e-180">Une fois que ces données ont été chargées au démarrage de l’application, n’importe quelle page qui doit fonctionner avec les données des fournisseurs peut appeler le `StaticCache` classe s `GetSuppliers()` (méthode).</span><span class="sxs-lookup"><span data-stu-id="8d74e-180">Once this data has been loaded at application startup, any page that needs to work with supplier data can call the `StaticCache` class s `GetSuppliers()` method.</span></span> <span data-ttu-id="8d74e-181">Par conséquent, l’appel à la base de données pour obtenir les fournisseurs ne se produit une seule fois, au démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="8d74e-181">Therefore, the call to the database to get the suppliers only happens once, at application start.</span></span>

<span data-ttu-id="8d74e-182">Au lieu d’utiliser une variable membre statique en tant que le stockage de cache, nous avons également utiliser état de l’application ou le cache de données.</span><span class="sxs-lookup"><span data-stu-id="8d74e-182">Rather than using a static member variable as the cache store, we could have alternatively used application state or the data cache.</span></span> <span data-ttu-id="8d74e-183">Le code suivant illustre la classe remaniée pour utiliser l’état de l’application :</span><span class="sxs-lookup"><span data-stu-id="8d74e-183">The following code shows the class retooled to use application state:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample4.cs)]

<span data-ttu-id="8d74e-184">Dans `LoadStaticCache()`, les informations de fournisseur sont stockées dans la variable d’application *clé*.</span><span class="sxs-lookup"><span data-stu-id="8d74e-184">In `LoadStaticCache()`, the supplier information is stored to the application variable *key*.</span></span> <span data-ttu-id="8d74e-185">Il s retourné en tant que le type approprié (`Northwind.SuppliersDataTable`) à partir de `GetSuppliers()`.</span><span class="sxs-lookup"><span data-stu-id="8d74e-185">It s returned as the appropriate type (`Northwind.SuppliersDataTable`) from `GetSuppliers()`.</span></span> <span data-ttu-id="8d74e-186">Alors que l’état de l’application sont accessibles dans les classes de code-behind des pages ASP.NET à l’aide de `Application["key"]`, de l’architecture, nous devons utiliser `HttpContext.Current.Application["key"]` afin d’obtenir en cours `HttpContext`.</span><span class="sxs-lookup"><span data-stu-id="8d74e-186">While application state can be accessed in the code-behind classes of ASP.NET pages using `Application["key"]`, in the architecture we must use `HttpContext.Current.Application["key"]` in order to get the current `HttpContext`.</span></span>

<span data-ttu-id="8d74e-187">De même, le cache de données peut servir comme magasin de cache, comme le montre le code suivant :</span><span class="sxs-lookup"><span data-stu-id="8d74e-187">Likewise, the data cache can be used as a cache store, as the following code shows:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample5.cs)]

<span data-ttu-id="8d74e-188">Pour ajouter un élément au cache de données sans expiration basée sur le temps, utilisez le `System.Web.Caching.Cache.NoAbsoluteExpiration` et `System.Web.Caching.Cache.NoSlidingExpiration` valeurs en tant que paramètres d’entrée.</span><span class="sxs-lookup"><span data-stu-id="8d74e-188">To add an item to the data cache with no time-based expiry, use the `System.Web.Caching.Cache.NoAbsoluteExpiration` and `System.Web.Caching.Cache.NoSlidingExpiration` values as input parameters.</span></span> <span data-ttu-id="8d74e-189">Cette surcharge particulière du cache de données s `Insert` méthode a été sélectionnée afin que nous pouvons spécifier le *priorité* de l’élément de cache.</span><span class="sxs-lookup"><span data-stu-id="8d74e-189">This particular overload of the data cache s `Insert` method was selected so that we could specify the *priority* of the cache item.</span></span> <span data-ttu-id="8d74e-190">La priorité est utilisée pour déterminer les éléments à récupérer à partir du cache lorsque la mémoire disponible est faible.</span><span class="sxs-lookup"><span data-stu-id="8d74e-190">The priority is used to determine what items to scavenge from the cache when available memory runs low.</span></span> <span data-ttu-id="8d74e-191">Nous utilisons ici la priorité `NotRemovable`, ce qui garantit que cet élément de cache a gagné t être nettoyés.</span><span class="sxs-lookup"><span data-stu-id="8d74e-191">Here we use the priority `NotRemovable`, which ensures that this cache item won t be scavenged.</span></span>

> [!NOTE]
> <span data-ttu-id="8d74e-192">Ce téléchargement didacticiel s implémente la `StaticCache` classe à l’aide de l’approche de variable membre statique.</span><span class="sxs-lookup"><span data-stu-id="8d74e-192">This tutorial s download implements the `StaticCache` class using the static member variable approach.</span></span> <span data-ttu-id="8d74e-193">Le code pour les techniques de cache état et les données d’application est disponible dans les commentaires dans le fichier de classe.</span><span class="sxs-lookup"><span data-stu-id="8d74e-193">The code for the application state and data cache techniques is available in the comments in the class file.</span></span>


## <a name="step-4-executing-code-at-application-startup"></a><span data-ttu-id="8d74e-194">Étape 4 : Exécution de Code au démarrage de l’Application</span><span class="sxs-lookup"><span data-stu-id="8d74e-194">Step 4: Executing Code at Application Startup</span></span>

<span data-ttu-id="8d74e-195">Pour exécuter le code de démarrage d’une application web, nous devons créer un fichier spécial nommé `Global.asax`.</span><span class="sxs-lookup"><span data-stu-id="8d74e-195">To execute code when a web application first starts, we need to create a special file named `Global.asax`.</span></span> <span data-ttu-id="8d74e-196">Ce fichier peut contenir des gestionnaires d’événements pour l’application-session-, et événements au niveau de la demande et il est là où nous pouvons ajouter le code qui sera exécuté chaque fois que l’application démarre.</span><span class="sxs-lookup"><span data-stu-id="8d74e-196">This file can contain event handlers for application-, session-, and request-level events, and it is here where we can add code that will be executed whenever the application starts.</span></span>

<span data-ttu-id="8d74e-197">Ajouter le `Global.asax` fichier dans votre répertoire racine de web application s en cliquant sur le nom de projet de site Web dans Visual Studio s l’Explorateur de solutions et en choisissant Ajouter un nouvel élément.</span><span class="sxs-lookup"><span data-stu-id="8d74e-197">Add the `Global.asax` file to your web application s root directory by right-clicking on the website project name in Visual Studio s Solution Explorer and choosing Add New Item.</span></span> <span data-ttu-id="8d74e-198">À partir de la boîte de dialogue Ajouter un nouvel élément, sélectionnez le type d’élément de classe d’Application globale, puis sur le bouton Ajouter.</span><span class="sxs-lookup"><span data-stu-id="8d74e-198">From the Add New Item dialog box, select the Global Application Class item type and then click the Add button.</span></span>

> [!NOTE]
> <span data-ttu-id="8d74e-199">Si vous avez déjà un `Global.asax` fichier dans votre projet, la classe d’Application globale type d’élément ne sera pas être répertorié dans la boîte de dialogue Ajouter un nouvel élément.</span><span class="sxs-lookup"><span data-stu-id="8d74e-199">If you already have a `Global.asax` file in your project, the Global Application Class item type will not be listed in the Add New Item dialog box.</span></span>


<span data-ttu-id="8d74e-200">[![Ajoutez le fichier Global.asax pour le répertoire racine s de votre Application Web](caching-data-at-application-startup-cs/_static/image4.png)](caching-data-at-application-startup-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="8d74e-200">[![Add the Global.asax File to Your Web Application s Root Directory](caching-data-at-application-startup-cs/_static/image4.png)](caching-data-at-application-startup-cs/_static/image3.png)</span></span>

<span data-ttu-id="8d74e-201">**Figure 3**: ajouter la `Global.asax` fichier à votre Application Web s répertoire racine ([cliquez pour afficher l’image en taille réelle](caching-data-at-application-startup-cs/_static/image5.png))</span><span class="sxs-lookup"><span data-stu-id="8d74e-201">**Figure 3**: Add the `Global.asax` File to Your Web Application s Root Directory ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image5.png))</span></span>


<span data-ttu-id="8d74e-202">La valeur par défaut `Global.asax` modèle de fichier inclut cinq méthodes au sein d’un côté serveur `<script>` balise :</span><span class="sxs-lookup"><span data-stu-id="8d74e-202">The default `Global.asax` file template includes five methods within a server-side `<script>` tag:</span></span>

- <span data-ttu-id="8d74e-203">**`Application_Start`** s’exécute au premier démarrage de l’application web</span><span class="sxs-lookup"><span data-stu-id="8d74e-203">**`Application_Start`** executes when the web application first starts</span></span>
- <span data-ttu-id="8d74e-204">**`Application_End`** s’exécute lorsque l’application est en cours d’arrêt</span><span class="sxs-lookup"><span data-stu-id="8d74e-204">**`Application_End`** runs when the application is shutting down</span></span>
- <span data-ttu-id="8d74e-205">**`Application_Error`** s’exécute chaque fois qu’une exception non gérée atteint l’application</span><span class="sxs-lookup"><span data-stu-id="8d74e-205">**`Application_Error`** executes whenever an unhandled exception reaches the application</span></span>
- <span data-ttu-id="8d74e-206">**`Session_Start`** s’exécute lorsqu’une nouvelle session est créée.</span><span class="sxs-lookup"><span data-stu-id="8d74e-206">**`Session_Start`** executes when a new session is created</span></span>
- <span data-ttu-id="8d74e-207">**`Session_End`** s’exécute lorsqu’une session a expiré ou a abandonné</span><span class="sxs-lookup"><span data-stu-id="8d74e-207">**`Session_End`** runs when a session is expired or abandoned</span></span>

<span data-ttu-id="8d74e-208">Le `Application_Start` Gestionnaire d’événements est appelé une seule fois pendant un cycle de vie de l’application s.</span><span class="sxs-lookup"><span data-stu-id="8d74e-208">The `Application_Start` event handler is called only once during an application s life cycle.</span></span> <span data-ttu-id="8d74e-209">Démarrage de l’application la première fois une ressource ASP.NET est demandée par l’application et continue de s’exécuter jusqu'à ce que l’application est redémarrée, ce qui peut se produire en modifiant le contenu de la `/Bin` dossier, modification `Global.asax`, modification le contenu dans le `App_Code` dossier, ou en modifiant le `Web.config` fichier, entre autres.</span><span class="sxs-lookup"><span data-stu-id="8d74e-209">The application starts the first time an ASP.NET resource is requested from the application and continues to run until the application is restarted, which can happen by modifying the contents of the `/Bin` folder, modifying `Global.asax`, modifying the contents in the `App_Code` folder, or modifying the `Web.config` file, among other causes.</span></span> <span data-ttu-id="8d74e-210">Reportez-vous à [vue d’ensemble du Cycle de vie ASP.NET Application](https://msdn.microsoft.com/library/ms178473.aspx) pour plus d’informations sur le cycle de vie d’application.</span><span class="sxs-lookup"><span data-stu-id="8d74e-210">Refer to [ASP.NET Application Life Cycle Overview](https://msdn.microsoft.com/library/ms178473.aspx) for a more detailed discussion on the application life cycle.</span></span>

<span data-ttu-id="8d74e-211">Pour ces didacticiels, nous avons besoin uniquement ajouter du code pour le `Application_Start` d’une méthode, c’est le cas hésitez pas à supprimer les autres.</span><span class="sxs-lookup"><span data-stu-id="8d74e-211">For these tutorials we only need to add code to the `Application_Start` method, so feel free to remove the others.</span></span> <span data-ttu-id="8d74e-212">Dans `Application_Start`, appelez simplement le `StaticCache` classe s `LoadStaticCache()` (méthode), qui charge et mettre en cache les informations de fournisseur :</span><span class="sxs-lookup"><span data-stu-id="8d74e-212">In `Application_Start`, simply call the `StaticCache` class s `LoadStaticCache()` method, which will load and cache the supplier information:</span></span>


[!code-aspx[Main](caching-data-at-application-startup-cs/samples/sample6.aspx)]

<span data-ttu-id="8d74e-213">Il est tout s !</span><span class="sxs-lookup"><span data-stu-id="8d74e-213">That s all there is to it!</span></span> <span data-ttu-id="8d74e-214">Au démarrage de l’application, le `LoadStaticCache()` méthode Saisissez les informations de fournisseur à partir de la couche BLL et stockez-le dans une variable membre statique (ou le cache stocker vous trouvez à l’aide de la `StaticCache` classe).</span><span class="sxs-lookup"><span data-stu-id="8d74e-214">At application startup, the `LoadStaticCache()` method will grab the supplier information from the BLL, and store it in a static member variable (or whatever cache store you ended up using in the `StaticCache` class).</span></span> <span data-ttu-id="8d74e-215">Pour vérifier ce comportement, définissez un point d’arrêt le `Application_Start` (méthode) et exécuter votre application.</span><span class="sxs-lookup"><span data-stu-id="8d74e-215">To verify this behavior, set a breakpoint in the `Application_Start` method and run your application.</span></span> <span data-ttu-id="8d74e-216">Notez que le point d’arrêt est atteint au démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="8d74e-216">Note that the breakpoint is hit upon the application starting.</span></span> <span data-ttu-id="8d74e-217">Les demandes suivantes, toutefois, n’entraînent pas la `Application_Start` méthode à exécuter.</span><span class="sxs-lookup"><span data-stu-id="8d74e-217">Subsequent requests, however, do not cause the `Application_Start` method to execute.</span></span>


<span data-ttu-id="8d74e-218">[![Utiliser un point d’arrêt pour vérifier que le Gestionnaire d’événements Application_Start est en cours d’exécution](caching-data-at-application-startup-cs/_static/image7.png)](caching-data-at-application-startup-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="8d74e-218">[![Use a Breakpoint to Verify that the Application_Start Event Handler is Being Executed](caching-data-at-application-startup-cs/_static/image7.png)](caching-data-at-application-startup-cs/_static/image6.png)</span></span>

<span data-ttu-id="8d74e-219">**Figure 4**: utiliser un point d’arrêt pour vérifier que le `Application_Start` Gestionnaire d’événements est en cours d’exécution ([cliquez pour afficher l’image en taille réelle](caching-data-at-application-startup-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="8d74e-219">**Figure 4**: Use a Breakpoint to Verify that the `Application_Start` Event Handler is Being Executed ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image8.png))</span></span>


> [!NOTE]
> <span data-ttu-id="8d74e-220">Si vous ne cliquez pas sur le `Application_Start` point d’arrêt lorsque vous commencez le débogage, il est fait que votre application a déjà commencé.</span><span class="sxs-lookup"><span data-stu-id="8d74e-220">If you do not hit the `Application_Start` breakpoint when you first start debugging, it is because your application has already started.</span></span> <span data-ttu-id="8d74e-221">Forcer l’application à redémarrer en modifiant votre `Global.asax` ou `Web.config` de fichiers, puis réessayez.</span><span class="sxs-lookup"><span data-stu-id="8d74e-221">Force the application to restart by modifying your `Global.asax` or `Web.config` files and then try again.</span></span> <span data-ttu-id="8d74e-222">Vous pouvez simplement ajouter (ou supprimer) une ligne vide à la fin de l’un de ces fichiers rapidement redémarrer l’application.</span><span class="sxs-lookup"><span data-stu-id="8d74e-222">You can simply add (or remove) a blank line at the end of one of these files to quickly restart the application.</span></span>


## <a name="step-5-displaying-the-cached-data"></a><span data-ttu-id="8d74e-223">Étape 5 : Afficher les données mises en cache</span><span class="sxs-lookup"><span data-stu-id="8d74e-223">Step 5: Displaying the Cached Data</span></span>

<span data-ttu-id="8d74e-224">À ce stade le `StaticCache` classe a une version des données de fournisseur mis en cache au démarrage de l’application qui sont accessibles via son `GetSuppliers()` (méthode).</span><span class="sxs-lookup"><span data-stu-id="8d74e-224">At this point the `StaticCache` class has a version of the supplier data cached at application startup that can be accessed through its `GetSuppliers()` method.</span></span> <span data-ttu-id="8d74e-225">Pour travailler avec ces données à partir de la couche de présentation, nous pouvons utiliser un ObjectDataSource ou appeler par programme la `StaticCache` classe s `GetSuppliers()` méthode d’une classe code-behind s de page ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8d74e-225">To work with this data from the Presentation Layer, we can use an ObjectDataSource or programmatically invoke the `StaticCache` class s `GetSuppliers()` method from an ASP.NET page s code-behind class.</span></span> <span data-ttu-id="8d74e-226">Permettent d’examiner l’utilisation des contrôles ObjectDataSource et GridView pour afficher les informations de mise en cache de fournisseur s.</span><span class="sxs-lookup"><span data-stu-id="8d74e-226">Let s look at using the ObjectDataSource and GridView controls to display the cached supplier information.</span></span>

<span data-ttu-id="8d74e-227">Commencez par ouvrir le `AtApplicationStartup.aspx` page dans le `Caching` dossier.</span><span class="sxs-lookup"><span data-stu-id="8d74e-227">Start by opening the `AtApplicationStartup.aspx` page in the `Caching` folder.</span></span> <span data-ttu-id="8d74e-228">Faites glisser un contrôle GridView à partir de la boîte à outils vers le concepteur, en définissant ses `ID` propriété `Suppliers`.</span><span class="sxs-lookup"><span data-stu-id="8d74e-228">Drag a GridView from the Toolbox onto the designer, setting its `ID` property to `Suppliers`.</span></span> <span data-ttu-id="8d74e-229">Ensuite, dans le contrôle GridView balise s Choisissez Créer un nouveau ObjectDataSource nommé `SuppliersCachedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="8d74e-229">Next, from the GridView s smart tag choose to create a new ObjectDataSource named `SuppliersCachedDataSource`.</span></span> <span data-ttu-id="8d74e-230">Configurer l’ObjectDataSource à utiliser le `StaticCache` classe s `GetSuppliers()` (méthode).</span><span class="sxs-lookup"><span data-stu-id="8d74e-230">Configure the ObjectDataSource to use the `StaticCache` class s `GetSuppliers()` method.</span></span>


<span data-ttu-id="8d74e-231">[![Configurer pour utiliser la classe StaticCache ObjectDataSource](caching-data-at-application-startup-cs/_static/image10.png)](caching-data-at-application-startup-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="8d74e-231">[![Configure the ObjectDataSource to use the StaticCache Class](caching-data-at-application-startup-cs/_static/image10.png)](caching-data-at-application-startup-cs/_static/image9.png)</span></span>

<span data-ttu-id="8d74e-232">**Figure 5**: configurer l’ObjectDataSource à utiliser le `StaticCache` classe ([cliquez pour afficher l’image en taille réelle](caching-data-at-application-startup-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="8d74e-232">**Figure 5**: Configure the ObjectDataSource to use the `StaticCache` Class ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image11.png))</span></span>


<span data-ttu-id="8d74e-233">[![Utilisez la méthode GetSuppliers() pour récupérer les données des fournisseurs de mise en cache](caching-data-at-application-startup-cs/_static/image13.png)](caching-data-at-application-startup-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="8d74e-233">[![Use the GetSuppliers() Method to Retrieve the Cached Supplier Data](caching-data-at-application-startup-cs/_static/image13.png)](caching-data-at-application-startup-cs/_static/image12.png)</span></span>

<span data-ttu-id="8d74e-234">**Figure 6**: utilisez le `GetSuppliers()` pour récupérer les données mises en cache des fournisseurs ([cliquez pour afficher l’image en taille réelle](caching-data-at-application-startup-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="8d74e-234">**Figure 6**: Use the `GetSuppliers()` Method to Retrieve the Cached Supplier Data ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image14.png))</span></span>


<span data-ttu-id="8d74e-235">Après la fin de l’Assistant, Visual Studio ajoute automatiquement BoundFields pour chacun des champs de données `SuppliersDataTable`.</span><span class="sxs-lookup"><span data-stu-id="8d74e-235">After completing the wizard, Visual Studio will automatically add BoundFields for each of the data fields in `SuppliersDataTable`.</span></span> <span data-ttu-id="8d74e-236">Votre balisage déclaratif s GridView et ObjectDataSource doit ressembler à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="8d74e-236">Your GridView and ObjectDataSource s declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](caching-data-at-application-startup-cs/samples/sample7.aspx)]

<span data-ttu-id="8d74e-237">La figure 7 illustre la page via un navigateur.</span><span class="sxs-lookup"><span data-stu-id="8d74e-237">Figure 7 shows the page when viewed through a browser.</span></span> <span data-ttu-id="8d74e-238">La sortie est le même avions nous extraites les données à partir de la couche BLL s `SuppliersBLL` classe, mais à l’aide de la `StaticCache` classe retourne les données des fournisseurs en tant que mises en cache au démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="8d74e-238">The output is the same had we pulled the data from the BLL s `SuppliersBLL` class, but using the `StaticCache` class returns the supplier data as cached at application startup.</span></span> <span data-ttu-id="8d74e-239">Vous pouvez définir des points d’arrêt dans le `StaticCache` classe s `GetSuppliers()` méthode pour vérifier ce comportement.</span><span class="sxs-lookup"><span data-stu-id="8d74e-239">You can set breakpoints in the `StaticCache` class s `GetSuppliers()` method to verify this behavior.</span></span>


<span data-ttu-id="8d74e-240">[![Les données mises en cache des fournisseurs s’affiche dans un contrôle GridView](caching-data-at-application-startup-cs/_static/image16.png)](caching-data-at-application-startup-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="8d74e-240">[![The Cached Supplier Data is Displayed in a GridView](caching-data-at-application-startup-cs/_static/image16.png)](caching-data-at-application-startup-cs/_static/image15.png)</span></span>

<span data-ttu-id="8d74e-241">**Figure 7**: la mise en cache les données des fournisseurs s’affiche dans un contrôle GridView ([cliquez pour afficher l’image en taille réelle](caching-data-at-application-startup-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="8d74e-241">**Figure 7**: The Cached Supplier Data is Displayed in a GridView ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image17.png))</span></span>


## <a name="summary"></a><span data-ttu-id="8d74e-242">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="8d74e-242">Summary</span></span>

<span data-ttu-id="8d74e-243">La plupart des chaque modèle de données contient une grande quantité de données statiques, généralement implémentées sous la forme de tables de recherche.</span><span class="sxs-lookup"><span data-stu-id="8d74e-243">Most every data model contains a fair amount of static data, usually implemented in the form of lookup tables.</span></span> <span data-ttu-id="8d74e-244">Étant donné que ces informations sont statiques, là s aucune raison de cette information doit être affichée en permanence pour accéder à la base de données chaque heure.</span><span class="sxs-lookup"><span data-stu-id="8d74e-244">Since this information is static, there s no reason to continually access the database each time this information needs to be displayed.</span></span> <span data-ttu-id="8d74e-245">En outre, en raison de sa nature statique, lors de la mise en cache les données là s pas nécessaire pour un délai d’expiration.</span><span class="sxs-lookup"><span data-stu-id="8d74e-245">Furthermore, due to its static nature, when caching the data there s no need for an expiry.</span></span> <span data-ttu-id="8d74e-246">Dans ce didacticiel, nous avons vu comment ces données en mémoire cache dans le cache de données, état de l’application et via une variable membre statique.</span><span class="sxs-lookup"><span data-stu-id="8d74e-246">In this tutorial we saw how to take such data and cache it in the data cache, application state, and through a static member variable.</span></span> <span data-ttu-id="8d74e-247">Ces informations sont mises en cache au démarrage de l’application et restent dans le cache pendant la durée de vie application s.</span><span class="sxs-lookup"><span data-stu-id="8d74e-247">This information is cached at application startup and remains in the cache throughout the application s lifetime.</span></span>

<span data-ttu-id="8d74e-248">Dans ce didacticiel et les deux derniers, nous ve effectue la recherche de données de mise en cache pour la durée de la durée de vie d’application s ainsi que d’à l’aide de la durée des expirations dans le.</span><span class="sxs-lookup"><span data-stu-id="8d74e-248">In this tutorial and the past two, we ve looked at caching data for the duration of the application s lifetime as well as using time-based expiries.</span></span> <span data-ttu-id="8d74e-249">Lors de la mise en cache de la base de données, cependant, une expiration basée sur le temps est peut-être pas idéale.</span><span class="sxs-lookup"><span data-stu-id="8d74e-249">When caching database data, though, a time-based expiry may be less than ideal.</span></span> <span data-ttu-id="8d74e-250">Plutôt que régulièrement vider le cache, il serait optimale pour supprimer uniquement l’élément mis en cache lorsque la base de données sous-jacente est modifié.</span><span class="sxs-lookup"><span data-stu-id="8d74e-250">Rather than periodically flushing the cache, it would be optimal to only evict the cached item when the underlying database data is modified.</span></span> <span data-ttu-id="8d74e-251">Cette valeur est possible grâce à l’utilisation des dépendances de cache SQL, lequel nous allons examiner dans notre didacticiel suivant.</span><span class="sxs-lookup"><span data-stu-id="8d74e-251">This ideal is possible through the use of SQL cache dependencies, which we'll examine in our next tutorial.</span></span>

<span data-ttu-id="8d74e-252">Bonne programmation !</span><span class="sxs-lookup"><span data-stu-id="8d74e-252">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="8d74e-253">À propos de l’auteur</span><span class="sxs-lookup"><span data-stu-id="8d74e-253">About the Author</span></span>

<span data-ttu-id="8d74e-254">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), auteur de sept manuels ASP/ASP.NET et créateur de [4GuysFromRolla.com](http://www.4guysfromrolla.com), travaille avec les technologies Web Microsoft depuis 1998.</span><span class="sxs-lookup"><span data-stu-id="8d74e-254">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="8d74e-255">Scott fonctionne comme un consultant indépendant, formateur et writer.</span><span class="sxs-lookup"><span data-stu-id="8d74e-255">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="8d74e-256">Son dernier ouvrage est [ *SAM animer vous-même ASP.NET 2.0 des dernières 24 heures*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="8d74e-256">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="8d74e-257">Il peut être atteint à [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) ou via son blog, qui se trouvent à [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="8d74e-257">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="8d74e-258">Remerciements</span><span class="sxs-lookup"><span data-stu-id="8d74e-258">Special Thanks To</span></span>

<span data-ttu-id="8d74e-259">Cette série de didacticiels a été révisée par plusieurs réviseurs utiles.</span><span class="sxs-lookup"><span data-stu-id="8d74e-259">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="8d74e-260">Les réviseurs tête pour ce didacticiel ont été Teresa Murphy et Zack Jones.</span><span class="sxs-lookup"><span data-stu-id="8d74e-260">Lead reviewers for this tutorial were Teresa Murphy and Zack Jones.</span></span> <span data-ttu-id="8d74e-261">Vous souhaitez consulter mes prochains articles MSDN ?</span><span class="sxs-lookup"><span data-stu-id="8d74e-261">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="8d74e-262">Dans ce cas, me supprimer une ligne à [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="8d74e-262">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="8d74e-263">[Précédent](caching-data-in-the-architecture-cs.md)
> [Suivant](using-sql-cache-dependencies-cs.md)</span><span class="sxs-lookup"><span data-stu-id="8d74e-263">[Previous](caching-data-in-the-architecture-cs.md)
[Next](using-sql-cache-dependencies-cs.md)</span></span>
