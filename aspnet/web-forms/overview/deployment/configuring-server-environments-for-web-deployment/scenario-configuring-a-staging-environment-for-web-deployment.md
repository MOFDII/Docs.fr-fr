---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/scenario-configuring-a-staging-environment-for-web-deployment
title: 'Scénario : Configuration d’un environnement intermédiaire pour le déploiement Web | Documents Microsoft'
author: jrjlee
description: Cette rubrique décrit un scénario de déploiement web classique pour un environnement intermédiaire et décrit les tâches que vous devez effectuer pour configurer un environnement similaire...
ms.author: aspnetcontent
manager: wpickett
ms.date: 05/04/2012
ms.topic: article
ms.assetid: 5a8e49b7-5317-4125-b107-7e2466b47bb3
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/scenario-configuring-a-staging-environment-for-web-deployment
msc.type: authoredcontent
ms.openlocfilehash: 3864559b0599091beeacb87e90e80a51285039df
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 04/06/2018
---
<a name="scenario-configuring-a-staging-environment-for-web-deployment"></a><span data-ttu-id="30e1d-103">Scénario : Configuration d’un environnement intermédiaire pour le déploiement Web</span><span class="sxs-lookup"><span data-stu-id="30e1d-103">Scenario: Configuring a Staging Environment for Web Deployment</span></span>
====================
<span data-ttu-id="30e1d-104">par [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="30e1d-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="30e1d-105">Télécharger le PDF</span><span class="sxs-lookup"><span data-stu-id="30e1d-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="30e1d-106">Cette rubrique décrit un scénario de déploiement web classique pour un environnement intermédiaire et décrit les tâches que vous devez effectuer pour configurer un environnement similaire.</span><span class="sxs-lookup"><span data-stu-id="30e1d-106">This topic describes a typical web deployment scenario for a staging environment and explains the tasks you need to complete in order to set up a similar environment.</span></span>


<span data-ttu-id="30e1d-107">Un grand nombre d’organisations utilisent des environnements intermédiaires pour afficher un aperçu des mises à jour des applications web ou des sites Web.</span><span class="sxs-lookup"><span data-stu-id="30e1d-107">Lots of organizations use staging environments to preview updates to web applications or websites.</span></span> <span data-ttu-id="30e1d-108">Cela permet de personnes de l’organisation pour Explorer et passez en revue les nouvelles fonctionnalités ou du contenu avant que le site « publié », ou en d’autres termes, est déployé dans un environnement de production.</span><span class="sxs-lookup"><span data-stu-id="30e1d-108">This gives people within the organization a chance to explore and review new functionality or content before the site "goes live," or in other words is deployed to a production environment.</span></span> <span data-ttu-id="30e1d-109">L’environnement intermédiaire est conçu pour répliquer l’environnement de production aussi fidèlement que possible, afin de fournir un aperçu réaliste.</span><span class="sxs-lookup"><span data-stu-id="30e1d-109">The staging environment is designed to replicate the production environment as closely as possible, in order to provide a realistic preview.</span></span> <span data-ttu-id="30e1d-110">Ce type d’environnement intermédiaire a généralement ces caractéristiques :</span><span class="sxs-lookup"><span data-stu-id="30e1d-110">This kind of staging environment typically has these characteristics:</span></span>

- <span data-ttu-id="30e1d-111">L’environnement se compose de plusieurs serveurs web d’équilibrage de la charge et un ou plusieurs serveurs de base de données, souvent avec le clustering de basculement et la mise en miroir de base de données.</span><span class="sxs-lookup"><span data-stu-id="30e1d-111">The environment consists of multiple load-balanced web servers and one or more database servers, often with failover clustering and database mirroring.</span></span>
- <span data-ttu-id="30e1d-112">Les applications peuvent être déployées manuellement par une équipe de développement ou automatiquement par un serveur Team Build.</span><span class="sxs-lookup"><span data-stu-id="30e1d-112">Applications may be deployed manually by a development team or automatically by a Team Build server.</span></span>
- <span data-ttu-id="30e1d-113">Les utilisateurs ou les comptes de processus que vous déploient des applications sont peu susceptibles d’avoir des privilèges d’administrateur sur les serveurs intermédiaires.</span><span class="sxs-lookup"><span data-stu-id="30e1d-113">The users or process accounts that deploy applications are unlikely to have administrator privileges on the staging servers.</span></span>
- <span data-ttu-id="30e1d-114">Modifications dans les applications sont déployées des intervalles fréquents, par conséquent, l’environnement doit prendre en charge de la seule étape ou déploiement automatisé.</span><span class="sxs-lookup"><span data-stu-id="30e1d-114">Changes to applications are deployed on a frequent basis, so the environment needs to support single-step or automated deployment.</span></span>

> [!NOTE]
> <span data-ttu-id="30e1d-115">Montée en puissance parallèle d’un déploiement de base de données sur plusieurs serveurs est dépasse le cadre de ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="30e1d-115">Scaling out a database deployment across multiple servers is beyond the scope of this tutorial.</span></span> <span data-ttu-id="30e1d-116">Pour plus d’informations sur cette zone, consultez [la documentation en ligne de SQL Server](https://technet.microsoft.com/library/ms130214.aspx).</span><span class="sxs-lookup"><span data-stu-id="30e1d-116">For more information on this area, please consult [SQL Server Books Online](https://technet.microsoft.com/library/ms130214.aspx).</span></span>


<span data-ttu-id="30e1d-117">Par exemple, dans notre [scénario du didacticiel](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md), Team Foundation Server (TFS) gère la solution de gestionnaire de contacts.</span><span class="sxs-lookup"><span data-stu-id="30e1d-117">For example, in our [tutorial scenario](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md), Team Foundation Server (TFS) manages the Contact Manager solution.</span></span> <span data-ttu-id="30e1d-118">L’administrateur TFS, Rob Walters, a créé une définition de build qui permet aux développeurs de déclencher un déploiement dans l’environnement intermédiaire en fonction des besoins.</span><span class="sxs-lookup"><span data-stu-id="30e1d-118">The TFS administrator, Rob Walters, has created a build definition that lets developers trigger a deployment to the staging environment as required.</span></span>

![](scenario-configuring-a-staging-environment-for-web-deployment/_static/image1.png)

<span data-ttu-id="30e1d-119">Notez que dans la plupart des cas, vous ne sont pas nécessairement déployer la build la plus récente dans l’environnement intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="30e1d-119">Note that in most cases, you won't necessarily want to deploy the latest build to the staging environment.</span></span> <span data-ttu-id="30e1d-120">Au lieu de cela, vous risquez beaucoup plus de déployer une build spécifique qui a déjà subi vérification dans l’environnement de test et la validation.</span><span class="sxs-lookup"><span data-stu-id="30e1d-120">Instead, you're a lot more likely to want to deploy a specific build that has already undergone validation and verification in the test environment.</span></span>

## <a name="solution-overview"></a><span data-ttu-id="30e1d-121">Vue d’ensemble de la solution</span><span class="sxs-lookup"><span data-stu-id="30e1d-121">Solution Overview</span></span>

<span data-ttu-id="30e1d-122">Dans ce scénario, vous pouvez déduire ces faits d’une analyse de la configuration requise du déploiement :</span><span class="sxs-lookup"><span data-stu-id="30e1d-122">In this scenario, you can deduce these facts from an analysis of the deployment requirements:</span></span>

- <span data-ttu-id="30e1d-123">Le compte d’utilisateur ou un processus qui effectue le déploiement ne dispose des privilèges administrateur sur les serveurs intermédiaires, les serveurs web intermédiaire doivent prendre en charge le déploiement des non administrateurs.</span><span class="sxs-lookup"><span data-stu-id="30e1d-123">The user or process account that performs the deployment won't have administrator privileges on the staging servers, so the staging web servers must support non-administrator deployment.</span></span> <span data-ttu-id="30e1d-124">Par conséquent, vous devez configurer les serveurs web intermédiaire pour utiliser le Gestionnaire de déploiement Web au lieu de l’agent distant.</span><span class="sxs-lookup"><span data-stu-id="30e1d-124">As such, you'll need to configure the staging web servers to use the Web Deploy Handler rather than the remote agent.</span></span>
- <span data-ttu-id="30e1d-125">L’environnement intermédiaire inclut plusieurs serveurs web, mais il doit prendre en charge de déploiement en un clic ou automatisé, vous devez utiliser Web Farm Framework (WFF) pour créer une batterie de serveurs.</span><span class="sxs-lookup"><span data-stu-id="30e1d-125">The staging environment includes multiple web servers, but it needs to support one-click or automated deployment, so you'll need to use the Web Farm Framework (WFF) to create a server farm.</span></span> <span data-ttu-id="30e1d-126">À l’aide de cette approche, vous pouvez déployer une application sur un serveur web (le serveur principal) et WFF réplique le déploiement sur tous les autres serveurs de web dans l’environnement intermédiaire.</span><span class="sxs-lookup"><span data-stu-id="30e1d-126">Using this approach, you can deploy an application to one web server (the primary server), and WFF will replicate the deployment on all the other web servers in the staging environment.</span></span>
- <span data-ttu-id="30e1d-127">Le compte d’utilisateur ou processus qui exécute le déploiement doit avoir les autorisations nécessaires pour créer des bases de données.</span><span class="sxs-lookup"><span data-stu-id="30e1d-127">The user or process account that performs the deployment must have permissions to create databases.</span></span> <span data-ttu-id="30e1d-128">Par conséquent, vous devez ajouter le compte à la **dbcreator** rôle de serveur sur le serveur de base de données, en plus de la configuration du serveur de base de données pour prendre en charge l’accès à distance et le déploiement.</span><span class="sxs-lookup"><span data-stu-id="30e1d-128">As such, you'll need to add the account to the **dbcreator** server role on the database server, in addition to configuring the database server to support remote access and deployment.</span></span>

<span data-ttu-id="30e1d-129">Ces rubriques fournissent toutes les informations dont vous avez besoin pour effectuer ces tâches :</span><span class="sxs-lookup"><span data-stu-id="30e1d-129">These topics provide all the information you need in order to complete these tasks:</span></span>

- <span data-ttu-id="30e1d-130">[Créer une batterie de serveurs avec l’infrastructure de batterie de serveurs Web](creating-a-server-farm-with-the-web-farm-framework.md).</span><span class="sxs-lookup"><span data-stu-id="30e1d-130">[Create a Server Farm with the Web Farm Framework](creating-a-server-farm-with-the-web-farm-framework.md).</span></span> <span data-ttu-id="30e1d-131">Cette rubrique décrit comment créer et configurer une batterie de serveurs à l’aide de WFF, afin que les produits de plateforme web et composants, paramètres de configuration et des sites Web et applications sont répliquées sur plusieurs serveurs web d’équilibrage de la charge.</span><span class="sxs-lookup"><span data-stu-id="30e1d-131">This topic describes how to create and configure a server farm using WFF, so that web platform products and components, configuration settings, and websites and applications are replicated across multiple load-balanced web servers.</span></span>
- <span data-ttu-id="30e1d-132">[Configurer un serveur Web pour la publication de déploiement Web (Gestionnaire de déploiement Web)](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span><span class="sxs-lookup"><span data-stu-id="30e1d-132">[Configure a Web Server for Web Deploy Publishing (Web Deploy Handler)](configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span></span> <span data-ttu-id="30e1d-133">Cette rubrique décrit comment créer un serveur web qui prend en charge le déploiement Web de publication, à l’aide de l’approche de l’agent distant, à partir d’une génération complète de Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="30e1d-133">This topic describes how to build a web server that supports Web Deploy publishing, using the remote agent approach, starting from a clean Windows Server 2008 R2 build.</span></span>
- <span data-ttu-id="30e1d-134">[Configurer un serveur de base de données de publication de déploiement Web](configuring-a-database-server-for-web-deploy-publishing.md).</span><span class="sxs-lookup"><span data-stu-id="30e1d-134">[Configure a Database Server for Web Deploy Publishing](configuring-a-database-server-for-web-deploy-publishing.md).</span></span> <span data-ttu-id="30e1d-135">Cette rubrique décrit comment configurer un serveur de base de données pour prendre en charge l’accès à distance et le déploiement, à partir d’une installation par défaut de SQL Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="30e1d-135">This topic describes how to configure a database server to support remote access and deployment, starting from a default installation of SQL Server 2008 R2.</span></span>

## <a name="further-reading"></a><span data-ttu-id="30e1d-136">informations supplémentaires</span><span class="sxs-lookup"><span data-stu-id="30e1d-136">Further Reading</span></span>

<span data-ttu-id="30e1d-137">Pour obtenir des conseils sur la configuration d’un environnement de test classique de développeur, consultez [scénario : configuration d’un environnement de Test pour le déploiement Web](scenario-configuring-a-test-environment-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="30e1d-137">For guidance on configuring a typical developer test environment, see [Scenario: Configuring a Test Environment for Web Deployment](scenario-configuring-a-test-environment-for-web-deployment.md).</span></span> <span data-ttu-id="30e1d-138">Pour obtenir des conseils sur la configuration d’un environnement de production typique, consultez [scénario : configuration d’un environnement de Production pour le déploiement Web](scenario-configuring-a-production-environment-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="30e1d-138">For guidance on configuring a typical production environment, see [Scenario: Configuring a Production Environment for Web Deployment](scenario-configuring-a-production-environment-for-web-deployment.md).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="30e1d-139">[Précédent](scenario-configuring-a-test-environment-for-web-deployment.md)
> [Suivant](scenario-configuring-a-production-environment-for-web-deployment.md)</span><span class="sxs-lookup"><span data-stu-id="30e1d-139">[Previous](scenario-configuring-a-test-environment-for-web-deployment.md)
[Next](scenario-configuring-a-production-environment-for-web-deployment.md)</span></span>
